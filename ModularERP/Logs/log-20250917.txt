2025-09-17 12:53:11.767 +03:00 [INF] Starting web host...
2025-09-17 12:53:12.546 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 12:53:12.549 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 12:53:12.630 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 12:53:12.632 +03:00 [INF] Hosting environment: Development
2025-09-17 12:53:12.633 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 12:53:26.953 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 12:53:27.278 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 330.0571ms
2025-09-17 12:53:27.343 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 12:53:27.348 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 4.5708ms
2025-09-17 12:53:28.908 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 12:53:28.962 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.8886ms
2025-09-17 12:53:29.151 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 12:53:29.239 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.9946ms
2025-09-17 13:08:38.852 +03:00 [INF] Starting web host...
2025-09-17 13:08:39.285 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 13:08:39.290 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 13:08:39.390 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 13:08:39.391 +03:00 [INF] Hosting environment: Development
2025-09-17 13:08:39.393 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 13:08:44.271 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 13:08:44.469 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 200.611ms
2025-09-17 13:08:44.499 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 13:08:44.508 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.949ms
2025-09-17 13:08:45.895 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 13:08:45.950 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.9866ms
2025-09-17 13:08:46.121 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 13:08:46.174 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.434ms
2025-09-17 13:39:26.033 +03:00 [INF] Starting web host...
2025-09-17 13:39:26.400 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 13:39:26.403 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 13:39:26.475 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 13:39:26.478 +03:00 [INF] Hosting environment: Development
2025-09-17 13:39:26.478 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 13:39:26.517 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 13:39:26.639 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 122.2716ms
2025-09-17 13:39:26.684 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 13:39:26.690 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.185ms
2025-09-17 13:39:27.909 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 13:39:27.945 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.53ms
2025-09-17 13:39:28.174 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 13:39:28.213 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.826ms
2025-09-17 13:39:32.769 +03:00 [INF] Starting web host...
2025-09-17 13:39:33.119 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 13:39:33.122 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 13:39:33.209 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 13:39:33.212 +03:00 [INF] Hosting environment: Development
2025-09-17 13:39:33.213 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 13:39:43.703 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 13:39:43.812 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 109.4207ms
2025-09-17 13:39:43.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 13:39:43.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 13:39:43.836 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 5.7316ms
2025-09-17 13:39:43.859 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.4662ms
2025-09-17 13:39:44.829 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 13:39:44.881 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.9916ms
2025-09-17 13:40:34.832 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/23b728a8-081c-44fb-850b-0adf1ffc51d3 - null null
2025-09-17 13:40:34.877 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/23b728a8-081c-44fb-850b-0adf1ffc51d3 - 307 0 null 44.8817ms
2025-09-17 13:40:34.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/23b728a8-081c-44fb-850b-0adf1ffc51d3 - null null
2025-09-17 13:40:34.934 +03:00 [INF] CORS policy execution successful.
2025-09-17 13:40:34.946 +03:00 [INF] Request started
2025-09-17 13:40:34.951 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 13:40:34.978 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 13:40:34.986 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 13:40:35.720 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 13:40:35.977 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 13:40:35.991 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 13:40:36.017 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 1031.0691ms
2025-09-17 13:40:36.019 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 13:40:36.021 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 13:40:36.026 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/23b728a8-081c-44fb-850b-0adf1ffc51d3 - 404 null application/json; charset=utf-8 1099.6529ms
2025-09-17 13:42:28.122 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/BankAccount - application/json 244
2025-09-17 13:42:28.126 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/BankAccount - 307 0 null 3.8732ms
2025-09-17 13:42:28.157 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - null null
2025-09-17 13:42:28.161 +03:00 [INF] CORS policy execution successful.
2025-09-17 13:42:28.167 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - 204 null null 9.6771ms
2025-09-17 13:42:28.169 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/BankAccount - application/json 244
2025-09-17 13:42:28.174 +03:00 [INF] CORS policy execution successful.
2025-09-17 13:42:28.175 +03:00 [INF] Request started
2025-09-17 13:42:28.177 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 13:42:28.183 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 13:42:28.252 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 13:42:28.256 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 69.3289ms
2025-09-17 13:42:28.258 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 13:42:28.260 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 13:42:28.261 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 92.4727ms
2025-09-17 13:43:49.835 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/BankAccount - application/json 244
2025-09-17 13:43:49.839 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/BankAccount - 307 0 null 3.9543ms
2025-09-17 13:43:49.868 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - null null
2025-09-17 13:43:49.875 +03:00 [INF] CORS policy execution successful.
2025-09-17 13:43:49.879 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - 204 null null 11.2664ms
2025-09-17 13:43:49.882 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/BankAccount - application/json 244
2025-09-17 13:43:49.887 +03:00 [INF] CORS policy execution successful.
2025-09-17 13:43:49.890 +03:00 [INF] Request started
2025-09-17 13:43:49.891 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 13:43:49.893 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 13:43:49.906 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 13:43:49.909 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 13.1984ms
2025-09-17 13:43:49.911 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 13:43:49.913 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 13:43:49.914 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 31.832ms
2025-09-17 13:53:28.759 +03:00 [INF] Starting web host...
2025-09-17 13:53:29.109 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 13:53:29.113 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 13:53:29.186 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 13:53:29.188 +03:00 [INF] Hosting environment: Development
2025-09-17 13:53:29.189 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 13:53:35.372 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 13:53:35.551 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 179.7439ms
2025-09-17 13:53:35.584 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 13:53:35.593 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 9.2237ms
2025-09-17 13:53:36.860 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 13:53:36.898 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.9207ms
2025-09-17 13:53:37.078 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 13:53:37.129 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.3296ms
2025-09-17 13:53:49.778 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 13:53:49.799 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 307 0 null 20.7946ms
2025-09-17 13:53:49.851 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 13:53:49.858 +03:00 [INF] CORS policy execution successful.
2025-09-17 13:53:49.867 +03:00 [INF] Request started
2025-09-17 13:53:49.870 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 13:53:49.886 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 13:53:49.893 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 13:53:50.494 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 13:53:50.699 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 13:53:50.717 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 13:53:50.740 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 846.4785ms
2025-09-17 13:53:50.742 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 13:53:50.744 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 13:53:50.749 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 404 null application/json; charset=utf-8 897.3449ms
2025-09-17 13:57:47.712 +03:00 [INF] Starting web host...
2025-09-17 13:57:49.108 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 13:57:49.113 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 13:57:49.217 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 13:57:49.221 +03:00 [INF] Hosting environment: Development
2025-09-17 13:57:49.223 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 13:57:57.583 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 13:57:57.639 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 307 0 null 58.9677ms
2025-09-17 13:57:57.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 13:57:57.699 +03:00 [INF] CORS policy execution successful.
2025-09-17 13:57:57.707 +03:00 [INF] Request started
2025-09-17 13:57:57.710 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 13:57:57.741 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 13:57:57.746 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 13:57:58.569 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 13:57:58.810 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 13:57:58.945 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 13:57:58.972 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 1226.2982ms
2025-09-17 13:57:58.976 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 13:57:58.978 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 13:57:58.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 404 null application/json; charset=utf-8 1291.0779ms
2025-09-17 13:59:14.657 +03:00 [INF] Starting web host...
2025-09-17 13:59:15.049 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 13:59:15.053 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 13:59:15.140 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 13:59:15.141 +03:00 [INF] Hosting environment: Development
2025-09-17 13:59:15.142 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 13:59:20.777 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 13:59:20.897 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 119.7445ms
2025-09-17 13:59:20.922 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 13:59:20.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.7889ms
2025-09-17 13:59:21.910 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 13:59:21.957 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.5615ms
2025-09-17 13:59:22.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 13:59:22.218 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.5948ms
2025-09-17 13:59:27.420 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 13:59:27.429 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 307 0 null 8.0035ms
2025-09-17 13:59:27.476 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 13:59:27.482 +03:00 [INF] CORS policy execution successful.
2025-09-17 13:59:27.493 +03:00 [INF] Request started
2025-09-17 13:59:27.496 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 13:59:27.514 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 13:59:27.520 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 13:59:28.181 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 13:59:28.414 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 13:59:28.432 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 13:59:28.455 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 934.0633ms
2025-09-17 13:59:28.457 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 13:59:28.460 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 13:59:28.467 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 404 null application/json; charset=utf-8 990.8591ms
2025-09-17 14:02:06.436 +03:00 [INF] Starting web host...
2025-09-17 14:02:07.059 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:02:07.063 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:02:07.185 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:02:07.187 +03:00 [INF] Hosting environment: Development
2025-09-17 14:02:07.189 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:02:09.894 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:02:10.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 148.361ms
2025-09-17 14:02:10.067 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:02:10.067 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:02:10.073 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.7631ms
2025-09-17 14:02:10.096 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.4976ms
2025-09-17 14:02:11.330 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:02:11.402 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.7913ms
2025-09-17 14:02:19.687 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:02:19.703 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 307 0 null 16.1945ms
2025-09-17 14:02:19.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:02:19.786 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:02:19.797 +03:00 [INF] Request started
2025-09-17 14:02:19.800 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:02:19.817 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:02:19.822 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:02:20.479 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:02:20.715 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:02:20.726 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:02:20.749 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 926.6359ms
2025-09-17 14:02:20.751 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:02:20.754 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 14:02:20.759 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 404 null application/json; charset=utf-8 980.0205ms
2025-09-17 14:04:29.547 +03:00 [INF] Starting web host...
2025-09-17 14:04:30.361 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:04:30.367 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:04:30.515 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:04:30.529 +03:00 [INF] Hosting environment: Development
2025-09-17 14:04:30.530 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:04:32.287 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:04:32.467 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 182.5886ms
2025-09-17 14:04:32.505 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:04:32.512 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.52ms
2025-09-17 14:04:33.845 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:04:33.887 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.74ms
2025-09-17 14:04:34.065 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:04:34.129 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 64.7161ms
2025-09-17 14:04:40.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:04:40.816 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 307 0 null 8.9876ms
2025-09-17 14:04:40.878 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:04:40.884 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:04:40.894 +03:00 [INF] Request started
2025-09-17 14:04:40.897 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:04:40.914 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:04:40.920 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:04:41.567 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:04:41.776 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:04:41.795 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:04:41.816 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 896.1832ms
2025-09-17 14:04:41.819 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:04:41.820 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 14:04:41.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 404 null application/json; charset=utf-8 948.7304ms
2025-09-17 14:05:52.327 +03:00 [INF] Starting web host...
2025-09-17 14:05:52.721 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:05:52.724 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:05:52.820 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:05:52.822 +03:00 [INF] Hosting environment: Development
2025-09-17 14:05:52.824 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:05:58.851 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:05:59.015 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 164.9141ms
2025-09-17 14:05:59.041 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:05:59.045 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:05:59.050 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 5.4735ms
2025-09-17 14:05:59.074 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.8253ms
2025-09-17 14:05:59.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:05:59.963 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.7187ms
2025-09-17 14:06:05.392 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:06:05.426 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 307 0 null 34.0403ms
2025-09-17 14:06:05.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:06:05.484 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:06:05.494 +03:00 [INF] Request started
2025-09-17 14:06:05.498 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:06:05.513 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:06:05.519 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:06:06.157 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:06:06.340 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:06:06.351 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:06:06.373 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 853.5398ms
2025-09-17 14:06:06.375 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:06:06.378 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 14:06:06.383 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 404 null application/json; charset=utf-8 905.2469ms
2025-09-17 14:06:57.598 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/Treasury/a2ae1dc5-6fcb-40cd-85db-2d9bc9346b45 - null null
2025-09-17 14:06:57.603 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/Treasury/a2ae1dc5-6fcb-40cd-85db-2d9bc9346b45 - 307 0 null 5.1704ms
2025-09-17 14:06:57.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Treasury/a2ae1dc5-6fcb-40cd-85db-2d9bc9346b45 - null null
2025-09-17 14:06:57.640 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:06:57.643 +03:00 [INF] Request started
2025-09-17 14:06:57.644 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuryById (ModularERP)'
2025-09-17 14:06:57.649 +03:00 [INF] Route matched with {action = "GetTreasuryById", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryDto]]] GetTreasuryById(System.Guid) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-17 14:06:58.251 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__request_Id_0='a2ae1dc5-6fcb-40cd-85db-2d9bc9346b45'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CompanyId], [t].[CreatedAt], [t].[CreatedById], [t].[CurrencyCode], [t].[DepositAcl], [t].[Description], [t].[IsActive], [t].[IsDeleted], [t].[Name], [t].[Status], [t].[UpdatedAt], [t].[UpdatedById], [t].[WithdrawAcl]
FROM [Treasuries] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__request_Id_0
2025-09-17 14:06:58.357 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__treasury_CompanyId_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[CreatedById], [c].[CurrencyCode], [c].[IsActive], [c].[IsDeleted], [c].[Name], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Companies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__treasury_CompanyId_0
2025-09-17 14:06:58.401 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__treasury_CurrencyCode_0='EGP' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Code], [c].[CreatedAt], [c].[CreatedById], [c].[Decimals], [c].[Id], [c].[IsActive], [c].[IsDeleted], [c].[Symbol], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Currencies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Code] = @__treasury_CurrencyCode_0
2025-09-17 14:06:58.491 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__treasury_Id_0='a2ae1dc5-6fcb-40cd-85db-2d9bc9346b45'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Treasuries] AS [t]
INNER JOIN [Vouchers] AS [v] ON [t].[Id] = [v].[TreasuryId]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__treasury_Id_0
2025-09-17 14:06:58.503 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:06:58.514 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuryById (ModularERP) in 861.6969ms
2025-09-17 14:06:58.517 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuryById (ModularERP)'
2025-09-17 14:06:58.519 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 14:06:58.526 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Treasury/a2ae1dc5-6fcb-40cd-85db-2d9bc9346b45 - 200 null application/json; charset=utf-8 895.8163ms
2025-09-17 14:10:30.405 +03:00 [INF] Starting web host...
2025-09-17 14:10:30.759 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:10:30.763 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:10:30.846 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:10:30.847 +03:00 [INF] Hosting environment: Development
2025-09-17 14:10:30.848 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:10:33.540 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:10:33.658 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 119.2017ms
2025-09-17 14:10:33.682 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:10:33.682 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:10:33.688 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.0194ms
2025-09-17 14:10:33.712 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.2462ms
2025-09-17 14:10:35.048 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:10:35.108 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.7288ms
2025-09-17 14:10:45.849 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/test/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:10:45.856 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/test/51d06860-8217-4352-97a0-7704d02cbecd - 307 0 null 7.5718ms
2025-09-17 14:10:45.899 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/test/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:10:45.906 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:10:45.915 +03:00 [INF] Request started
2025-09-17 14:10:45.920 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.Test (ModularERP)'
2025-09-17 14:10:45.939 +03:00 [INF] Route matched with {action = "Test", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Test(System.Guid, ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:10:45.945 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:10:46.618 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:10:47.192 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='51d06860-8217-4352-97a0-7704d02cbecd'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 14:10:47.286 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.BankAccounts.Models.BankAccount'.
2025-09-17 14:10:47.351 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.Test (ModularERP) in 1405.1772ms
2025-09-17 14:10:47.354 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.Test (ModularERP)'
2025-09-17 14:10:47.356 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 14:10:47.363 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/test/51d06860-8217-4352-97a0-7704d02cbecd - 200 null application/json; charset=utf-8 1464.4168ms
2025-09-17 14:11:00.829 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:11:00.834 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 307 0 null 5.0394ms
2025-09-17 14:11:00.840 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:11:00.846 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:11:00.848 +03:00 [INF] Request started
2025-09-17 14:11:00.851 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:11:00.857 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:11:00.954 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:11:00.960 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:11:00.970 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 109.2864ms
2025-09-17 14:11:00.973 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:11:00.975 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 14:11:00.977 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 404 null application/json; charset=utf-8 136.7673ms
2025-09-17 14:16:53.054 +03:00 [INF] Starting web host...
2025-09-17 14:16:53.526 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:16:53.529 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:16:53.618 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:16:53.619 +03:00 [INF] Hosting environment: Development
2025-09-17 14:16:53.621 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:16:59.613 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:16:59.735 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 122.0727ms
2025-09-17 14:16:59.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:16:59.766 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 7.7501ms
2025-09-17 14:17:00.877 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:17:00.916 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.691ms
2025-09-17 14:17:01.125 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:17:01.167 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.0378ms
2025-09-17 14:17:04.947 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:17:04.955 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 307 0 null 7.9015ms
2025-09-17 14:17:04.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - null null
2025-09-17 14:17:05.003 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:17:05.014 +03:00 [INF] Request started
2025-09-17 14:17:05.016 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:17:05.036 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:17:05.041 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:17:05.639 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:17:05.870 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:17:05.881 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:17:05.905 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 864.227ms
2025-09-17 14:17:05.908 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:17:05.910 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 14:17:05.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/51d06860-8217-4352-97a0-7704d02cbecd - 404 null application/json; charset=utf-8 918.5635ms
2025-09-17 14:24:21.511 +03:00 [INF] Starting web host...
2025-09-17 14:24:22.147 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:24:22.152 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:24:22.284 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:24:22.287 +03:00 [INF] Hosting environment: Development
2025-09-17 14:24:22.287 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:24:39.015 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:24:39.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 127.7865ms
2025-09-17 14:24:39.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:24:39.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 5.9414ms
2025-09-17 14:24:40.324 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:24:40.363 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.7198ms
2025-09-17 14:24:40.550 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:24:40.614 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.9679ms
2025-09-17 14:25:08.322 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 14:25:08.330 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 307 0 null 7.4ms
2025-09-17 14:25:08.368 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 14:25:08.374 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:25:08.384 +03:00 [INF] Request started
2025-09-17 14:25:08.388 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:25:08.405 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:25:08.412 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:25:09.107 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:25:09.298 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:25:09.309 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:25:09.329 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 916.7219ms
2025-09-17 14:25:09.333 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:25:09.335 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 14:25:09.340 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 404 null application/json; charset=utf-8 972.3481ms
2025-09-17 14:25:48.955 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/BankAccount - application/json 243
2025-09-17 14:25:48.960 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/BankAccount - 307 0 null 4.7518ms
2025-09-17 14:25:48.969 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - null null
2025-09-17 14:25:48.972 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:25:48.974 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - 204 null null 5.4439ms
2025-09-17 14:25:48.976 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/BankAccount - application/json 243
2025-09-17 14:25:48.981 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:25:48.982 +03:00 [INF] Request started
2025-09-17 14:25:48.983 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:25:48.990 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:25:49.066 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:25:49.071 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 75.185ms
2025-09-17 14:25:49.074 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:25:49.077 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 14:25:49.078 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 102.2075ms
2025-09-17 14:27:54.975 +03:00 [INF] Starting web host...
2025-09-17 14:27:55.413 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:27:55.416 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:27:55.508 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:27:55.510 +03:00 [INF] Hosting environment: Development
2025-09-17 14:27:55.512 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:28:00.339 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:28:00.457 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 117.9788ms
2025-09-17 14:28:00.485 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:28:00.494 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.4233ms
2025-09-17 14:28:01.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:28:01.542 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.3396ms
2025-09-17 14:28:01.722 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:28:01.829 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.6019ms
2025-09-17 14:28:08.333 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/BankAccount - application/json 243
2025-09-17 14:28:08.340 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/BankAccount - 307 0 null 7.8271ms
2025-09-17 14:28:08.380 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - null null
2025-09-17 14:28:08.386 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:28:08.388 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - 204 null null 7.4663ms
2025-09-17 14:28:08.392 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/BankAccount - application/json 243
2025-09-17 14:28:08.396 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:28:08.404 +03:00 [INF] Request started
2025-09-17 14:28:08.408 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:28:08.425 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:28:08.431 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:28:09.080 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:28:09.294 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:28:09.773 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__request_BankAccount_CompanyId_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a', @__request_BankAccount_AccountNumber_1='124' (Size = 50), @__request_BankAccount_BankName_2='dfgd' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_BankAccount_CompanyId_0 AND [b].[AccountNumber] = @__request_BankAccount_AccountNumber_1 AND [b].[BankName] = @__request_BankAccount_BankName_2
2025-09-17 14:28:09.814 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:28:09.829 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 1398.392ms
2025-09-17 14:28:09.831 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:28:09.834 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 14:28:09.841 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 1448.9954ms
2025-09-17 14:28:40.361 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 14:28:40.366 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 307 0 null 5.1817ms
2025-09-17 14:28:40.386 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 14:28:40.398 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:28:40.400 +03:00 [INF] Request started
2025-09-17 14:28:40.403 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:28:40.415 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:28:40.466 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:28:40.473 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 53.7787ms
2025-09-17 14:28:40.477 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:28:40.478 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 14:28:40.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 404 null application/json; charset=utf-8 94.3919ms
2025-09-17 14:28:49.878 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/BankAccount - application/json 243
2025-09-17 14:28:49.883 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/BankAccount - 307 0 null 4.394ms
2025-09-17 14:28:49.895 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - null null
2025-09-17 14:28:49.916 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:28:49.917 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - 204 null null 22.1877ms
2025-09-17 14:28:49.920 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/BankAccount - application/json 243
2025-09-17 14:28:49.929 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:28:49.931 +03:00 [INF] Request started
2025-09-17 14:28:49.932 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:28:49.933 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:28:49.953 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_BankAccount_CompanyId_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a', @__request_BankAccount_AccountNumber_1='124' (Size = 50), @__request_BankAccount_BankName_2='dfgd' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_BankAccount_CompanyId_0 AND [b].[AccountNumber] = @__request_BankAccount_AccountNumber_1 AND [b].[BankName] = @__request_BankAccount_BankName_2
2025-09-17 14:28:49.960 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:28:49.962 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 25.7868ms
2025-09-17 14:28:49.966 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:28:49.968 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 14:28:49.969 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 48.9444ms
2025-09-17 14:30:39.546 +03:00 [INF] Starting web host...
2025-09-17 14:30:40.050 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:30:40.055 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:30:40.195 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:30:40.197 +03:00 [INF] Hosting environment: Development
2025-09-17 14:30:40.198 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:30:47.195 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:30:47.383 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 188.6543ms
2025-09-17 14:30:47.411 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:30:47.412 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:30:47.415 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 4.1151ms
2025-09-17 14:30:47.440 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.3227ms
2025-09-17 14:30:49.061 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:30:49.134 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 73.3214ms
2025-09-17 14:30:59.527 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/BankAccount - application/json 243
2025-09-17 14:30:59.535 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/BankAccount - 307 0 null 7.8139ms
2025-09-17 14:30:59.600 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - null null
2025-09-17 14:30:59.605 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:30:59.607 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - 204 null null 7.4524ms
2025-09-17 14:30:59.610 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/BankAccount - application/json 243
2025-09-17 14:30:59.613 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:30:59.622 +03:00 [INF] Request started
2025-09-17 14:30:59.625 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:30:59.642 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:30:59.648 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:31:00.379 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:31:00.589 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:31:01.039 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__request_BankAccount_CompanyId_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a', @__request_BankAccount_AccountNumber_1='124' (Size = 50), @__request_BankAccount_BankName_2='dfgd' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_BankAccount_CompanyId_0 AND [b].[AccountNumber] = @__request_BankAccount_AccountNumber_1 AND [b].[BankName] = @__request_BankAccount_BankName_2
2025-09-17 14:31:01.079 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:31:01.095 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 1447.3759ms
2025-09-17 14:31:01.099 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:31:01.102 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 14:31:01.108 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 1498.0817ms
2025-09-17 14:32:11.669 +03:00 [INF] Starting web host...
2025-09-17 14:32:12.206 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:32:12.211 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:32:12.347 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:32:12.374 +03:00 [INF] Hosting environment: Development
2025-09-17 14:32:12.377 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:32:18.317 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:32:18.453 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 135.1078ms
2025-09-17 14:32:18.477 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:32:18.478 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:32:18.482 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 4.368ms
2025-09-17 14:32:18.513 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.9954ms
2025-09-17 14:32:19.262 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:32:19.335 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 72.8148ms
2025-09-17 14:32:24.815 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/BankAccount - application/json 243
2025-09-17 14:32:24.823 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/BankAccount - 307 0 null 8.1638ms
2025-09-17 14:32:24.864 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - null null
2025-09-17 14:32:24.869 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:32:24.873 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - 204 null null 8.748ms
2025-09-17 14:32:24.876 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/BankAccount - application/json 243
2025-09-17 14:32:24.880 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:32:24.889 +03:00 [INF] Request started
2025-09-17 14:32:24.892 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:32:24.907 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:32:24.913 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:32:25.534 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:32:25.741 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:32:26.160 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__request_BankAccount_CompanyId_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a', @__request_BankAccount_AccountNumber_1='124' (Size = 50), @__request_BankAccount_BankName_2='dfgd' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_BankAccount_CompanyId_0 AND [b].[AccountNumber] = @__request_BankAccount_AccountNumber_1 AND [b].[BankName] = @__request_BankAccount_BankName_2
2025-09-17 14:32:26.363 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='76d22594-df50-4f4e-95b7-fb68f806031b', @p1='124' (Nullable = false) (Size = 50), @p2='dfgd' (Nullable = false) (Size = 100), @p3='d36b22ee-69fd-491c-99a6-36faa8dbfd1a', @p4='2025-09-17T11:32:26.2004862Z', @p5=NULL (Size = 4000), @p6='EGP' (Nullable = false) (Size = 3), @p7='string' (Nullable = false) (Size = 4000), @p8='string' (Size = 4000), @p9='True', @p10='False', @p11='nvnv' (Nullable = false) (Size = 100), @p12='Active' (Nullable = false) (Size = 4000), @p13=NULL (DbType = DateTime2), @p14=NULL (Size = 4000), @p15='string' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BankAccounts] ([Id], [AccountNumber], [BankName], [CompanyId], [CreatedAt], [CreatedById], [CurrencyCode], [DepositAcl], [Description], [IsActive], [IsDeleted], [Name], [Status], [UpdatedAt], [UpdatedById], [WithdrawAcl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-09-17 14:32:26.386 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:32:26.425 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 1511.6594ms
2025-09-17 14:32:26.428 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 14:32:26.430 +03:00 [INF] Request completed successfully with status code 201
2025-09-17 14:32:26.438 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/BankAccount - 201 null application/json; charset=utf-8 1562.5262ms
2025-09-17 14:32:58.561 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - null null
2025-09-17 14:32:58.566 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 307 0 null 5.1894ms
2025-09-17 14:32:58.569 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - null null
2025-09-17 14:32:58.576 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:32:58.578 +03:00 [INF] Request started
2025-09-17 14:32:58.579 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:32:58.586 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:32:58.636 +03:00 [INF] Executing NotFoundObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:32:58.644 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 54.1782ms
2025-09-17 14:32:58.648 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:32:58.650 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 14:32:58.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 404 null application/json; charset=utf-8 81.8693ms
2025-09-17 14:33:58.072 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - application/json 295
2025-09-17 14:33:58.076 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 307 0 null 4.3438ms
2025-09-17 14:33:58.080 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - null null
2025-09-17 14:33:58.085 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:33:58.086 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 204 null null 5.902ms
2025-09-17 14:33:58.087 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - application/json 295
2025-09-17 14:33:58.092 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:33:58.094 +03:00 [INF] Request started
2025-09-17 14:33:58.095 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.UpdateBankAccount (ModularERP)'
2025-09-17 14:33:58.100 +03:00 [INF] Route matched with {action = "UpdateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]]] UpdateBankAccount(System.Guid, ModularERP.Modules.Finance.Features.BankAccounts.DTO.UpdateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:33:58.119 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-17 14:33:58.123 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.UpdateBankAccount (ModularERP) in 20.546ms
2025-09-17 14:33:58.126 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.UpdateBankAccount (ModularERP)'
2025-09-17 14:33:58.127 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 14:33:58.128 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 400 null application/json; charset=utf-8 40.5216ms
2025-09-17 14:55:25.743 +03:00 [INF] Starting web host...
2025-09-17 14:55:26.253 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:55:26.257 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:55:26.339 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:55:26.341 +03:00 [INF] Hosting environment: Development
2025-09-17 14:55:26.342 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:55:36.974 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:55:37.101 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 127.4383ms
2025-09-17 14:55:37.129 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:55:37.137 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 7.0684ms
2025-09-17 14:55:38.133 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:55:38.163 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.6561ms
2025-09-17 14:55:38.341 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:55:38.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.9253ms
2025-09-17 14:55:42.578 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - null null
2025-09-17 14:55:42.586 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 307 0 null 8.1658ms
2025-09-17 14:55:42.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - null null
2025-09-17 14:55:42.636 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:55:42.646 +03:00 [INF] Request started
2025-09-17 14:55:42.649 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:55:42.669 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:55:42.674 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:55:43.305 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:55:43.515 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:55:43.538 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:55:43.561 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 887.0008ms
2025-09-17 14:55:43.563 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:55:43.566 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 14:55:43.572 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 400 null application/json; charset=utf-8 941.5915ms
2025-09-17 14:57:48.099 +03:00 [INF] Starting web host...
2025-09-17 14:57:48.666 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:57:48.670 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:57:48.812 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:57:48.814 +03:00 [INF] Hosting environment: Development
2025-09-17 14:57:48.814 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:57:51.241 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:57:51.430 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 190.6134ms
2025-09-17 14:57:51.462 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:57:51.473 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.33ms
2025-09-17 14:57:52.044 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:57:52.075 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.4427ms
2025-09-17 14:57:52.172 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:57:52.221 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.3544ms
2025-09-17 14:58:01.154 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - null null
2025-09-17 14:58:01.160 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 307 0 null 6.453ms
2025-09-17 14:58:01.200 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - null null
2025-09-17 14:58:01.207 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:58:01.217 +03:00 [INF] Request started
2025-09-17 14:58:01.220 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:58:01.237 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:58:01.243 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:58:01.836 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:58:02.025 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:58:02.506 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__request_Id_0='76d22594-df50-4f4e-95b7-fb68f806031b'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__request_Id_0 AND [b].[IsDeleted] = CAST(0 AS bit)
2025-09-17 14:58:02.612 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__bankAccount_CompanyId_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[CreatedById], [c].[CurrencyCode], [c].[IsActive], [c].[IsDeleted], [c].[Name], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Companies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__bankAccount_CompanyId_0
2025-09-17 14:58:02.658 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__bankAccount_CurrencyCode_0='EGP' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Code], [c].[CreatedAt], [c].[CreatedById], [c].[Decimals], [c].[Id], [c].[IsActive], [c].[IsDeleted], [c].[Symbol], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Currencies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Code] = @__bankAccount_CurrencyCode_0
2025-09-17 14:58:02.691 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:58:02.715 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 1472.2546ms
2025-09-17 14:58:02.718 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 14:58:02.719 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 14:58:02.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 200 null application/json; charset=utf-8 1527.78ms
2025-09-17 14:58:35.454 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/company/d00cf078-c1ff-4feb-ae37-d66a827ae438?page=1&pageSize=10&search=E - null null
2025-09-17 14:58:35.459 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/company/d00cf078-c1ff-4feb-ae37-d66a827ae438?page=1&pageSize=10&search=E - 307 0 null 5.0915ms
2025-09-17 14:58:35.462 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/company/d00cf078-c1ff-4feb-ae37-d66a827ae438?page=1&pageSize=10&search=E - null null
2025-09-17 14:58:35.469 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:58:35.471 +03:00 [INF] Request started
2025-09-17 14:58:35.472 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountsByCompany (ModularERP)'
2025-09-17 14:58:35.478 +03:00 [INF] Route matched with {action = "GetBankAccountsByCompany", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetBankAccountsByCompany(System.Guid, Int32, Int32, System.String) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:58:35.539 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-17 14:58:35.544 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountsByCompany (ModularERP) in 62.5964ms
2025-09-17 14:58:35.546 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountsByCompany (ModularERP)'
2025-09-17 14:58:35.548 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 14:58:35.552 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/company/d00cf078-c1ff-4feb-ae37-d66a827ae438?page=1&pageSize=10&search=E - 400 null application/json; charset=utf-8 90.0095ms
2025-09-17 14:59:06.132 +03:00 [INF] Starting web host...
2025-09-17 14:59:06.707 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 14:59:06.711 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 14:59:06.840 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 14:59:06.842 +03:00 [INF] Hosting environment: Development
2025-09-17 14:59:06.843 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 14:59:10.840 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 14:59:10.975 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 135.8671ms
2025-09-17 14:59:11.006 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 14:59:11.006 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 14:59:11.016 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 9.3338ms
2025-09-17 14:59:11.032 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.7134ms
2025-09-17 14:59:12.185 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 14:59:12.234 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.3414ms
2025-09-17 14:59:22.283 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/company/d00cf078-c1ff-4feb-ae37-d66a827ae438?page=1&pageSize=10&search=E - null null
2025-09-17 14:59:22.291 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/company/d00cf078-c1ff-4feb-ae37-d66a827ae438?page=1&pageSize=10&search=E - 307 0 null 8.7281ms
2025-09-17 14:59:22.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/company/d00cf078-c1ff-4feb-ae37-d66a827ae438?page=1&pageSize=10&search=E - null null
2025-09-17 14:59:22.339 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:59:22.349 +03:00 [INF] Request started
2025-09-17 14:59:22.352 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountsByCompany (ModularERP)'
2025-09-17 14:59:22.371 +03:00 [INF] Route matched with {action = "GetBankAccountsByCompany", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetBankAccountsByCompany(System.Guid, Int32, Int32, System.String) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:59:22.376 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:59:22.994 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 14:59:23.187 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 14:59:23.615 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__request_CompanyId_0='d00cf078-c1ff-4feb-ae37-d66a827ae438', @__request_Search_1_contains='%E%' (Size = 100), @__request_Search_1_contains_1='%E%' (Size = 50), @__request_Search_1_contains_2='%E%' (Size = 4000), @__p_2='0', @__p_3='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_CompanyId_0 AND [b].[IsDeleted] = CAST(0 AS bit) AND ([b].[Name] LIKE @__request_Search_1_contains ESCAPE N'\' OR [b].[BankName] LIKE @__request_Search_1_contains ESCAPE N'\' OR [b].[AccountNumber] LIKE @__request_Search_1_contains_1 ESCAPE N'\' OR ([b].[Description] IS NOT NULL AND [b].[Description] LIKE @__request_Search_1_contains_2 ESCAPE N'\'))
ORDER BY [b].[BankName], [b].[Name]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-09-17 14:59:23.722 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__bankAccount_CompanyId_0='d00cf078-c1ff-4feb-ae37-d66a827ae438'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[CreatedById], [c].[CurrencyCode], [c].[IsActive], [c].[IsDeleted], [c].[Name], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Companies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__bankAccount_CompanyId_0
2025-09-17 14:59:23.763 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__bankAccount_CurrencyCode_0='EGP' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Code], [c].[CreatedAt], [c].[CreatedById], [c].[Decimals], [c].[Id], [c].[IsActive], [c].[IsDeleted], [c].[Symbol], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Currencies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Code] = @__bankAccount_CurrencyCode_0
2025-09-17 14:59:23.796 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-17 14:59:23.816 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountsByCompany (ModularERP) in 1439.4228ms
2025-09-17 14:59:23.819 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountsByCompany (ModularERP)'
2025-09-17 14:59:23.821 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 14:59:23.829 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/company/d00cf078-c1ff-4feb-ae37-d66a827ae438?page=1&pageSize=10&search=E - 200 null application/json; charset=utf-8 1498.0772ms
2025-09-17 14:59:52.686 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 14:59:52.716 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 307 0 null 30.2251ms
2025-09-17 14:59:52.731 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 14:59:52.736 +03:00 [INF] CORS policy execution successful.
2025-09-17 14:59:52.737 +03:00 [INF] Request started
2025-09-17 14:59:52.738 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP)'
2025-09-17 14:59:52.745 +03:00 [INF] Route matched with {action = "GetBankAccountStatistics", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountStatisticsDto]]] GetBankAccountStatistics(System.Nullable`1[System.Guid], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 14:59:52.806 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountStatisticsDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 14:59:52.812 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP) in 62.7355ms
2025-09-17 14:59:52.814 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP)'
2025-09-17 14:59:52.815 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 14:59:52.816 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 400 null application/json; charset=utf-8 84.8666ms
2025-09-17 15:00:16.373 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 15:00:16.378 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 307 0 null 4.4766ms
2025-09-17 15:00:16.385 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 15:00:16.389 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:00:16.391 +03:00 [INF] Request started
2025-09-17 15:00:16.392 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP)'
2025-09-17 15:00:16.393 +03:00 [INF] Route matched with {action = "GetBankAccountStatistics", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountStatisticsDto]]] GetBankAccountStatistics(System.Nullable`1[System.Guid], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:00:16.405 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountStatisticsDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 15:00:16.408 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP) in 12.7975ms
2025-09-17 15:00:16.410 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP)'
2025-09-17 15:00:16.412 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 15:00:16.413 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 400 null application/json; charset=utf-8 28.1002ms
2025-09-17 15:00:21.297 +03:00 [INF] Starting web host...
2025-09-17 15:00:21.850 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 15:00:21.854 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 15:00:21.986 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 15:00:21.987 +03:00 [INF] Hosting environment: Development
2025-09-17 15:00:21.988 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 15:00:26.388 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 15:00:26.516 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 126.8314ms
2025-09-17 15:00:26.542 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 15:00:26.548 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.772ms
2025-09-17 15:00:27.527 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 15:00:27.566 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.5075ms
2025-09-17 15:00:27.775 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 15:00:27.874 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.2617ms
2025-09-17 15:00:38.501 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 15:00:38.508 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 307 0 null 7.2462ms
2025-09-17 15:00:38.548 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 15:00:38.554 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:00:38.564 +03:00 [INF] Request started
2025-09-17 15:00:38.567 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP)'
2025-09-17 15:00:38.585 +03:00 [INF] Route matched with {action = "GetBankAccountStatistics", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountStatisticsDto]]] GetBankAccountStatistics(System.Nullable`1[System.Guid], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:00:38.590 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 15:00:39.297 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 15:00:39.851 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__request_CompanyId_Value_0='d00cf078-c1ff-4feb-ae37-d66a827ae438'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_CompanyId_Value_0
2025-09-17 15:00:39.942 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountStatisticsDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 15:00:39.960 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP) in 1368.7376ms
2025-09-17 15:00:39.963 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP)'
2025-09-17 15:00:39.965 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 15:00:39.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/statistics?companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 200 null application/json; charset=utf-8 1423.1048ms
2025-09-17 15:01:11.197 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/statistics?companyId=d36b22ee-69fd-491c-99a6-36faa8dbfd1a - null null
2025-09-17 15:01:11.203 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/statistics?companyId=d36b22ee-69fd-491c-99a6-36faa8dbfd1a - 307 0 null 5.9602ms
2025-09-17 15:01:11.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/statistics?companyId=d36b22ee-69fd-491c-99a6-36faa8dbfd1a - null null
2025-09-17 15:01:11.220 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:01:11.221 +03:00 [INF] Request started
2025-09-17 15:01:11.222 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP)'
2025-09-17 15:01:11.223 +03:00 [INF] Route matched with {action = "GetBankAccountStatistics", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountStatisticsDto]]] GetBankAccountStatistics(System.Nullable`1[System.Guid], System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:01:11.280 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_CompanyId_Value_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_CompanyId_Value_0
2025-09-17 15:01:11.287 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountStatisticsDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 15:01:11.289 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP) in 63.6207ms
2025-09-17 15:01:11.291 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountStatistics (ModularERP)'
2025-09-17 15:01:11.293 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 15:01:11.294 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/statistics?companyId=d36b22ee-69fd-491c-99a6-36faa8dbfd1a - 200 null application/json; charset=utf-8 81.1621ms
2025-09-17 15:01:31.926 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd/permissions - null null
2025-09-17 15:01:31.931 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd/permissions - 307 0 null 4.7866ms
2025-09-17 15:01:31.937 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd/permissions - null null
2025-09-17 15:01:31.941 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:01:31.944 +03:00 [INF] Request started
2025-09-17 15:01:31.946 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetPermissions (ModularERP)'
2025-09-17 15:01:31.950 +03:00 [INF] Route matched with {action = "GetPermissions", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.WalletPermissions.DTO.WalletPermissionDto]]] GetPermissions(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:01:31.976 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='341a7419-3d26-4908-a5dc-28f03bed5ebd'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 15:01:31.982 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.WalletPermissions.DTO.WalletPermissionDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 15:01:31.988 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetPermissions (ModularERP) in 35.3523ms
2025-09-17 15:01:31.991 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetPermissions (ModularERP)'
2025-09-17 15:01:31.992 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 15:01:31.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd/permissions - 200 null application/json; charset=utf-8 56.8719ms
2025-09-17 15:01:41.818 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 15:01:41.823 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 307 0 null 4.9538ms
2025-09-17 15:01:41.825 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 15:01:41.830 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:01:41.831 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 204 null null 5.8671ms
2025-09-17 15:01:41.834 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 15:01:41.837 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:01:41.838 +03:00 [INF] Request started
2025-09-17 15:01:41.839 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.DeleteBankAccount (ModularERP)'
2025-09-17 15:01:41.844 +03:00 [INF] Route matched with {action = "DeleteBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]]] DeleteBankAccount(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:01:41.850 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-17 15:01:41.854 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.DeleteBankAccount (ModularERP) in 8.0639ms
2025-09-17 15:01:41.856 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.DeleteBankAccount (ModularERP)'
2025-09-17 15:01:41.859 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 15:01:41.860 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 400 null application/json; charset=utf-8 26.4626ms
2025-09-17 15:02:05.290 +03:00 [INF] Starting web host...
2025-09-17 15:02:05.766 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 15:02:05.769 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 15:02:05.883 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 15:02:05.884 +03:00 [INF] Hosting environment: Development
2025-09-17 15:02:05.886 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 15:02:07.706 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 15:02:07.826 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 119.9435ms
2025-09-17 15:02:07.848 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 15:02:07.848 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 15:02:07.856 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 7.8561ms
2025-09-17 15:02:07.872 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.5813ms
2025-09-17 15:02:09.057 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 15:02:09.107 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.4154ms
2025-09-17 15:02:12.701 +03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 15:02:12.709 +03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5004/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 307 0 null 7.987ms
2025-09-17 15:02:12.750 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 15:02:12.756 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:02:12.759 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 204 null null 9.2127ms
2025-09-17 15:02:12.764 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 15:02:12.767 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:02:12.776 +03:00 [INF] Request started
2025-09-17 15:02:12.780 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.DeleteBankAccount (ModularERP)'
2025-09-17 15:02:12.797 +03:00 [INF] Route matched with {action = "DeleteBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]]] DeleteBankAccount(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:02:12.803 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 15:02:13.531 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 15:02:14.193 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__request_Id_0='341a7419-3d26-4908-a5dc-28f03bed5ebd'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__request_Id_0 AND [b].[IsDeleted] = CAST(0 AS bit)
2025-09-17 15:02:14.373 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_Id_0='341a7419-3d26-4908-a5dc-28f03bed5ebd'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BankAccounts] AS [b]
INNER JOIN [Vouchers] AS [v] ON [b].[Id] = [v].[BankAccountId]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__request_Id_0
2025-09-17 15:02:14.483 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p15='341a7419-3d26-4908-a5dc-28f03bed5ebd', @p0='1234567890' (Nullable = false) (Size = 50), @p1='National Bank of Egypt' (Nullable = false) (Size = 100), @p2='d36b22ee-69fd-491c-99a6-36faa8dbfd1a', @p3='2025-09-16T01:19:48.5666667', @p4='731B0EFE-4531-453F-93DD-BB7A6143A2C3' (Size = 4000), @p5='EGP' (Nullable = false) (Size = 3), @p6='User1,User2' (Nullable = false) (Size = 4000), @p7='Main operating account for company expenses' (Size = 4000), @p8='True', @p9='True', @p10='Main Account' (Nullable = false) (Size = 100), @p11='Active' (Nullable = false) (Size = 4000), @p12='2025-09-17T12:02:14.3784211Z' (Nullable = true), @p13='E44F01FF-8AD8-4F39-83E0-89505CAC2819' (Size = 4000), @p14='User1,5dbceb39-9677-46d7-bf8a-2eb914c55437' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BankAccounts] SET [AccountNumber] = @p0, [BankName] = @p1, [CompanyId] = @p2, [CreatedAt] = @p3, [CreatedById] = @p4, [CurrencyCode] = @p5, [DepositAcl] = @p6, [Description] = @p7, [IsActive] = @p8, [IsDeleted] = @p9, [Name] = @p10, [Status] = @p11, [UpdatedAt] = @p12, [UpdatedById] = @p13, [WithdrawAcl] = @p14
OUTPUT 1
WHERE [Id] = @p15;
2025-09-17 15:02:14.503 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-17 15:02:14.521 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.DeleteBankAccount (ModularERP) in 1717.0656ms
2025-09-17 15:02:14.524 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.DeleteBankAccount (ModularERP)'
2025-09-17 15:02:14.526 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 15:02:14.535 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7168/api/BankAccount/341a7419-3d26-4908-a5dc-28f03bed5ebd - 200 null application/json; charset=utf-8 1771.6088ms
2025-09-17 15:02:50.653 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 15:02:50.657 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 307 0 null 3.6815ms
2025-09-17 15:02:50.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 15:02:50.689 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:02:50.692 +03:00 [INF] Request started
2025-09-17 15:02:50.694 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-17 15:02:50.702 +03:00 [INF] Route matched with {action = "GetAllBankAccounts", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetAllBankAccounts(Int32, Int32, System.String, System.String, Boolean, System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:02:50.821 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 15:02:50.826 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-17 15:02:50.835 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP) in 129.9984ms
2025-09-17 15:02:50.837 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-17 15:02:50.838 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 15:02:50.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 400 null application/json; charset=utf-8 158.1549ms
2025-09-17 15:03:27.268 +03:00 [INF] Starting web host...
2025-09-17 15:03:27.880 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 15:03:27.885 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 15:03:28.017 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 15:03:28.019 +03:00 [INF] Hosting environment: Development
2025-09-17 15:03:28.020 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 15:03:28.476 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 15:03:28.664 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 190.1304ms
2025-09-17 15:03:28.700 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 15:03:28.707 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.6315ms
2025-09-17 15:03:30.051 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 15:03:30.086 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.6093ms
2025-09-17 15:03:30.259 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 15:03:30.346 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.6796ms
2025-09-17 15:03:36.264 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false - null null
2025-09-17 15:03:36.273 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false - 307 0 null 9.0209ms
2025-09-17 15:03:36.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false - null null
2025-09-17 15:03:36.321 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:03:36.333 +03:00 [INF] Request started
2025-09-17 15:03:36.337 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-17 15:03:36.356 +03:00 [INF] Route matched with {action = "GetAllBankAccounts", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetAllBankAccounts(Int32, Int32, System.String, System.String, Boolean, System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:03:36.362 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 15:03:37.103 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 15:03:37.360 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 15:03:37.880 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__request_SearchTerm_0_contains='%E%' (Size = 100), @__request_SearchTerm_0_contains_1='%E%' (Size = 50), @__request_SearchTerm_0_contains_2='%E%' (Size = 4000), @__p_1='0', @__p_2='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND ([b].[Name] LIKE @__request_SearchTerm_0_contains ESCAPE N'\' OR [b].[BankName] LIKE @__request_SearchTerm_0_contains ESCAPE N'\' OR [b].[AccountNumber] LIKE @__request_SearchTerm_0_contains_1 ESCAPE N'\' OR ([b].[Description] IS NOT NULL AND [b].[Description] LIKE @__request_SearchTerm_0_contains_2 ESCAPE N'\'))
ORDER BY [b].[BankName], [b].[Name]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-09-17 15:03:38.010 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__bankAccount_CompanyId_0='d00cf078-c1ff-4feb-ae37-d66a827ae438'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[CreatedById], [c].[CurrencyCode], [c].[IsActive], [c].[IsDeleted], [c].[Name], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Companies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__bankAccount_CompanyId_0
2025-09-17 15:03:38.059 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bankAccount_CurrencyCode_0='EGP' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Code], [c].[CreatedAt], [c].[CreatedById], [c].[Decimals], [c].[Id], [c].[IsActive], [c].[IsDeleted], [c].[Symbol], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Currencies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Code] = @__bankAccount_CurrencyCode_0
2025-09-17 15:03:38.141 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__bankAccount_Id_0='51d06860-8217-4352-97a0-7704d02cbecd'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BankAccounts] AS [b]
INNER JOIN [Vouchers] AS [v] ON [b].[Id] = [v].[BankAccountId]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__bankAccount_Id_0
2025-09-17 15:03:38.149 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bankAccount_CompanyId_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[CreatedById], [c].[CurrencyCode], [c].[IsActive], [c].[IsDeleted], [c].[Name], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Companies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__bankAccount_CompanyId_0
2025-09-17 15:03:38.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bankAccount_CurrencyCode_0='USD' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Code], [c].[CreatedAt], [c].[CreatedById], [c].[Decimals], [c].[Id], [c].[IsActive], [c].[IsDeleted], [c].[Symbol], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Currencies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Code] = @__bankAccount_CurrencyCode_0
2025-09-17 15:03:38.158 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bankAccount_Id_0='23b728a8-081c-44fb-850b-0adf1ffc51d3'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BankAccounts] AS [b]
INNER JOIN [Vouchers] AS [v] ON [b].[Id] = [v].[BankAccountId]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__bankAccount_Id_0
2025-09-17 15:03:38.162 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bankAccount_CompanyId_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[CreatedById], [c].[CurrencyCode], [c].[IsActive], [c].[IsDeleted], [c].[Name], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Companies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__bankAccount_CompanyId_0
2025-09-17 15:03:38.166 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bankAccount_CurrencyCode_0='EGP' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Code], [c].[CreatedAt], [c].[CreatedById], [c].[Decimals], [c].[Id], [c].[IsActive], [c].[IsDeleted], [c].[Symbol], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Currencies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Code] = @__bankAccount_CurrencyCode_0
2025-09-17 15:03:38.170 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bankAccount_Id_0='341a7419-3d26-4908-a5dc-28f03bed5ebd'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BankAccounts] AS [b]
INNER JOIN [Vouchers] AS [v] ON [b].[Id] = [v].[BankAccountId]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__bankAccount_Id_0
2025-09-17 15:03:38.179 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-17 15:03:38.199 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP) in 1837.1153ms
2025-09-17 15:03:38.203 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-17 15:03:38.205 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 15:03:38.212 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false - 200 null application/json; charset=utf-8 1896.4417ms
2025-09-17 15:03:57.740 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 15:03:57.745 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=341a7419-3d26-4908-a5dc-28f03bed5ebd - 307 0 null 4.4035ms
2025-09-17 15:03:57.750 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=341a7419-3d26-4908-a5dc-28f03bed5ebd - null null
2025-09-17 15:03:57.755 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:03:57.756 +03:00 [INF] Request started
2025-09-17 15:03:57.757 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-17 15:03:57.759 +03:00 [INF] Route matched with {action = "GetAllBankAccounts", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetAllBankAccounts(Int32, Int32, System.String, System.String, Boolean, System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:03:57.817 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_CompanyId_Value_0='341a7419-3d26-4908-a5dc-28f03bed5ebd', @__request_SearchTerm_1_contains='%E%' (Size = 100), @__request_SearchTerm_1_contains_1='%E%' (Size = 50), @__request_SearchTerm_1_contains_2='%E%' (Size = 4000), @__p_2='0', @__p_3='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_CompanyId_Value_0 AND ([b].[Name] LIKE @__request_SearchTerm_1_contains ESCAPE N'\' OR [b].[BankName] LIKE @__request_SearchTerm_1_contains ESCAPE N'\' OR [b].[AccountNumber] LIKE @__request_SearchTerm_1_contains_1 ESCAPE N'\' OR ([b].[Description] IS NOT NULL AND [b].[Description] LIKE @__request_SearchTerm_1_contains_2 ESCAPE N'\'))
ORDER BY [b].[BankName], [b].[Name]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-09-17 15:03:57.822 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-17 15:03:57.824 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP) in 62.1123ms
2025-09-17 15:03:57.826 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-17 15:03:57.828 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 15:03:57.829 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=341a7419-3d26-4908-a5dc-28f03bed5ebd - 200 null application/json; charset=utf-8 78.5734ms
2025-09-17 15:04:03.379 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 15:04:03.383 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 307 0 null 4.2204ms
2025-09-17 15:04:03.388 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - null null
2025-09-17 15:04:03.395 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:04:03.396 +03:00 [INF] Request started
2025-09-17 15:04:03.397 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-17 15:04:03.398 +03:00 [INF] Route matched with {action = "GetAllBankAccounts", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetAllBankAccounts(Int32, Int32, System.String, System.String, Boolean, System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:04:03.414 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_CompanyId_Value_0='d00cf078-c1ff-4feb-ae37-d66a827ae438', @__request_SearchTerm_1_contains='%E%' (Size = 100), @__request_SearchTerm_1_contains_1='%E%' (Size = 50), @__request_SearchTerm_1_contains_2='%E%' (Size = 4000), @__p_2='0', @__p_3='10'], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_CompanyId_Value_0 AND ([b].[Name] LIKE @__request_SearchTerm_1_contains ESCAPE N'\' OR [b].[BankName] LIKE @__request_SearchTerm_1_contains ESCAPE N'\' OR [b].[AccountNumber] LIKE @__request_SearchTerm_1_contains_1 ESCAPE N'\' OR ([b].[Description] IS NOT NULL AND [b].[Description] LIKE @__request_SearchTerm_1_contains_2 ESCAPE N'\'))
ORDER BY [b].[BankName], [b].[Name]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
2025-09-17 15:04:03.420 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bankAccount_CompanyId_0='d00cf078-c1ff-4feb-ae37-d66a827ae438'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[CreatedById], [c].[CurrencyCode], [c].[IsActive], [c].[IsDeleted], [c].[Name], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Companies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__bankAccount_CompanyId_0
2025-09-17 15:04:03.424 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bankAccount_CurrencyCode_0='EGP' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Code], [c].[CreatedAt], [c].[CreatedById], [c].[Decimals], [c].[Id], [c].[IsActive], [c].[IsDeleted], [c].[Symbol], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Currencies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Code] = @__bankAccount_CurrencyCode_0
2025-09-17 15:04:03.429 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__bankAccount_Id_0='51d06860-8217-4352-97a0-7704d02cbecd'], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BankAccounts] AS [b]
INNER JOIN [Vouchers] AS [v] ON [b].[Id] = [v].[BankAccountId]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__bankAccount_Id_0
2025-09-17 15:04:03.432 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-17 15:04:03.434 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP) in 33.2149ms
2025-09-17 15:04:03.436 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-17 15:04:03.437 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 15:04:03.438 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount?page=1&pageSize=10&search=E&sortDescending=false&companyId=d00cf078-c1ff-4feb-ae37-d66a827ae438 - 200 null application/json; charset=utf-8 49.8193ms
2025-09-17 15:09:32.170 +03:00 [INF] Starting web host...
2025-09-17 15:09:32.592 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 15:09:32.595 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 15:09:32.672 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 15:09:32.674 +03:00 [INF] Hosting environment: Development
2025-09-17 15:09:32.675 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 15:10:08.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - null null
2025-09-17 15:10:08.221 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 307 0 null 29.3553ms
2025-09-17 15:10:08.257 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - null null
2025-09-17 15:10:08.264 +03:00 [INF] CORS policy execution successful.
2025-09-17 15:10:08.274 +03:00 [INF] Request started
2025-09-17 15:10:08.277 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 15:10:08.295 +03:00 [INF] Route matched with {action = "GetBankAccountById", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto]]] GetBankAccountById(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 15:10:08.300 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 15:10:08.879 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 15:10:09.064 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 15:10:09.497 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__request_Id_0='76d22594-df50-4f4e-95b7-fb68f806031b'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[Id] = @__request_Id_0 AND [b].[IsDeleted] = CAST(0 AS bit)
2025-09-17 15:10:09.594 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bankAccount_CompanyId_0='d36b22ee-69fd-491c-99a6-36faa8dbfd1a'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[CreatedById], [c].[CurrencyCode], [c].[IsActive], [c].[IsDeleted], [c].[Name], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Companies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Id] = @__bankAccount_CompanyId_0
2025-09-17 15:10:09.633 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__bankAccount_CurrencyCode_0='EGP' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Code], [c].[CreatedAt], [c].[CreatedById], [c].[Decimals], [c].[Id], [c].[IsActive], [c].[IsDeleted], [c].[Symbol], [c].[UpdatedAt], [c].[UpdatedById]
FROM [Currencies] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS bit) AND [c].[Code] = @__bankAccount_CurrencyCode_0
2025-09-17 15:10:09.663 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 15:10:09.687 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP) in 1386.4916ms
2025-09-17 15:10:09.690 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetBankAccountById (ModularERP)'
2025-09-17 15:10:09.692 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 15:10:09.699 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/BankAccount/76d22594-df50-4f4e-95b7-fb68f806031b - 200 null application/json; charset=utf-8 1441.7318ms
2025-09-17 15:27:25.509 +03:00 [INF] Starting web host...
2025-09-17 15:27:25.860 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 15:27:25.864 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 15:27:25.947 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 15:27:25.948 +03:00 [INF] Hosting environment: Development
2025-09-17 15:27:25.950 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 15:27:27.298 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 15:27:27.446 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 149.508ms
2025-09-17 15:27:27.476 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 15:27:27.485 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.5859ms
2025-09-17 15:27:28.782 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 15:27:28.839 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.2302ms
2025-09-17 15:27:29.028 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 15:27:29.079 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.1154ms
2025-09-17 16:05:05.482 +03:00 [INF] Starting web host...
2025-09-17 16:05:05.700 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.ExpensesVoucher.Commands.CreateExpenseVoucherCommand,ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler': Unable to resolve service for type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Service.IExpenseVoucherService' while attempting to activate 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.ExpensesVoucher.Commands.CreateExpenseVoucherCommand,ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler': Unable to resolve service for type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Service.IExpenseVoucherService' while attempting to activate 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Service.IExpenseVoucherService' while attempting to activate 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 112
2025-09-17 16:06:10.138 +03:00 [INF] Starting web host...
2025-09-17 16:06:10.290 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.ExpensesVoucher.Commands.CreateExpenseVoucherCommand,ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto]' while attempting to activate 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.ExpensesVoucher.Commands.CreateExpenseVoucherCommand,ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto]' while attempting to activate 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto]' while attempting to activate 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 114
2025-09-17 16:07:17.373 +03:00 [INF] Starting web host...
2025-09-17 16:07:17.780 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 16:07:17.784 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 16:07:17.881 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 16:07:17.883 +03:00 [INF] Hosting environment: Development
2025-09-17 16:07:17.884 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 16:07:22.873 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 16:07:23.088 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 216.8217ms
2025-09-17 16:07:23.126 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 16:07:23.135 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 9.0677ms
2025-09-17 16:07:24.852 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 16:07:24.908 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.4498ms
2025-09-17 16:07:25.403 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 16:07:25.518 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.7494ms
2025-09-17 17:45:29.926 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 754
2025-09-17 17:45:29.939 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 12.5237ms
2025-09-17 17:45:29.995 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 17:45:30.002 +03:00 [INF] CORS policy execution successful.
2025-09-17 17:45:30.004 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 9.2225ms
2025-09-17 17:45:30.008 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 754
2025-09-17 17:45:30.011 +03:00 [INF] CORS policy execution successful.
2025-09-17 17:45:30.022 +03:00 [INF] Request started
2025-09-17 17:45:30.026 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 17:45:30.054 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 17:45:30.060 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 17:45:30.980 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 17:45:31.214 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 17:45:31.850 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='51d06860-8217-4352-97a0-7704d02cbecd'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 17:45:31.896 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-09-17 17:45:31.904 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 1844.1676ms
2025-09-17 17:45:31.907 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 17:45:31.909 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 17:45:31.915 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 400 null text/plain; charset=utf-8 1906.7121ms
2025-09-17 17:53:15.217 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/508da890-b616-4bf6-b4a5-63e507f315b0 - null null
2025-09-17 17:53:15.229 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/508da890-b616-4bf6-b4a5-63e507f315b0 - 307 0 null 11.4934ms
2025-09-17 17:53:15.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/508da890-b616-4bf6-b4a5-63e507f315b0 - null null
2025-09-17 17:53:15.236 +03:00 [INF] CORS policy execution successful.
2025-09-17 17:53:15.237 +03:00 [INF] Request started
2025-09-17 17:53:15.238 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 17:53:15.244 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 17:53:15.331 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='508da890-b616-4bf6-b4a5-63e507f315b0'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 17:53:15.450 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 201.8135ms
2025-09-17 17:53:15.453 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 17:53:15.454 +03:00 [ERR] Unexpected error occurred
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Voucher -> ExpenseVoucherResponseDto
ModularERP.Modules.Finance.Features.Vouchers.Models.Voucher -> ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto
   at lambda_method274(Closure, Object, ExpenseVoucherResponseDto, ResolutionContext)
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.GetExpenseVoucherByIdHandler.Handle(GetExpenseVoucherByIdQuery request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\GetExpenseVoucherByIdHandler.cs:line 28
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher(Guid id) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 48
   at lambda_method60(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 17:53:15.515 +03:00 [INF] Error response sent with status code 500
2025-09-17 17:53:15.518 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/508da890-b616-4bf6-b4a5-63e507f315b0 - 500 null application/json; charset=utf-8 284.4502ms
2025-09-17 17:55:17.191 +03:00 [INF] Starting web host...
2025-09-17 17:55:17.660 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 17:55:17.664 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 17:55:17.765 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 17:55:17.767 +03:00 [INF] Hosting environment: Development
2025-09-17 17:55:17.769 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 17:55:55.941 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 17:55:56.093 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 152.1375ms
2025-09-17 17:55:56.136 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 17:55:56.158 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 21.0719ms
2025-09-17 17:55:58.248 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 17:55:58.327 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.2364ms
2025-09-17 17:55:58.828 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 17:55:58.913 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.2895ms
2025-09-17 17:56:08.801 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/508da890-b616-4bf6-b4a5-63e507f315b0 - null null
2025-09-17 17:56:08.810 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/508da890-b616-4bf6-b4a5-63e507f315b0 - 307 0 null 8.6044ms
2025-09-17 17:56:08.844 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/508da890-b616-4bf6-b4a5-63e507f315b0 - null null
2025-09-17 17:56:08.850 +03:00 [INF] CORS policy execution successful.
2025-09-17 17:56:08.860 +03:00 [INF] Request started
2025-09-17 17:56:08.863 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 17:56:08.880 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 17:56:08.885 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 17:56:09.503 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 17:56:09.726 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 17:56:10.143 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='508da890-b616-4bf6-b4a5-63e507f315b0'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 17:56:10.300 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 17:56:10.322 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 1436.0489ms
2025-09-17 17:56:10.324 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 17:56:10.326 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 17:56:10.332 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/508da890-b616-4bf6-b4a5-63e507f315b0 - 200 null application/json; charset=utf-8 1488.2943ms
2025-09-17 17:57:15.253 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 754
2025-09-17 17:57:15.257 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 4.2533ms
2025-09-17 17:57:15.261 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 17:57:15.266 +03:00 [INF] CORS policy execution successful.
2025-09-17 17:57:15.268 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 7.3037ms
2025-09-17 17:57:15.270 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 754
2025-09-17 17:57:15.274 +03:00 [INF] CORS policy execution successful.
2025-09-17 17:57:15.275 +03:00 [INF] Request started
2025-09-17 17:57:15.276 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 17:57:15.280 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 17:57:15.409 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='76d22594-df50-4f4e-95b7-fb68f806031b'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 17:57:15.415 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-09-17 17:57:15.417 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 132.8762ms
2025-09-17 17:57:15.419 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 17:57:15.420 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 17:57:15.421 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 400 null text/plain; charset=utf-8 151.3998ms
2025-09-17 18:06:37.869 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/BankAccount - application/json 250
2025-09-17 18:06:37.876 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/BankAccount - 307 0 null 7.3874ms
2025-09-17 18:06:37.882 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - null null
2025-09-17 18:06:37.885 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:06:37.886 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/BankAccount - 204 null null 3.9211ms
2025-09-17 18:06:37.887 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/BankAccount - application/json 250
2025-09-17 18:06:37.892 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:06:37.901 +03:00 [INF] Request started
2025-09-17 18:06:37.902 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 18:06:37.906 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-17 18:06:37.950 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_BankAccount_CompanyId_0='d00cf078-c1ff-4feb-ae37-d66a827ae438', @__request_BankAccount_AccountNumber_1='159' (Size = 50), @__request_BankAccount_BankName_2='Egypt' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[IsDeleted] = CAST(0 AS bit) AND [b].[CompanyId] = @__request_BankAccount_CompanyId_0 AND [b].[AccountNumber] = @__request_BankAccount_AccountNumber_1 AND [b].[BankName] = @__request_BankAccount_BankName_2
2025-09-17 18:06:38.078 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p1='159' (Nullable = false) (Size = 50), @p2='Egypt' (Nullable = false) (Size = 100), @p3='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p4='2025-09-17T15:06:37.9569533Z', @p5=NULL (Size = 4000), @p6='EGP' (Nullable = false) (Size = 3), @p7='User1' (Nullable = false) (Size = 4000), @p8='Nothing' (Size = 4000), @p9='True', @p10='False', @p11='Main Branch' (Nullable = false) (Size = 100), @p12='Active' (Nullable = false) (Size = 4000), @p13=NULL (DbType = DateTime2), @p14=NULL (Size = 4000), @p15='User2' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BankAccounts] ([Id], [AccountNumber], [BankName], [CompanyId], [CreatedAt], [CreatedById], [CurrencyCode], [DepositAcl], [Description], [IsActive], [IsDeleted], [Name], [Status], [UpdatedAt], [UpdatedById], [WithdrawAcl])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-09-17 18:06:38.092 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 18:06:38.115 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 205.7711ms
2025-09-17 18:06:38.117 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-17 18:06:38.119 +03:00 [INF] Request completed successfully with status code 201
2025-09-17 18:06:38.120 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/BankAccount - 201 null application/json; charset=utf-8 232.4498ms
2025-09-17 18:07:22.182 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 18:07:22.185 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 3.7379ms
2025-09-17 18:07:22.193 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 18:07:22.227 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:07:22.229 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 36.1931ms
2025-09-17 18:07:22.232 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 18:07:22.243 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:07:22.244 +03:00 [INF] Request started
2025-09-17 18:07:22.245 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:07:22.246 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 18:07:22.256 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 18:07:22.263 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 18:07:22.268 +03:00 [INF] Executing ForbidResult with authentication schemes (["User does not have permission to withdraw from this wallet"]).
2025-09-17 18:07:22.273 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 24.7895ms
2025-09-17 18:07:22.275 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:07:22.277 +03:00 [ERR] Unexpected error occurred
System.InvalidOperationException: No authentication handlers are registered. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("User does not have permission to withdraw from this wallet",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 18:07:22.308 +03:00 [INF] Error response sent with status code 500
2025-09-17 18:07:22.310 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 77.9137ms
2025-09-17 18:09:39.995 +03:00 [INF] Starting web host...
2025-09-17 18:09:40.351 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 18:09:40.356 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 18:09:40.431 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 18:09:40.433 +03:00 [INF] Hosting environment: Development
2025-09-17 18:09:40.434 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 18:09:41.574 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 18:09:41.723 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 149.152ms
2025-09-17 18:09:41.757 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 18:09:41.763 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.661ms
2025-09-17 18:09:42.876 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 18:09:42.911 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.795ms
2025-09-17 18:09:43.098 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 18:09:43.153 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.818ms
2025-09-17 18:09:50.788 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 18:09:50.796 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 8.0271ms
2025-09-17 18:09:50.832 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 18:09:50.839 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:09:50.841 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 9.4616ms
2025-09-17 18:09:50.845 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 18:09:50.847 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:09:50.857 +03:00 [INF] Request started
2025-09-17 18:09:50.860 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:09:50.877 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 18:09:50.883 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 18:09:51.578 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 18:09:51.794 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 18:09:52.261 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 18:09:52.360 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 18:09:52.636 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='ee53dc06-06e0-4503-b404-08ddf5fc40cd', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-001' (Nullable = false) (Size = 20), @p5='00000000-0000-0000-0000-000000000000', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T15:09:52.4014418Z', @p9='00000000-0000-0000-0000-000000000000', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='00000000-0000-0000-0000-000000000000', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 18:09:52.662 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_AspNetUsers_CreatedBy". The conflict occurred in database "ModularERP", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7650da51-72dd-40d8-8566-7a25183f3b4d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_AspNetUsers_CreatedBy". The conflict occurred in database "ModularERP", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7650da51-72dd-40d8-8566-7a25183f3b4d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-17 18:09:52.703 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 1820.6599ms
2025-09-17 18:09:52.706 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:09:52.708 +03:00 [ERR] Unexpected error occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_AspNetUsers_CreatedBy". The conflict occurred in database "ModularERP", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:7650da51-72dd-40d8-8566-7a25183f3b4d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 92
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler.Handle(CreateExpenseVoucherCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\CreateExpenseVoucherHandler.cs:line 75
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher(CreateExpenseVoucherDto request) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 18:09:52.770 +03:00 [INF] Error response sent with status code 500
2025-09-17 18:09:52.777 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 1932.6532ms
2025-09-17 18:20:45.525 +03:00 [INF] Starting web host...
2025-09-17 18:20:45.900 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 18:20:45.904 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 18:20:45.980 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 18:20:45.992 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 18:20:45.994 +03:00 [INF] Hosting environment: Development
2025-09-17 18:20:45.996 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 18:20:46.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 130.0667ms
2025-09-17 18:20:46.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/swagger-ui-bundle.js - null null
2025-09-17 18:20:46.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/swagger-ui-standalone-preset.js - null null
2025-09-17 18:20:46.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 18:20:46.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/swagger-ui.css - null null
2025-09-17 18:20:46.139 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 11.7637ms
2025-09-17 18:20:46.154 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-09-17 18:20:46.154 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-09-17 18:20:46.161 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/swagger-ui.css - 200 152034 text/css 33.9943ms
2025-09-17 18:20:46.158 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 30.7653ms
2025-09-17 18:20:46.154 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-09-17 18:20:46.171 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 43.4644ms
2025-09-17 18:20:47.353 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 18:20:47.375 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.9795ms
2025-09-17 18:20:47.451 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/favicon-32x32.png - null null
2025-09-17 18:20:47.454 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-09-17 18:20:47.456 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/favicon-32x32.png - 200 628 image/png 5.3013ms
2025-09-17 18:20:47.600 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 18:20:47.625 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/favicon-32x32.png - null null
2025-09-17 18:20:47.630 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-09-17 18:20:47.632 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/favicon-32x32.png - 200 628 image/png 7.2551ms
2025-09-17 18:20:47.663 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.46ms
2025-09-17 18:20:57.086 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 18:20:57.093 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 6.9727ms
2025-09-17 18:20:57.132 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 18:20:57.138 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:20:57.140 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 7.6376ms
2025-09-17 18:20:57.143 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 18:20:57.148 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:20:57.157 +03:00 [INF] Request started
2025-09-17 18:20:57.160 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:20:57.176 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 18:20:57.182 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 18:20:57.811 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 18:20:58.024 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 18:20:58.487 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 18:20:58.590 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 18:20:58.863 +03:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='a5e2cc47-5384-4cdd-de0c-08ddf5fdcde8', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-001' (Nullable = false) (Size = 20), @p5='00000000-0000-0000-0000-000000000000', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T15:20:58.6274734Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='00000000-0000-0000-0000-000000000000', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 18:20:58.890 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_Companies_CompanyId". The conflict occurred in database "ModularERP", table "dbo.Companies", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4641fb48-eecd-4b2f-8d0b-dd66f864a1f7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_Companies_CompanyId". The conflict occurred in database "ModularERP", table "dbo.Companies", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4641fb48-eecd-4b2f-8d0b-dd66f864a1f7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-17 18:20:58.919 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 1735.2811ms
2025-09-17 18:20:58.921 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:20:58.923 +03:00 [ERR] Unexpected error occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_Companies_CompanyId". The conflict occurred in database "ModularERP", table "dbo.Companies", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:4641fb48-eecd-4b2f-8d0b-dd66f864a1f7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 92
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler.Handle(CreateExpenseVoucherCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\CreateExpenseVoucherHandler.cs:line 75
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher(CreateExpenseVoucherDto request) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 18:20:58.963 +03:00 [INF] Error response sent with status code 500
2025-09-17 18:20:58.974 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 1830.7463ms
2025-09-17 18:23:59.743 +03:00 [INF] Starting web host...
2025-09-17 18:24:00.112 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 18:24:00.115 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 18:24:00.231 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 18:24:00.233 +03:00 [INF] Hosting environment: Development
2025-09-17 18:24:00.234 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 18:24:13.115 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 18:24:13.232 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 117.6627ms
2025-09-17 18:24:13.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 18:24:13.255 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 18:24:13.261 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.6445ms
2025-09-17 18:24:13.276 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.4414ms
2025-09-17 18:24:14.531 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 18:24:14.619 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.9627ms
2025-09-17 18:24:20.858 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 18:24:20.885 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 27.221ms
2025-09-17 18:24:20.942 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 18:24:20.949 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:24:20.952 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 8.9981ms
2025-09-17 18:24:20.955 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 18:24:20.958 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:24:20.969 +03:00 [INF] Request started
2025-09-17 18:24:20.971 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:24:20.989 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 18:24:20.995 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 18:24:21.704 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 18:24:21.952 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 18:24:22.474 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 18:24:22.600 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 18:24:22.887 +03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='197f1784-8094-4ba4-4cfa-08ddf5fe4780', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-001' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T15:24:22.6332333Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='00000000-0000-0000-0000-000000000000', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 18:24:22.915 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Vouchers' with unique index 'IX_Vouchers_CompanyId_Code'. The duplicate key value is (d00cf078-c1ff-4feb-ae37-d66a827ae438, EXP-001).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fa2e71b8-9250-43c3-9a3c-5375abb6d34b
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Vouchers' with unique index 'IX_Vouchers_CompanyId_Code'. The duplicate key value is (d00cf078-c1ff-4feb-ae37-d66a827ae438, EXP-001).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fa2e71b8-9250-43c3-9a3c-5375abb6d34b
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-17 18:24:22.958 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 1961.8628ms
2025-09-17 18:24:22.962 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:24:22.964 +03:00 [ERR] Unexpected error occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Vouchers' with unique index 'IX_Vouchers_CompanyId_Code'. The duplicate key value is (d00cf078-c1ff-4feb-ae37-d66a827ae438, EXP-001).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fa2e71b8-9250-43c3-9a3c-5375abb6d34b
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 92
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler.Handle(CreateExpenseVoucherCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\CreateExpenseVoucherHandler.cs:line 77
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher(CreateExpenseVoucherDto request) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 18:24:23.034 +03:00 [INF] Error response sent with status code 500
2025-09-17 18:24:23.044 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 2088.112ms
2025-09-17 18:25:50.265 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 18:25:50.270 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 5.0981ms
2025-09-17 18:25:50.272 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 18:25:50.280 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:25:50.281 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 9.041ms
2025-09-17 18:25:50.283 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 18:25:50.288 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:25:50.290 +03:00 [INF] Request started
2025-09-17 18:25:50.290 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:25:50.292 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 18:25:50.346 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 18:25:50.354 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 18:25:50.377 +03:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='1f6c78ca-4ca7-4859-4cfb-08ddf5fe4780', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-011' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T15:25:50.3603484Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='00000000-0000-0000-0000-000000000000', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 18:25:50.391 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_GlAccounts_JournalAccountId". The conflict occurred in database "ModularERP", table "dbo.GlAccounts", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fa2e71b8-9250-43c3-9a3c-5375abb6d34b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_GlAccounts_JournalAccountId". The conflict occurred in database "ModularERP", table "dbo.GlAccounts", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fa2e71b8-9250-43c3-9a3c-5375abb6d34b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-17 18:25:50.426 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 129.3284ms
2025-09-17 18:25:50.428 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:25:50.429 +03:00 [ERR] Unexpected error occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_GlAccounts_JournalAccountId". The conflict occurred in database "ModularERP", table "dbo.GlAccounts", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:fa2e71b8-9250-43c3-9a3c-5375abb6d34b
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 92
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler.Handle(CreateExpenseVoucherCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\CreateExpenseVoucherHandler.cs:line 77
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher(CreateExpenseVoucherDto request) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 18:25:50.470 +03:00 [INF] Error response sent with status code 500
2025-09-17 18:25:50.472 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 189.7392ms
2025-09-17 18:33:32.502 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 18:33:32.512 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 10.1384ms
2025-09-17 18:33:32.543 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 18:33:32.548 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 4.791ms
2025-09-17 18:33:33.673 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 18:33:33.691 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.5956ms
2025-09-17 18:33:33.879 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 18:33:33.929 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.0968ms
2025-09-17 18:33:43.551 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 18:33:43.555 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 3.7154ms
2025-09-17 18:33:43.562 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 18:33:43.567 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:33:43.569 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 6.8795ms
2025-09-17 18:33:43.571 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 18:33:43.580 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:33:43.583 +03:00 [INF] Request started
2025-09-17 18:33:43.584 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:33:43.586 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 18:33:43.616 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 18:33:43.625 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 18:33:43.642 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='349a9c14-57c9-4c72-4cfc-08ddf5fe4780', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-011' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T15:33:43.6334988Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='00000000-0000-0000-0000-000000000000', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 18:33:43.655 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_GlAccounts_JournalAccountId". The conflict occurred in database "ModularERP", table "dbo.GlAccounts", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ee5d5031-f175-478e-b226-a65c9ca31f90
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_GlAccounts_JournalAccountId". The conflict occurred in database "ModularERP", table "dbo.GlAccounts", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ee5d5031-f175-478e-b226-a65c9ca31f90
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-17 18:33:43.699 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 109.3052ms
2025-09-17 18:33:43.701 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:33:43.704 +03:00 [ERR] Unexpected error occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_GlAccounts_JournalAccountId". The conflict occurred in database "ModularERP", table "dbo.GlAccounts", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ee5d5031-f175-478e-b226-a65c9ca31f90
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 92
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler.Handle(CreateExpenseVoucherCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\CreateExpenseVoucherHandler.cs:line 77
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher(CreateExpenseVoucherDto request) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 18:33:43.750 +03:00 [INF] Error response sent with status code 500
2025-09-17 18:33:43.751 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 180.5066ms
2025-09-17 18:34:10.227 +03:00 [INF] Starting web host...
2025-09-17 18:34:10.548 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 18:34:10.551 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 18:34:10.629 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 18:34:10.631 +03:00 [INF] Hosting environment: Development
2025-09-17 18:34:10.632 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 18:34:17.046 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 18:34:17.159 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 113.7208ms
2025-09-17 18:34:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 18:34:17.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 18:34:17.187 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.1117ms
2025-09-17 18:34:17.203 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.0134ms
2025-09-17 18:34:17.937 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 18:34:18.086 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 148.2817ms
2025-09-17 18:34:23.598 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 18:34:23.605 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 7.0036ms
2025-09-17 18:34:23.646 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 18:34:23.652 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:34:23.655 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 8.9366ms
2025-09-17 18:34:23.658 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 18:34:23.661 +03:00 [INF] CORS policy execution successful.
2025-09-17 18:34:23.670 +03:00 [INF] Request started
2025-09-17 18:34:23.673 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:34:23.689 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 18:34:23.695 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 18:34:24.323 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 18:34:24.543 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 18:34:25.013 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 18:34:25.107 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 18:34:25.360 +03:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='38ba26b9-4166-4634-99b8-08ddf5ffae9f', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-011' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T15:34:25.1399994Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='00000000-0000-0000-0000-000000000000', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 18:34:25.385 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_GlAccounts_JournalAccountId". The conflict occurred in database "ModularERP", table "dbo.GlAccounts", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:96bc95c6-51f1-44d0-bb33-f76abffcf54e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_GlAccounts_JournalAccountId". The conflict occurred in database "ModularERP", table "dbo.GlAccounts", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:96bc95c6-51f1-44d0-bb33-f76abffcf54e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-17 18:34:25.407 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 1711.368ms
2025-09-17 18:34:25.414 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 18:34:25.419 +03:00 [ERR] Unexpected error occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Vouchers_GlAccounts_JournalAccountId". The conflict occurred in database "ModularERP", table "dbo.GlAccounts", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:96bc95c6-51f1-44d0-bb33-f76abffcf54e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 92
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler.Handle(CreateExpenseVoucherCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\CreateExpenseVoucherHandler.cs:line 77
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher(CreateExpenseVoucherDto request) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 18:34:25.473 +03:00 [INF] Error response sent with status code 500
2025-09-17 18:34:25.484 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 1826.5079ms
2025-09-17 19:04:59.005 +03:00 [INF] Starting web host...
2025-09-17 19:04:59.170 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 123
2025-09-17 19:05:12.572 +03:00 [INF] Starting web host...
2025-09-17 19:05:12.845 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 123
2025-09-17 19:25:44.367 +03:00 [INF] Starting web host...
2025-09-17 19:25:44.800 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 19:25:44.804 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 19:25:44.886 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 19:25:44.889 +03:00 [INF] Hosting environment: Development
2025-09-17 19:25:44.890 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 19:25:56.505 +03:00 [INF] Starting web host...
2025-09-17 19:25:56.827 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 19:25:56.830 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 19:25:56.905 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 19:25:56.907 +03:00 [INF] Hosting environment: Development
2025-09-17 19:25:56.908 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 19:26:03.728 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 19:26:03.891 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 163.3392ms
2025-09-17 19:26:03.931 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 19:26:03.942 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.0378ms
2025-09-17 19:26:05.325 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 19:26:05.368 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.6774ms
2025-09-17 19:26:05.567 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 19:26:05.694 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.844ms
2025-09-17 19:26:16.910 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 19:26:16.920 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 9.7271ms
2025-09-17 19:26:16.970 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 19:26:16.976 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:26:16.979 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 9.2594ms
2025-09-17 19:26:16.983 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 19:26:16.986 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:26:16.996 +03:00 [INF] Request started
2025-09-17 19:26:17.000 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:26:17.025 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 19:26:17.032 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 19:26:17.723 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 19:26:17.946 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 19:26:18.554 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:26:18.670 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 19:26:18.709 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:26:18.725 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-09-17 19:26:18.731 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 1700.1976ms
2025-09-17 19:26:18.735 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:26:18.737 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 19:26:18.743 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 400 null text/plain; charset=utf-8 1759.5887ms
2025-09-17 19:28:18.100 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 19:28:18.107 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 7.0302ms
2025-09-17 19:28:18.143 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 19:28:18.150 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.8031ms
2025-09-17 19:28:18.835 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 19:28:18.862 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.8138ms
2025-09-17 19:28:19.050 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 19:28:19.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.7267ms
2025-09-17 19:28:26.848 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 19:28:26.853 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 4.1652ms
2025-09-17 19:28:26.855 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 19:28:26.863 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:28:26.864 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 9.0027ms
2025-09-17 19:28:26.865 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 19:28:26.872 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:28:26.875 +03:00 [INF] Request started
2025-09-17 19:28:26.876 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:28:26.878 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 19:28:26.930 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:28:26.945 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 19:28:26.960 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:28:27.195 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-011' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T16:28:26.9598243Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 19:28:27.296 +03:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='d44897be-3544-40c2-26b2-08ddf6073b0d', @p1=NULL (Size = 64), @p2='2025-09-17T16:28:27.2369085Z', @p3=NULL (Size = 4000), @p4='invoice.pdf' (Nullable = false) (Size = 500), @p5='0', @p6='invoice.pdf' (Nullable = false) (Size = 255), @p7='True', @p8='False', @p9='' (Nullable = false) (Size = 100), @p10=NULL (DbType = DateTime2), @p11=NULL (Size = 4000), @p12='2025-09-17T16:28:27.2371153Z', @p13='00000000-0000-0000-0000-000000000000', @p14='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6', @p15='b00bb2a7-89eb-4f19-0344-08ddf6073b0a', @p16='100.0' (Precision = 18) (Scale = 2), @p17='2025-09-17T16:28:27.2166873Z', @p18=NULL (Size = 4000), @p19='Expense' (Nullable = false) (Size = 4000), @p20='True', @p21='False', @p22='True', @p23='14.0' (Precision = 18) (Scale = 2), @p24='020c0bbf-8202-42d8-9692-2fc202aa5c08', @p25=NULL (DbType = DateTime2), @p26=NULL (Size = 4000), @p27='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Attachments] ([Id], [Checksum], [CreatedAt], [CreatedById], [FilePath], [FileSize], [Filename], [IsActive], [IsDeleted], [MimeType], [UpdatedAt], [UpdatedById], [UploadedAt], [UploadedBy], [VoucherId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [VoucherTaxes] ([Id], [BaseAmount], [CreatedAt], [CreatedById], [Direction], [IsActive], [IsDeleted], [IsWithholding], [TaxAmount], [TaxId], [UpdatedAt], [UpdatedById], [VoucherId])
VALUES (@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-17 19:28:27.331 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Attachments_AspNetUsers_UploadedBy". The conflict occurred in database "ModularERP", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:610a065d-570a-466e-8608-43fd445467ea
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Attachments_AspNetUsers_UploadedBy". The conflict occurred in database "ModularERP", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:610a065d-570a-466e-8608-43fd445467ea
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-17 19:28:27.365 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 483.2942ms
2025-09-17 19:28:27.368 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:28:27.371 +03:00 [ERR] Unexpected error occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Attachments_AspNetUsers_UploadedBy". The conflict occurred in database "ModularERP", table "dbo.AspNetUsers", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:610a065d-570a-466e-8608-43fd445467ea
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 92
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler.Handle(CreateExpenseVoucherCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\CreateExpenseVoucherHandler.cs:line 102
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher(CreateExpenseVoucherDto request) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 19:28:27.437 +03:00 [INF] Error response sent with status code 500
2025-09-17 19:28:27.440 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 574.2793ms
2025-09-17 19:32:17.038 +03:00 [INF] Starting web host...
2025-09-17 19:32:17.783 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 19:32:17.788 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 19:32:17.923 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 19:32:17.925 +03:00 [INF] Hosting environment: Development
2025-09-17 19:32:17.936 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 19:32:21.257 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 19:32:21.415 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 158.4663ms
2025-09-17 19:32:21.446 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 19:32:21.452 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.4406ms
2025-09-17 19:32:22.534 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 19:32:22.574 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.0746ms
2025-09-17 19:32:22.761 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 19:32:22.886 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 124.8965ms
2025-09-17 19:32:29.053 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 19:32:29.086 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 32.6128ms
2025-09-17 19:32:29.147 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 19:32:29.152 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:32:29.154 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 7.2778ms
2025-09-17 19:32:29.157 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 19:32:29.161 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:32:29.169 +03:00 [INF] Request started
2025-09-17 19:32:29.172 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:32:29.188 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 19:32:29.194 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 19:32:29.888 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 19:32:30.146 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 19:32:30.618 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:32:30.718 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 19:32:30.768 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:32:31.029 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='45f0754b-3e5b-4402-2713-08ddf607cc3a', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-011' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T16:32:30.7642494Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 19:32:31.052 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Vouchers' with unique index 'IX_Vouchers_CompanyId_Code'. The duplicate key value is (d00cf078-c1ff-4feb-ae37-d66a827ae438, EXP-011).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f984ce39-035a-42dc-a460-3ec1dd1602e0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Vouchers' with unique index 'IX_Vouchers_CompanyId_Code'. The duplicate key value is (d00cf078-c1ff-4feb-ae37-d66a827ae438, EXP-011).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f984ce39-035a-42dc-a460-3ec1dd1602e0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-17 19:32:31.075 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 1880.1924ms
2025-09-17 19:32:31.077 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:32:31.079 +03:00 [ERR] Unexpected error occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Vouchers' with unique index 'IX_Vouchers_CompanyId_Code'. The duplicate key value is (d00cf078-c1ff-4feb-ae37-d66a827ae438, EXP-011).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f984ce39-035a-42dc-a460-3ec1dd1602e0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 92
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler.Handle(CreateExpenseVoucherCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\CreateExpenseVoucherHandler.cs:line 78
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher(CreateExpenseVoucherDto request) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 19:32:31.118 +03:00 [INF] Error response sent with status code 500
2025-09-17 19:32:31.126 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 1968.5241ms
2025-09-17 19:34:36.772 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 19:34:36.780 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 7.7343ms
2025-09-17 19:34:36.814 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 19:34:36.816 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 19:34:36.823 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.734ms
2025-09-17 19:34:36.832 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.9614ms
2025-09-17 19:34:37.437 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 19:34:37.486 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.0025ms
2025-09-17 19:34:42.868 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 19:34:42.873 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 4.2482ms
2025-09-17 19:34:42.883 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 19:34:42.909 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:34:42.911 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 28.5556ms
2025-09-17 19:34:42.920 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 19:34:42.927 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:34:42.928 +03:00 [INF] Request started
2025-09-17 19:34:42.930 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:34:42.932 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 19:34:42.989 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:34:42.996 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 19:34:43.007 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:34:43.025 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='d8a00f5c-c5c2-4e28-2714-08ddf607cc3a', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-011' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T16:34:43.0049649Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 19:34:43.039 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ModularERP.Modules.Finance.Finance.Infrastructure.Data.FinanceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Vouchers' with unique index 'IX_Vouchers_CompanyId_Code'. The duplicate key value is (d00cf078-c1ff-4feb-ae37-d66a827ae438, EXP-011).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f984ce39-035a-42dc-a460-3ec1dd1602e0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Vouchers' with unique index 'IX_Vouchers_CompanyId_Code'. The duplicate key value is (d00cf078-c1ff-4feb-ae37-d66a827ae438, EXP-011).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f984ce39-035a-42dc-a460-3ec1dd1602e0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-17 19:34:43.077 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 141.4783ms
2025-09-17 19:34:43.079 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:34:43.081 +03:00 [ERR] Unexpected error occurred
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Vouchers' with unique index 'IX_Vouchers_CompanyId_Code'. The duplicate key value is (d00cf078-c1ff-4feb-ae37-d66a827ae438, EXP-011).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f984ce39-035a-42dc-a460-3ec1dd1602e0
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 92
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Handlers.CreateExpenseVoucherHandler.Handle(CreateExpenseVoucherCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Handlers\CreateExpenseVoucherHandler.cs:line 78
   at ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher(CreateExpenseVoucherDto request) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\ExpensesVoucher\Controllers\ExpenseVouchersController.cs:line 31
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-17 19:34:43.130 +03:00 [INF] Error response sent with status code 500
2025-09-17 19:34:43.132 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 500 null application/json; charset=utf-8 211.6182ms
2025-09-17 19:37:01.174 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 19:37:01.181 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 7.2865ms
2025-09-17 19:37:01.195 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 19:37:01.201 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:37:01.206 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 11.3405ms
2025-09-17 19:37:01.208 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 19:37:01.215 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:37:01.218 +03:00 [INF] Request started
2025-09-17 19:37:01.219 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:37:01.221 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 19:37:01.243 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:37:01.250 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 19:37:01.258 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 19:37:01.273 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='0a0d2ff8-e454-44a4-2715-08ddf607cc3a', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-111' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T16:37:01.2574573Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 19:37:01.367 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='c5c3dc40-dbbb-40e5-fffd-08ddf6086d76', @p1=NULL (Size = 64), @p2='2025-09-17T16:37:01.3140923Z', @p3=NULL (Size = 4000), @p4='invoice.pdf' (Nullable = false) (Size = 500), @p5='0', @p6='invoice.pdf' (Nullable = false) (Size = 255), @p7='True', @p8='False', @p9='' (Nullable = false) (Size = 100), @p10=NULL (DbType = DateTime2), @p11=NULL (Size = 4000), @p12='2025-09-17T16:37:01.3142071Z', @p13='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p14='0a0d2ff8-e454-44a4-2715-08ddf607cc3a', @p15='d192d88c-4882-4ac4-c3fe-08ddf6086d73', @p16='100.0' (Precision = 18) (Scale = 2), @p17='2025-09-17T16:37:01.2926955Z', @p18=NULL (Size = 4000), @p19='Expense' (Nullable = false) (Size = 4000), @p20='True', @p21='False', @p22='True', @p23='14.0' (Precision = 18) (Scale = 2), @p24='020c0bbf-8202-42d8-9692-2fc202aa5c08', @p25=NULL (DbType = DateTime2), @p26=NULL (Size = 4000), @p27='0a0d2ff8-e454-44a4-2715-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Attachments] ([Id], [Checksum], [CreatedAt], [CreatedById], [FilePath], [FileSize], [Filename], [IsActive], [IsDeleted], [MimeType], [UpdatedAt], [UpdatedById], [UploadedAt], [UploadedBy], [VoucherId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [VoucherTaxes] ([Id], [BaseAmount], [CreatedAt], [CreatedById], [Direction], [IsActive], [IsDeleted], [IsWithholding], [TaxAmount], [TaxId], [UpdatedAt], [UpdatedById], [VoucherId])
VALUES (@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-17 19:37:01.406 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 19:37:01.435 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 210.2885ms
2025-09-17 19:37:01.438 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 19:37:01.440 +03:00 [INF] Request completed successfully with status code 201
2025-09-17 19:37:01.441 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 201 null application/json; charset=utf-8 232.7202ms
2025-09-17 19:43:58.794 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - null null
2025-09-17 19:43:58.800 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - 307 0 null 6.208ms
2025-09-17 19:43:58.812 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - null null
2025-09-17 19:43:58.817 +03:00 [INF] CORS policy execution successful.
2025-09-17 19:43:58.818 +03:00 [INF] Request started
2025-09-17 19:43:58.819 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 19:43:58.824 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 19:43:58.848 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='0a0d2ff8-e454-44a4-2715-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 19:43:58.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 19:43:58.863 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 33.9073ms
2025-09-17 19:43:58.865 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 19:43:58.868 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 19:43:58.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - 200 null application/json; charset=utf-8 57.4226ms
2025-09-17 20:07:42.146 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 20:07:42.150 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 4.6458ms
2025-09-17 20:07:42.178 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 20:07:42.182 +03:00 [INF] CORS policy execution successful.
2025-09-17 20:07:42.184 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 5.9136ms
2025-09-17 20:07:42.186 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 20:07:42.193 +03:00 [INF] CORS policy execution successful.
2025-09-17 20:07:42.194 +03:00 [INF] Request started
2025-09-17 20:07:42.197 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 20:07:42.198 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 20:07:42.212 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 20:07:42.219 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 20:07:42.224 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 20:07:42.240 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='06107e30-e4db-4ccd-2716-08ddf607cc3a', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-101' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T17:07:42.2233641Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 20:07:42.255 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='e995bfff-b6ad-475a-fffe-08ddf6086d76', @p1=NULL (Size = 64), @p2='2025-09-17T17:07:42.2511654Z', @p3=NULL (Size = 4000), @p4='invoice.pdf' (Nullable = false) (Size = 500), @p5='0', @p6='invoice.pdf' (Nullable = false) (Size = 255), @p7='True', @p8='False', @p9='' (Nullable = false) (Size = 100), @p10=NULL (DbType = DateTime2), @p11=NULL (Size = 4000), @p12='2025-09-17T17:07:42.2511706Z', @p13='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p14='06107e30-e4db-4ccd-2716-08ddf607cc3a', @p15='762c3449-b8d5-4b0c-c3ff-08ddf6086d73', @p16='100.0' (Precision = 18) (Scale = 2), @p17='2025-09-17T17:07:42.2510089Z', @p18=NULL (Size = 4000), @p19='Expense' (Nullable = false) (Size = 4000), @p20='True', @p21='False', @p22='True', @p23='14.0' (Precision = 18) (Scale = 2), @p24='020c0bbf-8202-42d8-9692-2fc202aa5c08', @p25=NULL (DbType = DateTime2), @p26=NULL (Size = 4000), @p27='06107e30-e4db-4ccd-2716-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Attachments] ([Id], [Checksum], [CreatedAt], [CreatedById], [FilePath], [FileSize], [Filename], [IsActive], [IsDeleted], [MimeType], [UpdatedAt], [UpdatedById], [UploadedAt], [UploadedBy], [VoucherId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [VoucherTaxes] ([Id], [BaseAmount], [CreatedAt], [CreatedById], [Direction], [IsActive], [IsDeleted], [IsWithholding], [TaxAmount], [TaxId], [UpdatedAt], [UpdatedById], [VoucherId])
VALUES (@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-17 20:07:42.266 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 20:07:42.272 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 70.8149ms
2025-09-17 20:07:42.273 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 20:07:42.275 +03:00 [INF] Request completed successfully with status code 201
2025-09-17 20:07:42.278 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 201 null application/json; charset=utf-8 91.6499ms
2025-09-17 20:18:50.662 +03:00 [INF] Starting web host...
2025-09-17 20:18:51.159 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 20:18:51.162 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 20:18:51.269 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 20:18:51.270 +03:00 [INF] Hosting environment: Development
2025-09-17 20:18:51.272 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 20:18:57.578 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 20:18:57.729 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 151.8311ms
2025-09-17 20:18:57.775 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 20:18:57.786 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.5216ms
2025-09-17 20:18:59.116 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 20:18:59.155 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.83ms
2025-09-17 20:18:59.367 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 20:18:59.500 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 132.3702ms
2025-09-17 20:19:14.583 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 20:19:14.590 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 7.3526ms
2025-09-17 20:19:14.634 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 20:19:14.640 +03:00 [INF] CORS policy execution successful.
2025-09-17 20:19:14.642 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 8.1612ms
2025-09-17 20:19:14.645 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 20:19:14.649 +03:00 [INF] CORS policy execution successful.
2025-09-17 20:19:14.658 +03:00 [INF] Request started
2025-09-17 20:19:14.661 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 20:19:14.678 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 20:19:14.685 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 20:19:15.377 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 20:19:15.597 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 20:19:16.104 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 20:19:16.208 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='f8cd0c63-50d7-4a69-a344-bc53be110f77'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[Code], [g].[CompanyId], [g].[CreatedAt], [g].[CreatedById], [g].[IsActive], [g].[IsDeleted], [g].[IsLeaf], [g].[Name], [g].[Type], [g].[UpdatedAt], [g].[UpdatedById]
FROM [GlAccounts] AS [g]
WHERE [g].[Id] = @__id_0
2025-09-17 20:19:16.265 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 20:19:16.524 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='a0ed3318-35e7-45af-7a51-08ddf60e546f', @p1='500.00' (Precision = 18) (Scale = 2), @p2=NULL (DbType = Guid), @p3='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p4='EXP-121' (Nullable = false) (Size = 20), @p5='d00cf078-c1ff-4feb-ae37-d66a827ae438', @p6='3fa85f64-5717-4562-b3fc-2c963f66afa6' (Nullable = true), @p7='Vendor' (Size = 450), @p8='2025-09-17T17:19:16.2579023Z', @p9='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p10=NULL (Size = 4000), @p11='EGP' (Nullable = false) (Size = 3), @p12='2025-09-17T13:07:31.9820000Z', @p13='Dummy expense voucher' (Size = 4000), @p14='1.0' (Precision = 18) (Scale = 6), @p15='True', @p16='False', @p17='f8cd0c63-50d7-4a69-a344-bc53be110f77', @p18=NULL (DbType = DateTime2), @p19=NULL (DbType = Guid), @p20='7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe' (Nullable = true), @p21=NULL (DbType = Guid), @p22=NULL (DbType = DateTime2), @p23=NULL (DbType = Guid), @p24='0', @p25='Draft' (Nullable = false) (Size = 450), @p26=NULL (DbType = Guid), @p27='Expense' (Nullable = false) (Size = 450), @p28=NULL (DbType = DateTime2), @p29=NULL (Size = 4000), @p30='4fe6e0a3-b441-45f6-96a4-0a1c499bbe56', @p31='BankAccount' (Nullable = false) (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vouchers] ([Id], [Amount], [BankAccountId], [CategoryAccountId], [Code], [CompanyId], [CounterpartyId], [CounterpartyType], [CreatedAt], [CreatedBy], [CreatedById], [CurrencyCode], [Date], [Description], [FxRate], [IsActive], [IsDeleted], [JournalAccountId], [PostedAt], [PostedBy], [RecurrenceId], [RecurringScheduleId], [ReversedAt], [ReversedBy], [Revision], [Status], [TreasuryId], [Type], [UpdatedAt], [UpdatedById], [WalletId], [WalletType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-09-17 20:19:16.632 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='1433a149-1625-4771-3382-08ddf60e5497', @p1=NULL (Size = 64), @p2='2025-09-17T17:19:16.5616187Z', @p3=NULL (Size = 4000), @p4='invoice.pdf' (Nullable = false) (Size = 500), @p5='0', @p6='invoice.pdf' (Nullable = false) (Size = 255), @p7='True', @p8='False', @p9='' (Nullable = false) (Size = 100), @p10=NULL (DbType = DateTime2), @p11=NULL (Size = 4000), @p12='2025-09-17T17:19:16.5617327Z', @p13='5dbceb39-9677-46d7-bf8a-2eb914c55437', @p14='a0ed3318-35e7-45af-7a51-08ddf60e546f', @p15='3f9c85aa-bbb2-4a5f-e976-08ddf60e5493', @p16='100.0' (Precision = 18) (Scale = 2), @p17='2025-09-17T17:19:16.5406355Z', @p18=NULL (Size = 4000), @p19='Expense' (Nullable = false) (Size = 4000), @p20='True', @p21='False', @p22='True', @p23='14.0' (Precision = 18) (Scale = 2), @p24='020c0bbf-8202-42d8-9692-2fc202aa5c08', @p25=NULL (DbType = DateTime2), @p26=NULL (Size = 4000), @p27='a0ed3318-35e7-45af-7a51-08ddf60e546f'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Attachments] ([Id], [Checksum], [CreatedAt], [CreatedById], [FilePath], [FileSize], [Filename], [IsActive], [IsDeleted], [MimeType], [UpdatedAt], [UpdatedById], [UploadedAt], [UploadedBy], [VoucherId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [VoucherTaxes] ([Id], [BaseAmount], [CreatedAt], [CreatedById], [Direction], [IsActive], [IsDeleted], [IsWithholding], [TaxAmount], [TaxId], [UpdatedAt], [UpdatedById], [VoucherId])
VALUES (@p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
2025-09-17 20:19:16.666 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__voucher_Id_0='a0ed3318-35e7-45af-7a51-08ddf60e546f'], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[BaseAmount], [v].[CreatedAt], [v].[CreatedById], [v].[Direction], [v].[IsActive], [v].[IsDeleted], [v].[IsWithholding], [v].[TaxAmount], [v].[TaxId], [v].[UpdatedAt], [v].[UpdatedById], [v].[VoucherId]
FROM [VoucherTaxes] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS bit) AND [v].[VoucherId] = @__voucher_Id_0
2025-09-17 20:19:16.683 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__voucher_Id_0='a0ed3318-35e7-45af-7a51-08ddf60e546f'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Checksum], [a].[CreatedAt], [a].[CreatedById], [a].[FilePath], [a].[FileSize], [a].[Filename], [a].[IsActive], [a].[IsDeleted], [a].[MimeType], [a].[UpdatedAt], [a].[UpdatedById], [a].[UploadedAt], [a].[UploadedBy], [a].[VoucherId]
FROM [Attachments] AS [a]
WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[VoucherId] = @__voucher_Id_0
2025-09-17 20:19:16.701 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 20:19:16.727 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 2043.173ms
2025-09-17 20:19:16.731 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 20:19:16.733 +03:00 [INF] Request completed successfully with status code 201
2025-09-17 20:19:16.739 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 201 null application/json; charset=utf-8 2093.6377ms
2025-09-17 22:46:46.641 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/d192d88c-4882-4ac4-c3fe-08ddf6086d73 - null null
2025-09-17 22:46:46.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/d192d88c-4882-4ac4-c3fe-08ddf6086d73 - 307 0 null 7.4665ms
2025-09-17 22:46:46.661 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/d192d88c-4882-4ac4-c3fe-08ddf6086d73 - null null
2025-09-17 22:46:46.666 +03:00 [INF] CORS policy execution successful.
2025-09-17 22:46:46.668 +03:00 [INF] Request started
2025-09-17 22:46:46.669 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:46:46.675 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 22:46:46.765 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='d192d88c-4882-4ac4-c3fe-08ddf6086d73'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 22:46:46.772 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-17 22:46:46.788 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 109.8467ms
2025-09-17 22:46:46.791 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:46:46.792 +03:00 [INF] Request completed successfully with status code 404
2025-09-17 22:46:46.793 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/d192d88c-4882-4ac4-c3fe-08ddf6086d73 - 404 null application/problem+json; charset=utf-8 131.7572ms
2025-09-17 22:47:01.943 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - null null
2025-09-17 22:47:01.947 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - 307 0 null 4.4633ms
2025-09-17 22:47:01.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - null null
2025-09-17 22:47:01.953 +03:00 [INF] CORS policy execution successful.
2025-09-17 22:47:01.955 +03:00 [INF] Request started
2025-09-17 22:47:01.956 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:47:01.957 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 22:47:01.971 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 22:47:01.982 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 22:47:01.984 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 24.1591ms
2025-09-17 22:47:01.986 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:47:01.987 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 22:47:01.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - 200 null application/json; charset=utf-8 39.2377ms
2025-09-17 22:48:43.809 +03:00 [INF] Starting web host...
2025-09-17 22:48:44.270 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 22:48:44.273 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 22:48:44.369 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 22:48:44.370 +03:00 [INF] Hosting environment: Development
2025-09-17 22:48:44.371 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 22:48:44.444 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 22:48:44.603 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 158.1756ms
2025-09-17 22:48:44.630 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 22:48:44.638 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 7.9299ms
2025-09-17 22:48:45.779 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 22:48:45.825 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.2451ms
2025-09-17 22:48:46.022 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 22:48:46.105 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.4321ms
2025-09-17 22:48:53.947 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - null null
2025-09-17 22:48:53.956 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - 307 0 null 8.7701ms
2025-09-17 22:48:53.992 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - null null
2025-09-17 22:48:53.999 +03:00 [INF] CORS policy execution successful.
2025-09-17 22:48:54.009 +03:00 [INF] Request started
2025-09-17 22:48:54.013 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:48:54.030 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 22:48:54.035 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:48:54.785 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 22:48:55.027 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:48:55.480 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 22:48:55.629 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__voucher_Id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[BaseAmount], [v].[CreatedAt], [v].[CreatedById], [v].[Direction], [v].[IsActive], [v].[IsDeleted], [v].[IsWithholding], [v].[TaxAmount], [v].[TaxId], [v].[UpdatedAt], [v].[UpdatedById], [v].[VoucherId]
FROM [VoucherTaxes] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS bit) AND [v].[VoucherId] = @__voucher_Id_0
2025-09-17 22:48:55.644 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__voucher_Id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Checksum], [a].[CreatedAt], [a].[CreatedById], [a].[FilePath], [a].[FileSize], [a].[Filename], [a].[IsActive], [a].[IsDeleted], [a].[MimeType], [a].[UpdatedAt], [a].[UpdatedById], [a].[UploadedAt], [a].[UploadedBy], [a].[VoucherId]
FROM [Attachments] AS [a]
WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[VoucherId] = @__voucher_Id_0
2025-09-17 22:48:55.673 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 22:48:55.693 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 1657.0424ms
2025-09-17 22:48:55.695 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:48:55.697 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 22:48:55.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - 200 null application/json; charset=utf-8 1712.7333ms
2025-09-17 22:49:26.076 +03:00 [INF] Starting web host...
2025-09-17 22:49:26.409 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 22:49:26.414 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 22:49:26.492 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 22:49:26.495 +03:00 [INF] Hosting environment: Development
2025-09-17 22:49:26.497 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 22:49:32.853 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - null null
2025-09-17 22:49:32.893 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - 307 0 null 41.6966ms
2025-09-17 22:49:32.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - null null
2025-09-17 22:49:32.938 +03:00 [INF] CORS policy execution successful.
2025-09-17 22:49:32.951 +03:00 [INF] Request started
2025-09-17 22:49:32.955 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:49:32.978 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 22:49:32.983 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:49:34.025 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 22:49:34.287 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:49:34.858 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 22:49:35.075 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__voucher_Id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[BaseAmount], [v].[CreatedAt], [v].[CreatedById], [v].[Direction], [v].[IsActive], [v].[IsDeleted], [v].[IsWithholding], [v].[TaxAmount], [v].[TaxId], [v].[UpdatedAt], [v].[UpdatedById], [v].[VoucherId]
FROM [VoucherTaxes] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS bit) AND [v].[VoucherId] = @__voucher_Id_0
2025-09-17 22:49:35.097 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__voucher_Id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Checksum], [a].[CreatedAt], [a].[CreatedById], [a].[FilePath], [a].[FileSize], [a].[Filename], [a].[IsActive], [a].[IsDeleted], [a].[MimeType], [a].[UpdatedAt], [a].[UpdatedById], [a].[UploadedAt], [a].[UploadedBy], [a].[VoucherId]
FROM [Attachments] AS [a]
WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[VoucherId] = @__voucher_Id_0
2025-09-17 22:49:35.125 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 22:49:35.166 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 2182.9011ms
2025-09-17 22:49:35.169 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:49:35.171 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 22:49:35.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - 200 null application/json; charset=utf-8 2253.7119ms
2025-09-17 22:51:25.099 +03:00 [INF] Starting web host...
2025-09-17 22:51:25.686 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 22:51:25.691 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 22:51:25.820 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 22:51:25.848 +03:00 [INF] Hosting environment: Development
2025-09-17 22:51:25.852 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 22:51:30.640 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 22:51:30.782 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 142.5951ms
2025-09-17 22:51:30.806 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 22:51:30.806 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 22:51:30.813 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.2042ms
2025-09-17 22:51:30.833 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.7925ms
2025-09-17 22:51:31.994 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 22:51:32.077 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.6293ms
2025-09-17 22:51:38.278 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - null null
2025-09-17 22:51:38.288 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - 307 0 null 10.8948ms
2025-09-17 22:51:38.322 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - null null
2025-09-17 22:51:38.328 +03:00 [INF] CORS policy execution successful.
2025-09-17 22:51:38.344 +03:00 [INF] Request started
2025-09-17 22:51:38.347 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:51:38.371 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 22:51:38.376 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:51:39.023 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 22:51:39.263 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:51:39.699 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 22:51:39.846 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__voucher_Id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[BaseAmount], [v].[CreatedAt], [v].[CreatedById], [v].[Direction], [v].[IsActive], [v].[IsDeleted], [v].[IsWithholding], [v].[TaxAmount], [v].[TaxId], [v].[UpdatedAt], [v].[UpdatedById], [v].[VoucherId]
FROM [VoucherTaxes] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS bit) AND [v].[VoucherId] = @__voucher_Id_0
2025-09-17 22:51:39.865 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__voucher_Id_0='3b3c4b2a-8d29-4671-dff5-08ddf6073ae6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Checksum], [a].[CreatedAt], [a].[CreatedById], [a].[FilePath], [a].[FileSize], [a].[Filename], [a].[IsActive], [a].[IsDeleted], [a].[MimeType], [a].[UpdatedAt], [a].[UpdatedById], [a].[UploadedAt], [a].[UploadedBy], [a].[VoucherId]
FROM [Attachments] AS [a]
WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[VoucherId] = @__voucher_Id_0
2025-09-17 22:51:39.888 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 22:51:39.908 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 1531.319ms
2025-09-17 22:51:39.911 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:51:39.913 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 22:51:39.920 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/3b3c4b2a-8d29-4671-dff5-08ddf6073ae6 - 200 null application/json; charset=utf-8 1598.3885ms
2025-09-17 22:55:17.986 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - null null
2025-09-17 22:55:17.992 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - 307 0 null 5.5263ms
2025-09-17 22:55:17.998 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - null null
2025-09-17 22:55:18.001 +03:00 [INF] CORS policy execution successful.
2025-09-17 22:55:18.002 +03:00 [INF] Request started
2025-09-17 22:55:18.004 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:55:18.006 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 22:55:18.064 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='0a0d2ff8-e454-44a4-2715-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 22:55:18.079 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__voucher_Id_0='0a0d2ff8-e454-44a4-2715-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[BaseAmount], [v].[CreatedAt], [v].[CreatedById], [v].[Direction], [v].[IsActive], [v].[IsDeleted], [v].[IsWithholding], [v].[TaxAmount], [v].[TaxId], [v].[UpdatedAt], [v].[UpdatedById], [v].[VoucherId]
FROM [VoucherTaxes] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS bit) AND [v].[VoucherId] = @__voucher_Id_0
2025-09-17 22:55:18.147 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__voucher_Id_0='0a0d2ff8-e454-44a4-2715-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Checksum], [a].[CreatedAt], [a].[CreatedById], [a].[FilePath], [a].[FileSize], [a].[Filename], [a].[IsActive], [a].[IsDeleted], [a].[MimeType], [a].[UpdatedAt], [a].[UpdatedById], [a].[UploadedAt], [a].[UploadedBy], [a].[VoucherId]
FROM [Attachments] AS [a]
WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[VoucherId] = @__voucher_Id_0
2025-09-17 22:55:18.194 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 22:55:18.199 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 190.1049ms
2025-09-17 22:55:18.205 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:55:18.207 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 22:55:18.209 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - 200 null application/json; charset=utf-8 210.932ms
2025-09-17 22:55:29.463 +03:00 [INF] Starting web host...
2025-09-17 22:55:29.826 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 22:55:29.829 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 22:55:29.911 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 22:55:29.913 +03:00 [INF] Hosting environment: Development
2025-09-17 22:55:29.914 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 22:55:37.007 +03:00 [INF] Starting web host...
2025-09-17 22:55:37.334 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 22:55:37.338 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 22:55:37.412 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 22:55:37.414 +03:00 [INF] Hosting environment: Development
2025-09-17 22:55:37.416 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 22:55:44.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 22:55:44.331 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 140.3213ms
2025-09-17 22:55:44.356 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 22:55:44.356 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 22:55:44.363 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.3584ms
2025-09-17 22:55:44.380 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.1815ms
2025-09-17 22:55:45.803 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 22:55:45.861 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.1661ms
2025-09-17 22:55:50.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - null null
2025-09-17 22:55:50.841 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - 307 0 null 10.5533ms
2025-09-17 22:55:50.881 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - null null
2025-09-17 22:55:50.888 +03:00 [INF] CORS policy execution successful.
2025-09-17 22:55:50.897 +03:00 [INF] Request started
2025-09-17 22:55:50.901 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:55:50.918 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 22:55:50.923 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:55:51.584 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 22:55:51.806 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:55:52.262 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='0a0d2ff8-e454-44a4-2715-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 22:55:52.399 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 22:55:52.419 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 1495.9989ms
2025-09-17 22:55:52.422 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:55:52.425 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 22:55:52.434 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - 200 null application/json; charset=utf-8 1552.8776ms
2025-09-17 22:56:08.050 +03:00 [INF] Starting web host...
2025-09-17 22:56:08.457 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 22:56:08.461 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 22:56:08.552 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 22:56:08.556 +03:00 [INF] Hosting environment: Development
2025-09-17 22:56:08.558 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 22:56:10.643 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 22:56:10.772 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 130.1038ms
2025-09-17 22:56:10.797 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 22:56:10.798 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 22:56:10.806 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 7.7583ms
2025-09-17 22:56:10.830 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.7158ms
2025-09-17 22:56:11.548 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 22:56:11.653 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.9565ms
2025-09-17 22:56:17.753 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - null null
2025-09-17 22:56:17.786 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - 307 0 null 32.1067ms
2025-09-17 22:56:17.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - null null
2025-09-17 22:56:17.864 +03:00 [INF] CORS policy execution successful.
2025-09-17 22:56:17.877 +03:00 [INF] Request started
2025-09-17 22:56:17.880 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:56:17.909 +03:00 [INF] Route matched with {action = "GetExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]] GetExpenseVoucher(System.Guid) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 22:56:17.917 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:56:18.798 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 22:56:19.142 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 22:56:19.635 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='0a0d2ff8-e454-44a4-2715-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Amount], [v].[BankAccountId], [v].[CategoryAccountId], [v].[Code], [v].[CompanyId], [v].[CounterpartyId], [v].[CounterpartyType], [v].[CreatedAt], [v].[CreatedBy], [v].[CreatedById], [v].[CurrencyCode], [v].[Date], [v].[Description], [v].[FxRate], [v].[IsActive], [v].[IsDeleted], [v].[JournalAccountId], [v].[PostedAt], [v].[PostedBy], [v].[RecurrenceId], [v].[RecurringScheduleId], [v].[ReversedAt], [v].[ReversedBy], [v].[Revision], [v].[Status], [v].[TreasuryId], [v].[Type], [v].[UpdatedAt], [v].[UpdatedById], [v].[WalletId], [v].[WalletType]
FROM [Vouchers] AS [v]
WHERE [v].[Id] = @__id_0
2025-09-17 22:56:19.803 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__voucher_Id_0='0a0d2ff8-e454-44a4-2715-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[BaseAmount], [v].[CreatedAt], [v].[CreatedById], [v].[Direction], [v].[IsActive], [v].[IsDeleted], [v].[IsWithholding], [v].[TaxAmount], [v].[TaxId], [v].[UpdatedAt], [v].[UpdatedById], [v].[VoucherId]
FROM [VoucherTaxes] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS bit) AND [v].[VoucherId] = @__voucher_Id_0
2025-09-17 22:56:19.849 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__voucher_Id_0='0a0d2ff8-e454-44a4-2715-08ddf607cc3a'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Checksum], [a].[CreatedAt], [a].[CreatedById], [a].[FilePath], [a].[FileSize], [a].[Filename], [a].[IsActive], [a].[IsDeleted], [a].[MimeType], [a].[UpdatedAt], [a].[UpdatedById], [a].[UploadedAt], [a].[UploadedBy], [a].[VoucherId]
FROM [Attachments] AS [a]
WHERE [a].[IsDeleted] = CAST(0 AS bit) AND [a].[VoucherId] = @__voucher_Id_0
2025-09-17 22:56:19.899 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto'.
2025-09-17 22:56:19.925 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP) in 2007.7356ms
2025-09-17 22:56:19.928 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.GetExpenseVoucher (ModularERP)'
2025-09-17 22:56:19.931 +03:00 [INF] Request completed successfully with status code 200
2025-09-17 22:56:19.940 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/ExpenseVouchers/0a0d2ff8-e454-44a4-2715-08ddf607cc3a - 200 null application/json; charset=utf-8 2083.7685ms
2025-09-17 22:58:44.363 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 22:58:44.377 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 14.4185ms
2025-09-17 22:58:44.404 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 22:58:44.405 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 22:58:44.418 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 13.237ms
2025-09-17 22:58:44.428 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.8753ms
2025-09-17 22:58:47.560 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 22:58:47.642 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.1528ms
2025-09-17 23:58:43.788 +03:00 [INF] Starting web host...
2025-09-17 23:58:44.179 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-17 23:58:44.183 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-17 23:58:44.265 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-17 23:58:44.267 +03:00 [INF] Hosting environment: Development
2025-09-17 23:58:44.269 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-17 23:58:52.170 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/index.html - null null
2025-09-17 23:58:52.400 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/index.html - 200 null text/html;charset=utf-8 230.8927ms
2025-09-17 23:58:52.438 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - null null
2025-09-17 23:58:52.450 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 11.0115ms
2025-09-17 23:58:53.925 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/_vs/browserLink - null null
2025-09-17 23:58:53.982 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.2294ms
2025-09-17 23:58:54.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - null null
2025-09-17 23:58:54.249 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5004/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.993ms
2025-09-17 23:59:45.240 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - application/json 753
2025-09-17 23:59:45.256 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5004/api/ExpenseVouchers - 307 0 null 15.4051ms
2025-09-17 23:59:45.305 +03:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - null null
2025-09-17 23:59:45.311 +03:00 [INF] CORS policy execution successful.
2025-09-17 23:59:45.314 +03:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7168/api/ExpenseVouchers - 204 null null 9.2449ms
2025-09-17 23:59:45.318 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - application/json 753
2025-09-17 23:59:45.321 +03:00 [INF] CORS policy execution successful.
2025-09-17 23:59:45.332 +03:00 [INF] Request started
2025-09-17 23:59:45.335 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 23:59:45.359 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]]] CreateExpenseVoucher(ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.CreateExpenseVoucherDto) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-17 23:59:45.366 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 23:59:46.094 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-09-17 23:59:46.336 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-17 23:59:46.983 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='51d06860-8217-4352-97a0-7704d02cbecd'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AccountNumber], [b].[BankName], [b].[CompanyId], [b].[CreatedAt], [b].[CreatedById], [b].[CurrencyCode], [b].[DepositAcl], [b].[Description], [b].[IsActive], [b].[IsDeleted], [b].[JournalAccountId], [b].[Name], [b].[Status], [b].[UpdatedAt], [b].[UpdatedById], [b].[WithdrawAcl]
FROM [BankAccounts] AS [b]
WHERE [b].[Id] = @__id_0
2025-09-17 23:59:47.017 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-17 23:59:47.032 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 1666.359ms
2025-09-17 23:59:47.034 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-17 23:59:47.036 +03:00 [INF] Request completed successfully with status code 400
2025-09-17 23:59:47.042 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7168/api/ExpenseVouchers - 400 null application/json; charset=utf-8 1724.6588ms
