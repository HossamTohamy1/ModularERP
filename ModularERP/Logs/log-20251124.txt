2025-11-24 14:20:44.114 +02:00 [INF] Starting web host...
2025-11-24 14:20:46.226 +02:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 258
2025-11-24 14:21:18.538 +02:00 [INF] Starting web host...
2025-11-24 14:21:19.358 +02:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 258
2025-11-24 14:22:10.876 +02:00 [INF] Starting web host...
2025-11-24 14:22:11.663 +02:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 258
2025-11-24 14:23:06.122 +02:00 [INF] Starting web host...
2025-11-24 14:23:06.972 +02:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 258
2025-11-24 14:59:52.755 +02:00 [INF] Starting web host...
2025-11-24 14:59:54.363 +02:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 258
2025-11-24 15:00:14.802 +02:00 [INF] Starting web host...
2025-11-24 15:00:15.719 +02:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 258
2025-11-24 15:00:29.483 +02:00 [INF] Starting web host...
2025-11-24 15:00:30.316 +02:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 258
2025-11-24 15:33:14.456 +02:00 [INF] Starting web host...
2025-11-24 15:33:16.604 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 15:33:16.702 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 15:33:16.779 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 15:33:16.786 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 15:33:16.803 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 15:33:16.862 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 15:33:16.879 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 15:33:16.882 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 15:33:16.892 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 15:33:16.902 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 15:33:16.909 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 15:33:17.088 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 15:33:17.096 +02:00 [INF] Master database initialized successfully
2025-11-24 15:33:19.289 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 15:33:19.535 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 15:33:19.537 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 15:33:19.628 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 15:33:19.630 +02:00 [INF] Hosting environment: Development
2025-11-24 15:33:19.632 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 15:33:20.460 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 15:33:20.727 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 267.6371ms
2025-11-24 15:33:20.731 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 15:33:20.743 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 15:33:20.745 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 13.3017ms
2025-11-24 15:33:20.795 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.3886ms
2025-11-24 15:33:20.915 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 15:33:21.276 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 361.0354ms
2025-11-24 15:49:26.746 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 439
2025-11-24 15:49:26.761 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-24 15:49:26.772 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-11-24 15:49:26.775 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 302 0 null 29.1945ms
2025-11-24 15:49:26.779 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - null null
2025-11-24 15:49:26.799 +02:00 [INF] Request started
2025-11-24 15:49:26.802 +02:00 [INF] === Incoming Request ===
2025-11-24 15:49:26.805 +02:00 [INF] Path: /Account/Login
2025-11-24 15:49:26.806 +02:00 [INF] Method: GET
2025-11-24 15:49:26.807 +02:00 [INF] === Headers ===
2025-11-24 15:49:26.809 +02:00 [INF] Accept: ["*/*"]
2025-11-24 15:49:26.813 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 15:49:26.814 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 15:49:26.815 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 15:49:26.818 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 15:49:26.819 +02:00 [INF] Referer: ["https://localhost:7168/api/purchases/SupplierPayments"]
2025-11-24 15:49:26.821 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 15:49:26.822 +02:00 [INF] Postman-Token: ["d2bfdad5-9814-419a-99b1-e860b940ef51"]
2025-11-24 15:49:26.827 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 15:49:26.828 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 15:49:26.829 +02:00 [INF] Request completed successfully with status code 404
2025-11-24 15:49:26.831 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - 404 0 null 52.2268ms
2025-11-24 15:49:26.837 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7168/Account/Login, Response status code: 404
2025-11-24 16:51:24.224 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 439
2025-11-24 16:51:24.245 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-24 16:51:24.247 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-11-24 16:51:24.250 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 302 0 null 25.4012ms
2025-11-24 16:51:24.255 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - null null
2025-11-24 16:51:24.259 +02:00 [INF] Request started
2025-11-24 16:51:24.260 +02:00 [INF] === Incoming Request ===
2025-11-24 16:51:24.261 +02:00 [INF] Path: /Account/Login
2025-11-24 16:51:24.263 +02:00 [INF] Method: GET
2025-11-24 16:51:24.266 +02:00 [INF] === Headers ===
2025-11-24 16:51:24.268 +02:00 [INF] Accept: ["*/*"]
2025-11-24 16:51:24.270 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 16:51:24.272 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 16:51:24.275 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 16:51:24.277 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 16:51:24.278 +02:00 [INF] Referer: ["https://localhost:7168/api/purchases/SupplierPayments"]
2025-11-24 16:51:24.280 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 16:51:24.282 +02:00 [INF] Postman-Token: ["32572f6a-91b0-4c0b-998b-bcf44e368daa"]
2025-11-24 16:51:24.288 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 16:51:24.290 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 16:51:24.291 +02:00 [INF] Request completed successfully with status code 404
2025-11-24 16:51:24.292 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - 404 0 null 37.5995ms
2025-11-24 16:51:24.298 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7168/Account/Login, Response status code: 404
2025-11-24 16:51:32.468 +02:00 [INF] Starting web host...
2025-11-24 16:51:34.041 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:51:34.137 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 16:51:34.333 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:51:34.338 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 16:51:34.348 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 16:51:34.429 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 16:51:34.449 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:51:34.459 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 16:51:34.469 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 16:51:34.480 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 16:51:34.486 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 16:51:34.697 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:51:34.704 +02:00 [INF] Master database initialized successfully
2025-11-24 16:51:37.021 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 16:51:37.191 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 16:51:37.193 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 16:51:37.292 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 16:51:37.295 +02:00 [INF] Hosting environment: Development
2025-11-24 16:51:37.296 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 16:51:37.608 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 16:51:37.914 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 308.0923ms
2025-11-24 16:51:37.921 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 16:51:37.924 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 16:51:37.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 34.4004ms
2025-11-24 16:51:37.987 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.067ms
2025-11-24 16:51:38.066 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 16:51:38.691 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 625.0888ms
2025-11-24 16:51:56.286 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 439
2025-11-24 16:51:56.301 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-24 16:51:56.304 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-11-24 16:51:56.307 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 302 0 null 20.608ms
2025-11-24 16:51:56.312 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - null null
2025-11-24 16:51:56.324 +02:00 [INF] Request started
2025-11-24 16:51:56.326 +02:00 [INF] === Incoming Request ===
2025-11-24 16:51:56.329 +02:00 [INF] Path: /Account/Login
2025-11-24 16:51:56.330 +02:00 [INF] Method: GET
2025-11-24 16:51:56.331 +02:00 [INF] === Headers ===
2025-11-24 16:51:56.334 +02:00 [INF] Accept: ["*/*"]
2025-11-24 16:51:56.337 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 16:51:56.338 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 16:51:56.341 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 16:51:56.343 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 16:51:56.345 +02:00 [INF] Referer: ["https://localhost:7168/api/purchases/SupplierPayments"]
2025-11-24 16:51:56.347 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 16:51:56.348 +02:00 [INF] Postman-Token: ["95010cc1-03f5-4654-9895-ab018144b21c"]
2025-11-24 16:51:56.354 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 16:51:56.355 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 16:51:56.357 +02:00 [INF] Request completed successfully with status code 404
2025-11-24 16:51:56.360 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - 404 0 null 48.1491ms
2025-11-24 16:51:56.365 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7168/Account/Login, Response status code: 404
2025-11-24 16:57:47.490 +02:00 [INF] Starting web host...
2025-11-24 16:57:49.343 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:57:49.397 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 16:57:49.484 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:57:49.490 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 16:57:49.501 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 16:57:49.555 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 16:57:49.573 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:57:49.578 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 16:57:49.586 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 16:57:49.598 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 16:57:49.603 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 16:57:49.775 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:57:49.782 +02:00 [INF] Master database initialized successfully
2025-11-24 16:57:52.039 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 16:57:52.151 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 16:57:52.154 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 16:57:52.258 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 16:57:52.261 +02:00 [INF] Hosting environment: Development
2025-11-24 16:57:52.263 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 16:57:52.458 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 16:57:52.634 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 177.4697ms
2025-11-24 16:57:52.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 16:57:52.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 16:57:52.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 33.3316ms
2025-11-24 16:57:52.865 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.8331ms
2025-11-24 16:57:52.941 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 16:57:53.268 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 327.3965ms
2025-11-24 16:58:16.276 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 439
2025-11-24 16:58:16.287 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-24 16:58:16.292 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-11-24 16:58:16.294 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 302 0 null 17.5327ms
2025-11-24 16:58:16.298 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - null null
2025-11-24 16:58:16.317 +02:00 [INF] Request started
2025-11-24 16:58:16.320 +02:00 [INF] === Incoming Request ===
2025-11-24 16:58:16.322 +02:00 [INF] Path: /Account/Login
2025-11-24 16:58:16.322 +02:00 [INF] Method: GET
2025-11-24 16:58:16.323 +02:00 [INF] === Headers ===
2025-11-24 16:58:16.326 +02:00 [INF] Accept: ["*/*"]
2025-11-24 16:58:16.328 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 16:58:16.330 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 16:58:16.332 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 16:58:16.333 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 16:58:16.335 +02:00 [INF] Referer: ["https://localhost:7168/api/purchases/SupplierPayments"]
2025-11-24 16:58:16.336 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 16:58:16.338 +02:00 [INF] Postman-Token: ["34706eaf-579b-4af5-aaa1-cae50d818bbf"]
2025-11-24 16:58:16.342 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 16:58:16.344 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 16:58:16.346 +02:00 [INF] Request completed successfully with status code 404
2025-11-24 16:58:16.350 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - 404 0 null 51.1596ms
2025-11-24 16:58:16.355 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7168/Account/Login, Response status code: 404
2025-11-24 16:58:56.087 +02:00 [INF] Starting web host...
2025-11-24 16:58:57.692 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:58:57.745 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 16:58:57.815 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:58:57.822 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 16:58:57.834 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 16:58:57.894 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 16:58:57.910 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 16:58:57.914 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 16:58:57.922 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 16:58:57.933 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 16:58:57.938 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 16:58:58.110 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 16:58:58.116 +02:00 [INF] Master database initialized successfully
2025-11-24 16:59:00.257 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 16:59:00.366 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 16:59:00.369 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 16:59:00.463 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 16:59:00.465 +02:00 [INF] Hosting environment: Development
2025-11-24 16:59:00.466 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 16:59:00.578 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 16:59:00.752 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 175.2447ms
2025-11-24 16:59:00.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 16:59:00.756 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 16:59:00.766 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 9.8591ms
2025-11-24 16:59:00.780 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.4483ms
2025-11-24 16:59:00.878 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 16:59:01.286 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 407.3542ms
2025-11-24 16:59:23.069 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 439
2025-11-24 16:59:23.082 +02:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-11-24 16:59:23.086 +02:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-11-24 16:59:23.088 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 302 0 null 19.8229ms
2025-11-24 16:59:23.095 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - null null
2025-11-24 16:59:23.106 +02:00 [INF] Request started
2025-11-24 16:59:23.109 +02:00 [INF] === Incoming Request ===
2025-11-24 16:59:23.112 +02:00 [INF] Path: /Account/Login
2025-11-24 16:59:23.113 +02:00 [INF] Method: GET
2025-11-24 16:59:23.114 +02:00 [INF] === Headers ===
2025-11-24 16:59:23.116 +02:00 [INF] Accept: ["*/*"]
2025-11-24 16:59:23.120 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 16:59:23.121 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 16:59:23.122 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 16:59:23.125 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 16:59:23.127 +02:00 [INF] Referer: ["https://localhost:7168/api/purchases/SupplierPayments"]
2025-11-24 16:59:23.130 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 16:59:23.132 +02:00 [INF] Postman-Token: ["402b3e86-b7b8-45fd-8b69-e2141e742bb9"]
2025-11-24 16:59:23.136 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 16:59:23.138 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 16:59:23.142 +02:00 [INF] Request completed successfully with status code 404
2025-11-24 16:59:23.146 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/Account/Login?ReturnUrl=%2Fapi%2Fpurchases%2FSupplierPayments - 404 0 null 50.9139ms
2025-11-24 16:59:23.153 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7168/Account/Login, Response status code: 404
2025-11-24 17:00:54.876 +02:00 [INF] Starting web host...
2025-11-24 17:00:56.416 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 17:00:56.468 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 17:00:56.537 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 17:00:56.542 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 17:00:56.547 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 17:00:56.603 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 17:00:56.619 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 17:00:56.623 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 17:00:56.631 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 17:00:56.642 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 17:00:56.648 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 17:00:56.813 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 17:00:56.822 +02:00 [INF] Master database initialized successfully
2025-11-24 17:00:58.817 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 17:00:58.926 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 17:00:58.928 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 17:00:59.014 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 17:00:59.016 +02:00 [INF] Hosting environment: Development
2025-11-24 17:00:59.017 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 17:00:59.319 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 17:00:59.453 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 134.1515ms
2025-11-24 17:00:59.487 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 17:00:59.487 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 17:00:59.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.4523ms
2025-11-24 17:00:59.510 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 22.7996ms
2025-11-24 17:00:59.541 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 17:00:59.846 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 304.7538ms
2025-11-24 17:01:02.711 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 439
2025-11-24 17:01:02.732 +02:00 [INF] Request started
2025-11-24 17:01:02.734 +02:00 [INF] === Incoming Request ===
2025-11-24 17:01:02.736 +02:00 [INF] Path: /api/purchases/SupplierPayments
2025-11-24 17:01:02.737 +02:00 [INF] Method: POST
2025-11-24 17:01:02.738 +02:00 [INF] === Headers ===
2025-11-24 17:01:02.741 +02:00 [INF] Accept: ["*/*"]
2025-11-24 17:01:02.745 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 17:01:02.747 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 17:01:02.748 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 17:01:02.750 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 17:01:02.753 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 17:01:02.755 +02:00 [INF] Content-Length: ["439"]
2025-11-24 17:01:02.757 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 17:01:02.758 +02:00 [INF] Postman-Token: ["a1231380-cfec-4f0b-be18-62e6744283dd"]
2025-11-24 17:01:02.764 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 17:01:02.766 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 17:01:02.775 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 17:01:02.803 +02:00 [INF] Route matched with {action = "CreateSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSupplierPayment(ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.CreateSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 17:01:02.813 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 17:01:02.923 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-11-24 17:01:03.615 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 17:01:03.622 +02:00 [INF] Creating supplier payment for Supplier: "b4c57f6f-47c9-43d1-8021-0ff57a3b4e79"
2025-11-24 17:01:03.881 +02:00 [INF] Supplier payment created successfully: "df70bc56-0525-4e19-58e2-08de2b6a49c0"
2025-11-24 17:01:03.977 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 17:01:04.019 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP) in 1208.1784ms
2025-11-24 17:01:04.026 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 17:01:04.031 +02:00 [INF] Request completed successfully with status code 201
2025-11-24 17:01:04.037 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 201 null application/json; charset=utf-8 1326.0578ms
2025-11-24 17:15:02.155 +02:00 [INF] Starting web host...
2025-11-24 17:15:04.049 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 17:15:04.093 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 17:15:04.166 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 17:15:04.172 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 17:15:04.177 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 17:15:04.242 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 17:15:04.262 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 17:15:04.268 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 17:15:04.279 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 17:15:04.293 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 17:15:04.298 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 17:15:04.538 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 17:15:04.546 +02:00 [INF] Master database initialized successfully
2025-11-24 17:15:06.670 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 17:15:06.779 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 17:15:06.782 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 17:15:06.871 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 17:15:06.874 +02:00 [INF] Hosting environment: Development
2025-11-24 17:15:06.875 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 17:15:07.038 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 17:15:07.226 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 189.4737ms
2025-11-24 17:15:07.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 17:15:07.356 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 17:15:07.394 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 37.5278ms
2025-11-24 17:15:07.416 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.7467ms
2025-11-24 17:15:07.470 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 17:15:07.727 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 256.8035ms
2025-11-24 17:15:36.883 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 429
2025-11-24 17:15:36.899 +02:00 [INF] Request started
2025-11-24 17:15:36.902 +02:00 [INF] === Incoming Request ===
2025-11-24 17:15:36.904 +02:00 [INF] Path: /api/purchases/SupplierPayments
2025-11-24 17:15:36.906 +02:00 [INF] Method: POST
2025-11-24 17:15:36.907 +02:00 [INF] === Headers ===
2025-11-24 17:15:36.910 +02:00 [INF] Accept: ["*/*"]
2025-11-24 17:15:36.913 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 17:15:36.915 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 17:15:36.917 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 17:15:36.919 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 17:15:36.922 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 17:15:36.940 +02:00 [INF] Content-Length: ["429"]
2025-11-24 17:15:36.942 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 17:15:36.944 +02:00 [INF] Postman-Token: ["8fa10ba8-1298-4e70-8b7d-97b39923feaa"]
2025-11-24 17:15:36.949 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 17:15:36.951 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 17:15:36.954 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 17:15:36.976 +02:00 [INF] Route matched with {action = "CreateSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSupplierPayment(ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.CreateSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 17:15:36.983 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 17:15:37.092 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-11-24 17:15:37.725 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 17:15:37.731 +02:00 [INF] Creating supplier payment for Supplier: "b4c57f6f-47c9-43d1-8021-0ff57a3b4e79"
2025-11-24 17:15:38.044 +02:00 [INF] Supplier payment created successfully: "d248dbde-0c52-47b5-8c9d-08de2b6c52cd"
2025-11-24 17:15:38.122 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 17:15:38.153 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP) in 1170.9118ms
2025-11-24 17:15:38.156 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 17:15:38.159 +02:00 [INF] Request completed successfully with status code 201
2025-11-24 17:15:38.163 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 201 null application/json; charset=utf-8 1280.2395ms
2025-11-24 17:19:59.940 +02:00 [INF] Starting web host...
2025-11-24 17:20:01.670 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 17:20:01.713 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 17:20:01.784 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 17:20:01.790 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 17:20:01.795 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 17:20:01.852 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 17:20:01.869 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 17:20:01.874 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 17:20:01.882 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 17:20:01.892 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 17:20:01.897 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 17:20:02.068 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 17:20:02.078 +02:00 [INF] Master database initialized successfully
2025-11-24 17:20:04.120 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 17:20:04.237 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 17:20:04.239 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 17:20:04.341 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 17:20:04.344 +02:00 [INF] Hosting environment: Development
2025-11-24 17:20:04.346 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 17:20:04.407 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 17:20:04.544 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 137.8397ms
2025-11-24 17:20:04.682 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 17:20:04.682 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 17:20:04.688 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 5.3349ms
2025-11-24 17:20:04.712 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.1651ms
2025-11-24 17:20:04.772 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 17:20:05.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 272.8647ms
2025-11-24 17:20:07.991 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 429
2025-11-24 17:20:08.009 +02:00 [INF] Request started
2025-11-24 17:20:08.012 +02:00 [INF] === Incoming Request ===
2025-11-24 17:20:08.015 +02:00 [INF] Path: /api/purchases/SupplierPayments
2025-11-24 17:20:08.016 +02:00 [INF] Method: POST
2025-11-24 17:20:08.017 +02:00 [INF] === Headers ===
2025-11-24 17:20:08.020 +02:00 [INF] Accept: ["*/*"]
2025-11-24 17:20:08.023 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 17:20:08.025 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 17:20:08.027 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 17:20:08.029 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 17:20:08.032 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 17:20:08.033 +02:00 [INF] Content-Length: ["429"]
2025-11-24 17:20:08.035 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 17:20:08.037 +02:00 [INF] Postman-Token: ["9452b8c1-4b97-4b5c-8bf4-92530a081af2"]
2025-11-24 17:20:08.042 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 17:20:08.043 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 17:20:08.045 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 17:20:08.061 +02:00 [INF] Route matched with {action = "CreateSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSupplierPayment(ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.CreateSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 17:20:08.067 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 17:20:08.169 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-11-24 17:20:08.940 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 17:20:08.952 +02:00 [INF] Creating supplier payment for Supplier: "b4c57f6f-47c9-43d1-8021-0ff57a3b4e79"
2025-11-24 17:20:09.332 +02:00 [INF] Supplier payment created successfully: "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
2025-11-24 17:20:09.417 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 17:20:09.460 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP) in 1392.1728ms
2025-11-24 17:20:09.463 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 17:20:09.466 +02:00 [INF] Request completed successfully with status code 201
2025-11-24 17:20:09.472 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 201 null application/json; charset=utf-8 1481.589ms
2025-11-24 18:28:49.690 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479}/void - application/json 32
2025-11-24 18:28:49.708 +02:00 [INF] Request started
2025-11-24 18:28:49.709 +02:00 [INF] === Incoming Request ===
2025-11-24 18:28:49.710 +02:00 [INF] Path: /api/purchases/SupplierPayments/%7Bc5d0a8d4-e54b-4464-8604-08de2b6cf479%7D/void
2025-11-24 18:28:49.711 +02:00 [INF] Method: POST
2025-11-24 18:28:49.712 +02:00 [INF] === Headers ===
2025-11-24 18:28:49.714 +02:00 [INF] Accept: ["*/*"]
2025-11-24 18:28:49.715 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 18:28:49.716 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 18:28:49.719 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 18:28:49.720 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 18:28:49.723 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 18:28:49.724 +02:00 [INF] Content-Length: ["32"]
2025-11-24 18:28:49.726 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 18:28:49.727 +02:00 [INF] Postman-Token: ["ddf5e14b-f205-4f6f-832e-fe3a7cde39e8"]
2025-11-24 18:28:49.731 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 18:28:49.732 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 18:28:49.733 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.VoidSupplierPayment (ModularERP)'
2025-11-24 18:28:49.740 +02:00 [INF] Route matched with {action = "VoidSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VoidSupplierPayment(System.Guid, ModularERP.Modules.Purchases.Invoicing.Controllers.VoidSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 18:28:49.753 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-24 18:28:49.758 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.VoidSupplierPayment (ModularERP) in 15.6471ms
2025-11-24 18:28:49.761 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.VoidSupplierPayment (ModularERP)'
2025-11-24 18:28:49.763 +02:00 [INF] Request completed successfully with status code 401
2025-11-24 18:28:49.764 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479}/void - 401 null application/json; charset=utf-8 74.6415ms
2025-11-24 18:30:25.121 +02:00 [INF] Starting web host...
2025-11-24 18:30:26.868 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 18:30:26.935 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 18:30:27.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 18:30:27.023 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 18:30:27.033 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 18:30:27.096 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 18:30:27.113 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 18:30:27.117 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 18:30:27.125 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 18:30:27.137 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 18:30:27.145 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 18:30:27.315 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 18:30:27.323 +02:00 [INF] Master database initialized successfully
2025-11-24 18:30:29.327 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 18:30:29.464 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 18:30:29.466 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 18:30:29.552 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 18:30:29.555 +02:00 [INF] Hosting environment: Development
2025-11-24 18:30:29.556 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 18:30:30.186 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 18:30:30.315 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 129.6966ms
2025-11-24 18:30:30.323 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 18:30:30.323 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 18:30:30.339 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 15.6534ms
2025-11-24 18:30:30.362 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.2485ms
2025-11-24 18:30:30.501 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 18:30:30.781 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 280.0526ms
2025-11-24 18:30:32.775 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479}/void - application/json 32
2025-11-24 18:30:32.807 +02:00 [INF] Request started
2025-11-24 18:30:32.810 +02:00 [INF] === Incoming Request ===
2025-11-24 18:30:32.813 +02:00 [INF] Path: /api/purchases/SupplierPayments/%7Bc5d0a8d4-e54b-4464-8604-08de2b6cf479%7D/void
2025-11-24 18:30:32.815 +02:00 [INF] Method: POST
2025-11-24 18:30:32.818 +02:00 [INF] === Headers ===
2025-11-24 18:30:32.822 +02:00 [INF] Accept: ["*/*"]
2025-11-24 18:30:32.824 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 18:30:32.827 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 18:30:32.829 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 18:30:32.830 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 18:30:32.832 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 18:30:32.834 +02:00 [INF] Content-Length: ["32"]
2025-11-24 18:30:32.838 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 18:30:32.841 +02:00 [INF] Postman-Token: ["34e72713-6a70-459b-96aa-5fd5b34d4f8a"]
2025-11-24 18:30:32.847 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 18:30:32.848 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 18:30:32.851 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.VoidSupplierPayment (ModularERP)'
2025-11-24 18:30:32.880 +02:00 [INF] Route matched with {action = "VoidSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VoidSupplierPayment(System.Guid, ModularERP.Modules.Purchases.Invoicing.Controllers.VoidSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 18:30:32.888 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 18:30:32.920 +02:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-24 18:30:32.936 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.VoidSupplierPayment (ModularERP) in 47.2694ms
2025-11-24 18:30:32.938 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.VoidSupplierPayment (ModularERP)'
2025-11-24 18:30:32.942 +02:00 [INF] Request completed successfully with status code 401
2025-11-24 18:30:32.945 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479}/void - 401 null application/json; charset=utf-8 169.4481ms
2025-11-24 18:31:28.900 +02:00 [INF] Starting web host...
2025-11-24 18:31:30.405 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 18:31:30.474 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 18:31:30.559 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 18:31:30.565 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 18:31:30.580 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 18:31:30.638 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 18:31:30.654 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 18:31:30.659 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 18:31:30.666 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 18:31:30.682 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 18:31:30.694 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 18:31:30.865 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 18:31:30.872 +02:00 [INF] Master database initialized successfully
2025-11-24 18:31:33.008 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 18:31:33.117 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 18:31:33.119 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 18:31:33.217 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 18:31:33.218 +02:00 [INF] Hosting environment: Development
2025-11-24 18:31:33.220 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 18:31:33.298 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 18:31:33.499 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 201.6699ms
2025-11-24 18:31:33.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 18:31:33.537 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 18:31:33.543 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 5.8042ms
2025-11-24 18:31:33.563 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.9147ms
2025-11-24 18:31:33.601 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 18:31:33.905 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 304.1864ms
2025-11-24 18:31:39.920 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479}/void - application/json 32
2025-11-24 18:31:39.945 +02:00 [INF] Request started
2025-11-24 18:31:39.948 +02:00 [INF] === Incoming Request ===
2025-11-24 18:31:39.950 +02:00 [INF] Path: /api/purchases/SupplierPayments/%7Bc5d0a8d4-e54b-4464-8604-08de2b6cf479%7D/void
2025-11-24 18:31:39.951 +02:00 [INF] Method: POST
2025-11-24 18:31:39.953 +02:00 [INF] === Headers ===
2025-11-24 18:31:39.955 +02:00 [INF] Accept: ["*/*"]
2025-11-24 18:31:39.958 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 18:31:39.960 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 18:31:39.962 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 18:31:39.968 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 18:31:39.969 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 18:31:39.971 +02:00 [INF] Content-Length: ["32"]
2025-11-24 18:31:39.973 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 18:31:39.974 +02:00 [INF] Postman-Token: ["bbe75525-1aa8-4d34-ac9d-ba329fe341a3"]
2025-11-24 18:31:39.981 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 18:31:39.983 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 18:31:39.985 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.VoidSupplierPayment (ModularERP)'
2025-11-24 18:31:40.020 +02:00 [INF] Route matched with {action = "VoidSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VoidSupplierPayment(System.Guid, ModularERP.Modules.Purchases.Invoicing.Controllers.VoidSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 18:31:40.031 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 18:31:40.139 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-11-24 18:31:40.224 +02:00 [INF] Voiding supplier payment: "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
2025-11-24 18:31:40.508 +02:00 [INF] Payment voided successfully: "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
2025-11-24 18:31:40.516 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-24 18:31:40.532 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.VoidSupplierPayment (ModularERP) in 502.167ms
2025-11-24 18:31:40.534 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.VoidSupplierPayment (ModularERP)'
2025-11-24 18:31:40.537 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 18:31:40.542 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479}/void - 200 null application/json; charset=utf-8 622.7936ms
2025-11-24 18:38:42.194 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 373
2025-11-24 18:38:42.212 +02:00 [INF] Request started
2025-11-24 18:38:42.214 +02:00 [INF] === Incoming Request ===
2025-11-24 18:38:42.215 +02:00 [INF] Path: /api/purchases/SupplierPayments
2025-11-24 18:38:42.216 +02:00 [INF] Method: POST
2025-11-24 18:38:42.217 +02:00 [INF] === Headers ===
2025-11-24 18:38:42.218 +02:00 [INF] Accept: ["*/*"]
2025-11-24 18:38:42.220 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 18:38:42.221 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 18:38:42.225 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 18:38:42.227 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 18:38:42.228 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 18:38:42.229 +02:00 [INF] Content-Length: ["373"]
2025-11-24 18:38:42.231 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 18:38:42.234 +02:00 [INF] Postman-Token: ["bed5509f-8313-4fa9-8e5c-78ea85fbe4d8"]
2025-11-24 18:38:42.237 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 18:38:42.238 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 18:38:42.240 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 18:38:42.245 +02:00 [INF] Route matched with {action = "CreateSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSupplierPayment(ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.CreateSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 18:38:43.244 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 18:38:43.267 +02:00 [INF] Creating supplier payment for Supplier: "b4c57f6f-47c9-43d1-8021-0ff57a3b4e79"
2025-11-24 18:38:43.444 +02:00 [INF] Supplier payment created successfully: "98774b55-e395-4956-bad0-08de2b77ee69"
2025-11-24 18:38:43.530 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 18:38:43.556 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP) in 1306.6101ms
2025-11-24 18:38:43.559 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 18:38:43.561 +02:00 [INF] Request completed successfully with status code 201
2025-11-24 18:38:43.562 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 201 null application/json; charset=utf-8 1368.4515ms
2025-11-24 18:39:49.669 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - application/json 342
2025-11-24 18:39:49.682 +02:00 [INF] Request started
2025-11-24 18:39:49.684 +02:00 [INF] === Incoming Request ===
2025-11-24 18:39:49.686 +02:00 [INF] Path: /api/purchases/SupplierPayments
2025-11-24 18:39:49.687 +02:00 [INF] Method: POST
2025-11-24 18:39:49.689 +02:00 [INF] === Headers ===
2025-11-24 18:39:49.690 +02:00 [INF] Accept: ["*/*"]
2025-11-24 18:39:49.691 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 18:39:49.693 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 18:39:49.694 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 18:39:49.696 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 18:39:49.699 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 18:39:49.702 +02:00 [INF] Content-Length: ["342"]
2025-11-24 18:39:49.704 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 18:39:49.705 +02:00 [INF] Postman-Token: ["c341369a-e7f7-493e-aaaf-8277eabcc4e4"]
2025-11-24 18:39:49.707 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 18:39:49.709 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 18:39:49.710 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 18:39:49.712 +02:00 [INF] Route matched with {action = "CreateSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSupplierPayment(ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.CreateSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 18:39:49.719 +02:00 [INF] Creating supplier payment for Supplier: "b4c57f6f-47c9-43d1-8021-0ff57a3b4e79"
2025-11-24 18:39:49.737 +02:00 [INF] Supplier payment created successfully: "6a72aa83-5920-44c5-bad1-08de2b77ee69"
2025-11-24 18:39:49.746 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 18:39:49.751 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP) in 35.7837ms
2025-11-24 18:39:49.753 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.CreateSupplierPayment (ModularERP)'
2025-11-24 18:39:49.755 +02:00 [INF] Request completed successfully with status code 201
2025-11-24 18:39:49.758 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/purchases/SupplierPayments - 201 null application/json; charset=utf-8 88.364ms
2025-11-24 18:45:00.539 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments - null null
2025-11-24 18:45:00.544 +02:00 [INF] Request started
2025-11-24 18:45:00.545 +02:00 [INF] === Incoming Request ===
2025-11-24 18:45:00.546 +02:00 [INF] Path: /api/purchases/SupplierPayments
2025-11-24 18:45:00.547 +02:00 [INF] Method: GET
2025-11-24 18:45:00.551 +02:00 [INF] === Headers ===
2025-11-24 18:45:00.552 +02:00 [INF] Accept: ["*/*"]
2025-11-24 18:45:00.554 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 18:45:00.555 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 18:45:00.557 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 18:45:00.560 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 18:45:00.561 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 18:45:00.564 +02:00 [INF] Postman-Token: ["b1488b51-72eb-4bfc-a57d-3096feafad4c"]
2025-11-24 18:45:00.567 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 18:45:00.567 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 18:45:00.569 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPayments (ModularERP)'
2025-11-24 18:45:00.575 +02:00 [INF] Route matched with {action = "GetSupplierPayments", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSupplierPayments(System.Nullable`1[System.Guid], System.Nullable`1[System.Guid], System.Nullable`1[System.Guid], System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 18:45:00.594 +02:00 [ERR] Error retrieving supplier payments list
System.InvalidOperationException: The expression 'sp.CreatedBy' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see https://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.PopulateIncludeTree(IncludeTreeNode includeTreeNode, Expression expression, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at ModularERP.Modules.Purchases.Invoicing.Handlers.Handlers_SupplierPayments.GetSupplierPaymentsListHandler.Handle(GetSupplierPaymentsListQuery request, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Modules\Purchases\Invoicing\Handlers\Handlers_SupplierPayments\GetSupplierPaymentsListHandler.cs:line 64
2025-11-24 18:45:00.674 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.PagedResult`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 18:45:00.681 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPayments (ModularERP) in 102.7549ms
2025-11-24 18:45:00.684 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPayments (ModularERP)'
2025-11-24 18:45:00.687 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 18:45:00.689 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments - 200 null application/json; charset=utf-8 149.0766ms
2025-11-24 18:47:11.007 +02:00 [INF] Starting web host...
2025-11-24 18:47:12.759 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 18:47:12.833 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 18:47:12.901 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 18:47:12.906 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 18:47:12.923 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 18:47:12.976 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 18:47:12.993 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 18:47:12.998 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 18:47:13.006 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 18:47:13.019 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 18:47:13.026 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 18:47:13.215 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 18:47:13.223 +02:00 [INF] Master database initialized successfully
2025-11-24 18:47:15.126 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 18:47:15.232 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 18:47:15.235 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 18:47:15.324 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 18:47:15.326 +02:00 [INF] Hosting environment: Development
2025-11-24 18:47:15.327 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 18:47:15.410 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 18:47:15.597 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 187.6805ms
2025-11-24 18:47:15.744 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 18:47:15.744 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 18:47:15.755 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.2416ms
2025-11-24 18:47:15.771 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.8693ms
2025-11-24 18:47:15.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 18:47:16.147 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 312.2011ms
2025-11-24 18:47:23.828 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments - null null
2025-11-24 18:47:23.854 +02:00 [INF] Request started
2025-11-24 18:47:23.857 +02:00 [INF] === Incoming Request ===
2025-11-24 18:47:23.859 +02:00 [INF] Path: /api/purchases/SupplierPayments
2025-11-24 18:47:23.861 +02:00 [INF] Method: GET
2025-11-24 18:47:23.862 +02:00 [INF] === Headers ===
2025-11-24 18:47:23.865 +02:00 [INF] Accept: ["*/*"]
2025-11-24 18:47:23.869 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 18:47:23.871 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 18:47:23.872 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 18:47:23.875 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 18:47:23.877 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 18:47:23.879 +02:00 [INF] Postman-Token: ["83e77879-4c36-4a98-bf9d-18533f19807b"]
2025-11-24 18:47:23.886 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 18:47:23.887 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 18:47:23.889 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPayments (ModularERP)'
2025-11-24 18:47:23.912 +02:00 [INF] Route matched with {action = "GetSupplierPayments", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSupplierPayments(System.Nullable`1[System.Guid], System.Nullable`1[System.Guid], System.Nullable`1[System.Guid], System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 18:47:23.919 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 18:47:24.024 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-11-24 18:47:24.787 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 18:47:25.288 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.PagedResult`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 18:47:25.329 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPayments (ModularERP) in 1410.7627ms
2025-11-24 18:47:25.332 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPayments (ModularERP)'
2025-11-24 18:47:25.336 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 18:47:25.344 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments - 200 null application/json; charset=utf-8 1515.3371ms
2025-11-24 18:50:24.742 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/{d248dbde-0c52-47b5-8c9d-08de2b6c52cd} - null null
2025-11-24 18:50:24.761 +02:00 [INF] Request started
2025-11-24 18:50:24.763 +02:00 [INF] === Incoming Request ===
2025-11-24 18:50:24.764 +02:00 [INF] Path: /api/purchases/SupplierPayments/%7Bd248dbde-0c52-47b5-8c9d-08de2b6c52cd%7D
2025-11-24 18:50:24.766 +02:00 [INF] Method: GET
2025-11-24 18:50:24.767 +02:00 [INF] === Headers ===
2025-11-24 18:50:24.768 +02:00 [INF] Accept: ["*/*"]
2025-11-24 18:50:24.769 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 18:50:24.773 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 18:50:24.775 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 18:50:24.777 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 18:50:24.778 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 18:50:24.782 +02:00 [INF] Postman-Token: ["bd0bf1fc-8799-47a1-bd9b-310e1169785a"]
2025-11-24 18:50:24.788 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 18:50:24.790 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 18:50:24.792 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentById (ModularERP)'
2025-11-24 18:50:24.797 +02:00 [INF] Route matched with {action = "GetSupplierPaymentById", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSupplierPaymentById(System.Guid) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 18:50:24.853 +02:00 [INF] Fetching supplier payment: "d248dbde-0c52-47b5-8c9d-08de2b6c52cd"
2025-11-24 18:50:24.897 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 18:50:24.901 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentById (ModularERP) in 100.2651ms
2025-11-24 18:50:24.903 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentById (ModularERP)'
2025-11-24 18:50:24.906 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 18:50:24.910 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/{d248dbde-0c52-47b5-8c9d-08de2b6c52cd} - 200 null application/json; charset=utf-8 167.3022ms
2025-11-24 18:50:55.977 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479} - null null
2025-11-24 18:50:55.983 +02:00 [INF] Request started
2025-11-24 18:50:55.985 +02:00 [INF] === Incoming Request ===
2025-11-24 18:50:55.986 +02:00 [INF] Path: /api/purchases/SupplierPayments/%7Bc5d0a8d4-e54b-4464-8604-08de2b6cf479%7D
2025-11-24 18:50:55.989 +02:00 [INF] Method: GET
2025-11-24 18:50:55.990 +02:00 [INF] === Headers ===
2025-11-24 18:50:55.991 +02:00 [INF] Accept: ["*/*"]
2025-11-24 18:50:55.993 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 18:50:55.995 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 18:50:55.998 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 18:50:56.000 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 18:50:56.001 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 18:50:56.003 +02:00 [INF] Postman-Token: ["b2ba251c-7638-4346-8153-d6e5ded519e8"]
2025-11-24 18:50:56.005 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 18:50:56.008 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 18:50:56.009 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentById (ModularERP)'
2025-11-24 18:50:56.011 +02:00 [INF] Route matched with {action = "GetSupplierPaymentById", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSupplierPaymentById(System.Guid) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 18:50:56.016 +02:00 [INF] Fetching supplier payment: "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
2025-11-24 18:50:56.032 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 18:50:56.035 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentById (ModularERP) in 20.704ms
2025-11-24 18:50:56.038 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentById (ModularERP)'
2025-11-24 18:50:56.040 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 18:50:56.041 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479} - 200 null application/json; charset=utf-8 64.398ms
2025-11-24 19:01:58.687 +02:00 [INF] Starting web host...
2025-11-24 19:02:00.519 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 19:02:00.591 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-11-24 19:02:00.677 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 19:02:00.683 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-24 19:02:00.699 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-24 19:02:00.796 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-24 19:02:00.818 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-24 19:02:00.823 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-24 19:02:00.833 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-24 19:02:00.847 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-11-24 19:02:00.854 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-24 19:02:01.055 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-24 19:02:01.065 +02:00 [INF] Master database initialized successfully
2025-11-24 19:02:03.540 +02:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-24 19:02:03.653 +02:00 [INF] Now listening on: https://localhost:7168
2025-11-24 19:02:03.655 +02:00 [INF] Now listening on: http://localhost:5004
2025-11-24 19:02:03.775 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-24 19:02:03.777 +02:00 [INF] Hosting environment: Development
2025-11-24 19:02:03.778 +02:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-11-24 19:02:04.048 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-11-24 19:02:04.190 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 142.6316ms
2025-11-24 19:02:04.198 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-11-24 19:02:04.198 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-11-24 19:02:04.208 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.1972ms
2025-11-24 19:02:04.231 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.0055ms
2025-11-24 19:02:04.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-11-24 19:02:04.633 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 261.2205ms
2025-11-24 19:06:39.360 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479} - application/json 442
2025-11-24 19:06:39.388 +02:00 [INF] Request started
2025-11-24 19:06:39.390 +02:00 [INF] === Incoming Request ===
2025-11-24 19:06:39.393 +02:00 [INF] Path: /api/purchases/SupplierPayments/%7Bc5d0a8d4-e54b-4464-8604-08de2b6cf479%7D
2025-11-24 19:06:39.394 +02:00 [INF] Method: PUT
2025-11-24 19:06:39.395 +02:00 [INF] === Headers ===
2025-11-24 19:06:39.398 +02:00 [INF] Accept: ["*/*"]
2025-11-24 19:06:39.402 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 19:06:39.403 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 19:06:39.405 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 19:06:39.406 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 19:06:39.409 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 19:06:39.411 +02:00 [INF] Content-Length: ["442"]
2025-11-24 19:06:39.413 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 19:06:39.414 +02:00 [INF] Postman-Token: ["98d0072e-1452-48d3-ad5c-21b5ebbb4026"]
2025-11-24 19:06:39.419 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 19:06:39.421 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 19:06:39.423 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment (ModularERP)'
2025-11-24 19:06:39.444 +02:00 [INF] Route matched with {action = "UpdateSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSupplierPayment(System.Guid, ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.UpdateSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 19:06:39.450 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 19:06:39.582 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-11-24 19:06:40.422 +02:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-11-24 19:06:40.443 +02:00 [INF] Updating supplier payment: "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
2025-11-24 19:06:40.706 +02:00 [WRN] Cannot update voided payment: "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
2025-11-24 19:06:40.709 +02:00 [WRN] Business logic error updating supplier payment "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
ModularERP.Common.Exceptions.BusinessLogicException: Cannot update a voided payment
   at ModularERP.Modules.Purchases.Invoicing.Handlers.Handlers_SupplierPayments.UpdateSupplierPaymentHandler.Handle(UpdateSupplierPaymentCommand request, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Modules\Purchases\Invoicing\Handlers\Handlers_SupplierPayments\UpdateSupplierPaymentHandler.cs:line 66
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment(Guid id, UpdateSupplierPaymentDto dto) in E:\ModelerERP\ModularERP\ModularERP\Modules\Purchases\Invoicing\Controllers\SupplierPaymentsController.cs:line 191
2025-11-24 19:06:40.785 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 19:06:40.803 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment (ModularERP) in 1352.089ms
2025-11-24 19:06:40.806 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment (ModularERP)'
2025-11-24 19:06:40.808 +02:00 [INF] Request completed successfully with status code 400
2025-11-24 19:06:40.814 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479} - 400 null application/json; charset=utf-8 1454.258ms
2025-11-24 19:06:43.258 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479} - application/json 386
2025-11-24 19:06:43.276 +02:00 [INF] Request started
2025-11-24 19:06:43.277 +02:00 [INF] === Incoming Request ===
2025-11-24 19:06:43.278 +02:00 [INF] Path: /api/purchases/SupplierPayments/%7Bc5d0a8d4-e54b-4464-8604-08de2b6cf479%7D
2025-11-24 19:06:43.280 +02:00 [INF] Method: PUT
2025-11-24 19:06:43.282 +02:00 [INF] === Headers ===
2025-11-24 19:06:43.284 +02:00 [INF] Accept: ["*/*"]
2025-11-24 19:06:43.285 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 19:06:43.288 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 19:06:43.289 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 19:06:43.292 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 19:06:43.293 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 19:06:43.295 +02:00 [INF] Content-Length: ["386"]
2025-11-24 19:06:43.299 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 19:06:43.302 +02:00 [INF] Postman-Token: ["3fc16107-c7f0-411d-a16e-db27ef7c5242"]
2025-11-24 19:06:43.305 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 19:06:43.307 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 19:06:43.308 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment (ModularERP)'
2025-11-24 19:06:43.310 +02:00 [INF] Route matched with {action = "UpdateSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSupplierPayment(System.Guid, ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.UpdateSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 19:06:43.317 +02:00 [INF] Updating supplier payment: "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
2025-11-24 19:06:43.324 +02:00 [WRN] Cannot update voided payment: "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
2025-11-24 19:06:43.325 +02:00 [WRN] Business logic error updating supplier payment "c5d0a8d4-e54b-4464-8604-08de2b6cf479"
ModularERP.Common.Exceptions.BusinessLogicException: Cannot update a voided payment
   at ModularERP.Modules.Purchases.Invoicing.Handlers.Handlers_SupplierPayments.UpdateSupplierPaymentHandler.Handle(UpdateSupplierPaymentCommand request, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Modules\Purchases\Invoicing\Handlers\Handlers_SupplierPayments\UpdateSupplierPaymentHandler.cs:line 66
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment(Guid id, UpdateSupplierPaymentDto dto) in E:\ModelerERP\ModularERP\ModularERP\Modules\Purchases\Invoicing\Controllers\SupplierPaymentsController.cs:line 191
2025-11-24 19:06:43.334 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 19:06:43.339 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment (ModularERP) in 26.4301ms
2025-11-24 19:06:43.340 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment (ModularERP)'
2025-11-24 19:06:43.342 +02:00 [INF] Request completed successfully with status code 400
2025-11-24 19:06:43.345 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/purchases/SupplierPayments/{c5d0a8d4-e54b-4464-8604-08de2b6cf479} - 400 null application/json; charset=utf-8 86.5333ms
2025-11-24 19:06:59.997 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments - null null
2025-11-24 19:07:00.004 +02:00 [INF] Request started
2025-11-24 19:07:00.005 +02:00 [INF] === Incoming Request ===
2025-11-24 19:07:00.009 +02:00 [INF] Path: /api/purchases/SupplierPayments
2025-11-24 19:07:00.012 +02:00 [INF] Method: GET
2025-11-24 19:07:00.013 +02:00 [INF] === Headers ===
2025-11-24 19:07:00.015 +02:00 [INF] Accept: ["*/*"]
2025-11-24 19:07:00.020 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 19:07:00.022 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 19:07:00.024 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 19:07:00.026 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 19:07:00.028 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 19:07:00.030 +02:00 [INF] Postman-Token: ["aee1a1b9-eeb8-451b-9b43-8a48aedba47a"]
2025-11-24 19:07:00.032 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 19:07:00.034 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 19:07:00.035 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPayments (ModularERP)'
2025-11-24 19:07:00.043 +02:00 [INF] Route matched with {action = "GetSupplierPayments", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSupplierPayments(System.Nullable`1[System.Guid], System.Nullable`1[System.Guid], System.Nullable`1[System.Guid], System.String, System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], Int32, Int32) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 19:07:00.229 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.PagedResult`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 19:07:00.241 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPayments (ModularERP) in 192.5207ms
2025-11-24 19:07:00.244 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPayments (ModularERP)'
2025-11-24 19:07:00.248 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 19:07:00.251 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments - 200 null application/json; charset=utf-8 254.1289ms
2025-11-24 19:07:13.284 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/purchases/SupplierPayments/{6a72aa83-5920-44c5-bad1-08de2b77ee69} - application/json 383
2025-11-24 19:07:13.290 +02:00 [INF] Request started
2025-11-24 19:07:13.291 +02:00 [INF] === Incoming Request ===
2025-11-24 19:07:13.293 +02:00 [INF] Path: /api/purchases/SupplierPayments/%7B6a72aa83-5920-44c5-bad1-08de2b77ee69%7D
2025-11-24 19:07:13.295 +02:00 [INF] Method: PUT
2025-11-24 19:07:13.296 +02:00 [INF] === Headers ===
2025-11-24 19:07:13.298 +02:00 [INF] Accept: ["*/*"]
2025-11-24 19:07:13.299 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 19:07:13.301 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 19:07:13.302 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 19:07:13.306 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 19:07:13.308 +02:00 [INF] Content-Type: ["application/json"]
2025-11-24 19:07:13.310 +02:00 [INF] Content-Length: ["383"]
2025-11-24 19:07:13.311 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 19:07:13.313 +02:00 [INF] Postman-Token: ["b7534d1f-7095-4288-9088-87484862b3ee"]
2025-11-24 19:07:13.317 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 19:07:13.318 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 19:07:13.320 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment (ModularERP)'
2025-11-24 19:07:13.323 +02:00 [INF] Route matched with {action = "UpdateSupplierPayment", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSupplierPayment(System.Guid, ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.UpdateSupplierPaymentDto) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 19:07:13.331 +02:00 [INF] Updating supplier payment: "6a72aa83-5920-44c5-bad1-08de2b77ee69"
2025-11-24 19:07:13.486 +02:00 [INF] Payment updated successfully: "6a72aa83-5920-44c5-bad1-08de2b77ee69"
2025-11-24 19:07:13.511 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 19:07:13.515 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment (ModularERP) in 187.5192ms
2025-11-24 19:07:13.516 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.UpdateSupplierPayment (ModularERP)'
2025-11-24 19:07:13.518 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 19:07:13.520 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/purchases/SupplierPayments/{6a72aa83-5920-44c5-bad1-08de2b77ee69} - 200 null application/json; charset=utf-8 235.7976ms
2025-11-24 19:10:49.707 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/supplier/{b4c57f6f-47c9-43d1-8021-0ff57a3b4e79} - null null
2025-11-24 19:10:49.710 +02:00 [INF] Request started
2025-11-24 19:10:49.711 +02:00 [INF] === Incoming Request ===
2025-11-24 19:10:49.712 +02:00 [INF] Path: /api/purchases/SupplierPayments/supplier/%7Bb4c57f6f-47c9-43d1-8021-0ff57a3b4e79%7D
2025-11-24 19:10:49.714 +02:00 [INF] Method: GET
2025-11-24 19:10:49.717 +02:00 [INF] === Headers ===
2025-11-24 19:10:49.718 +02:00 [INF] Accept: ["*/*"]
2025-11-24 19:10:49.720 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 19:10:49.721 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 19:10:49.723 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 19:10:49.724 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 19:10:49.727 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 19:10:49.729 +02:00 [INF] Postman-Token: ["039f4a82-7e29-4497-9a0b-68477222517e"]
2025-11-24 19:10:49.730 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 19:10:49.732 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 19:10:49.733 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentsBySupplierId (ModularERP)'
2025-11-24 19:10:49.739 +02:00 [INF] Route matched with {action = "GetSupplierPaymentsBySupplierId", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSupplierPaymentsBySupplierId(System.Guid, Int32, Int32) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 19:10:49.811 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.PagedResult`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 19:10:49.814 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentsBySupplierId (ModularERP) in 71.6248ms
2025-11-24 19:10:49.818 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentsBySupplierId (ModularERP)'
2025-11-24 19:10:49.819 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 19:10:49.822 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/supplier/{b4c57f6f-47c9-43d1-8021-0ff57a3b4e79} - 200 null application/json; charset=utf-8 115.5523ms
2025-11-24 19:12:55.894 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/purchase-order/{c9419c66-ab1f-4857-a967-37221b235ea5} - null null
2025-11-24 19:12:55.898 +02:00 [INF] Request started
2025-11-24 19:12:55.900 +02:00 [INF] === Incoming Request ===
2025-11-24 19:12:55.902 +02:00 [INF] Path: /api/purchases/SupplierPayments/purchase-order/%7Bc9419c66-ab1f-4857-a967-37221b235ea5%7D
2025-11-24 19:12:55.903 +02:00 [INF] Method: GET
2025-11-24 19:12:55.906 +02:00 [INF] === Headers ===
2025-11-24 19:12:55.908 +02:00 [INF] Accept: ["*/*"]
2025-11-24 19:12:55.911 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 19:12:55.912 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 19:12:55.915 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 19:12:55.916 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 19:12:55.918 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 19:12:55.919 +02:00 [INF] Postman-Token: ["2f710577-4114-42f5-9b85-366beabbe462"]
2025-11-24 19:12:55.921 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 19:12:55.922 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 19:12:55.925 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentsByPurchaseOrderId (ModularERP)'
2025-11-24 19:12:55.930 +02:00 [INF] Route matched with {action = "GetSupplierPaymentsByPurchaseOrderId", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSupplierPaymentsByPurchaseOrderId(System.Guid, Int32, Int32) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 19:12:55.993 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.PagedResult`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 19:12:55.996 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentsByPurchaseOrderId (ModularERP) in 61.3702ms
2025-11-24 19:12:55.998 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentsByPurchaseOrderId (ModularERP)'
2025-11-24 19:12:56.000 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 19:12:56.003 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/purchase-order/{c9419c66-ab1f-4857-a967-37221b235ea5} - 200 null application/json; charset=utf-8 108.8992ms
2025-11-24 19:13:08.382 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/purchase-order/{c9419c66-ab1f-4857-a967-37221b235ea5} - null null
2025-11-24 19:13:08.387 +02:00 [INF] Request started
2025-11-24 19:13:08.389 +02:00 [INF] === Incoming Request ===
2025-11-24 19:13:08.390 +02:00 [INF] Path: /api/purchases/SupplierPayments/purchase-order/%7Bc9419c66-ab1f-4857-a967-37221b235ea5%7D
2025-11-24 19:13:08.393 +02:00 [INF] Method: GET
2025-11-24 19:13:08.394 +02:00 [INF] === Headers ===
2025-11-24 19:13:08.395 +02:00 [INF] Accept: ["*/*"]
2025-11-24 19:13:08.397 +02:00 [INF] Connection: ["keep-alive"]
2025-11-24 19:13:08.398 +02:00 [INF] Host: ["localhost:7168"]
2025-11-24 19:13:08.400 +02:00 [INF] User-Agent: ["PostmanRuntime/7.49.1"]
2025-11-24 19:13:08.404 +02:00 [INF] Accept-Encoding: ["gzip, deflate, br"]
2025-11-24 19:13:08.405 +02:00 [INF] X-Tenant-ID: ["6f81c000-285c-4e6a-8125-bc36d14ac4ad"]
2025-11-24 19:13:08.407 +02:00 [INF] Postman-Token: ["a6b76f93-50f1-46a3-84fd-c4408ba99341"]
2025-11-24 19:13:08.408 +02:00 [INF] üîç TenantService returned: '6f81c000-285c-4e6a-8125-bc36d14ac4ad'
2025-11-24 19:13:08.410 +02:00 [INF] ‚úÖ Processing request for tenant: 6f81c000-285c-4e6a-8125-bc36d14ac4ad
2025-11-24 19:13:08.411 +02:00 [INF] Executing endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentsByPurchaseOrderId (ModularERP)'
2025-11-24 19:13:08.414 +02:00 [INF] Route matched with {action = "GetSupplierPaymentsByPurchaseOrderId", controller = "SupplierPayments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSupplierPaymentsByPurchaseOrderId(System.Guid, Int32, Int32) on controller ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController (ModularERP).
2025-11-24 19:13:08.423 +02:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.PagedResult`1[[ModularERP.Modules.Purchases.Invoicing.DTO.DTO_SupplierPayments.SupplierPaymentDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 19:13:08.428 +02:00 [INF] Executed action ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentsByPurchaseOrderId (ModularERP) in 9.7497ms
2025-11-24 19:13:08.430 +02:00 [INF] Executed endpoint 'ModularERP.Modules.Purchases.Invoicing.Controllers.SupplierPaymentsController.GetSupplierPaymentsByPurchaseOrderId (ModularERP)'
2025-11-24 19:13:08.433 +02:00 [INF] Request completed successfully with status code 200
2025-11-24 19:13:08.435 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/purchases/SupplierPayments/purchase-order/{c9419c66-ab1f-4857-a967-37221b235ea5} - 200 null application/json; charset=utf-8 52.5999ms
2025-11-24 19:39:10.951 +02:00 [INF] Starting web host...
2025-11-24 19:39:12.199 +02:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 258
