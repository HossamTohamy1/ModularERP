2025-09-23 14:20:32.582 +03:00 [INF] Starting web host...
2025-09-23 14:20:32.832 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 151
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-09-23 17:44:29.729 +03:00 [INF] Starting web host...
2025-09-23 17:44:29.925 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 151
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-09-23 17:45:04.346 +03:00 [INF] Starting web host...
2025-09-23 17:45:04.540 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 151
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-09-23 17:45:11.846 +03:00 [INF] Starting web host...
2025-09-23 17:45:12.045 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 151
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-09-23 17:45:21.525 +03:00 [INF] Starting web host...
2025-09-23 17:45:21.709 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 151
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-09-23 17:52:37.996 +03:00 [INF] Starting web host...
2025-09-23 17:52:38.233 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 151
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-09-23 17:55:38.105 +03:00 [INF] Starting web host...
2025-09-23 17:55:38.323 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.) (Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.CreateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.CreateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 154
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.DeleteCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.DeleteCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

 ---> (Inner Exception #2) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: MediatR.IRequestHandler`2[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand,ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]] Lifetime: Transient ImplementationType: ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler': Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'FluentValidation.IValidator`1[ModularERP.Modules.Finance.Features.Companys.Commands.UpdateCompanyCommand]' while attempting to activate 'ModularERP.Modules.Finance.Features.Companys.Handlers.UpdateCompanyHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, ServiceIdentifier serviceIdentifier, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, ServiceIdentifier serviceIdentifier, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2025-09-23 18:10:38.927 +03:00 [INF] Starting web host...
2025-09-23 18:10:39.708 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:10:39.746 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 18:10:39.845 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:10:39.850 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 18:10:39.855 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 18:10:39.910 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 18:10:39.927 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:10:39.931 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 18:10:39.942 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 18:10:39.954 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 18:10:39.958 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 18:10:40.168 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 18:10:40.176 +03:00 [INF] Master database initialized successfully
2025-09-23 18:10:40.452 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 18:10:40.454 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 18:10:40.518 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 18:10:40.520 +03:00 [INF] Hosting environment: Development
2025-09-23 18:10:40.521 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 18:10:41.051 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger - null null
2025-09-23 18:10:41.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger - 301 0 null 137.6335ms
2025-09-23 18:10:41.189 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:10:41.246 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 57.5442ms
2025-09-23 18:10:41.253 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:10:41.255 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:10:41.264 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.5897ms
2025-09-23 18:10:41.304 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.229ms
2025-09-23 18:10:41.440 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:10:41.493 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.14ms
2025-09-23 18:10:57.606 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Companies - null null
2025-09-23 18:10:57.630 +03:00 [INF] Request started
2025-09-23 18:10:57.643 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 18:10:57.646 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Companies - 400 null application/json 40.0709ms
2025-09-23 18:11:10.334 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Companies - null null
2025-09-23 18:11:10.340 +03:00 [INF] Request started
2025-09-23 18:11:10.345 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 18:11:10.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Companies - 400 null application/json 12.1967ms
2025-09-23 18:16:51.093 +03:00 [INF] Starting web host...
2025-09-23 18:16:51.867 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:16:51.897 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 18:16:51.974 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:16:51.980 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 18:16:51.983 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 18:16:52.037 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 18:16:52.053 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:16:52.057 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 18:16:52.063 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 18:16:52.073 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 18:16:52.077 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 18:16:52.239 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 18:16:52.246 +03:00 [INF] Master database initialized successfully
2025-09-23 18:16:52.380 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 18:16:52.382 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 18:16:52.439 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 18:16:52.441 +03:00 [INF] Hosting environment: Development
2025-09-23 18:16:52.443 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 18:16:52.515 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:16:52.628 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 113.7332ms
2025-09-23 18:16:52.754 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:16:52.754 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:16:52.763 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.8093ms
2025-09-23 18:16:52.778 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.6355ms
2025-09-23 18:16:52.825 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:16:52.861 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.9555ms
2025-09-23 18:17:01.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Companies - null null
2025-09-23 18:17:01.182 +03:00 [INF] Request started
2025-09-23 18:17:01.192 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 18:17:01.196 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Companies - 400 null application/json 33.0505ms
2025-09-23 18:19:20.901 +03:00 [INF] Starting web host...
2025-09-23 18:19:21.667 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:19:21.705 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 18:19:21.781 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:19:21.787 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 18:19:21.791 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 18:19:21.843 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 18:19:21.860 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:19:21.864 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 18:19:21.870 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 18:19:21.884 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 18:19:21.888 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 18:19:22.069 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 18:19:22.077 +03:00 [INF] Master database initialized successfully
2025-09-23 18:19:22.248 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 18:19:22.250 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 18:19:22.333 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 18:19:22.335 +03:00 [INF] Hosting environment: Development
2025-09-23 18:19:22.334 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:19:22.337 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 18:19:22.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 136.2131ms
2025-09-23 18:19:22.479 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:19:22.479 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:19:22.494 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 14.2194ms
2025-09-23 18:19:22.517 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.2451ms
2025-09-23 18:19:22.673 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:19:22.725 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.3008ms
2025-09-23 18:19:25.917 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:19:25.928 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 10.9347ms
2025-09-23 18:19:25.939 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:19:25.939 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:19:25.949 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 9.594ms
2025-09-23 18:19:25.953 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.7795ms
2025-09-23 18:19:25.993 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:19:26.033 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.8374ms
2025-09-23 18:19:29.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Companies - null null
2025-09-23 18:19:29.952 +03:00 [INF] Request started
2025-09-23 18:19:29.963 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 18:19:29.966 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Companies - 400 null application/json 31.5461ms
2025-09-23 18:24:51.899 +03:00 [INF] Starting web host...
2025-09-23 18:24:52.700 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:24:52.732 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 18:24:52.808 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:24:52.813 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 18:24:52.817 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 18:24:52.870 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 18:24:52.886 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:24:52.892 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 18:24:52.897 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 18:24:52.908 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 18:24:52.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 18:24:53.078 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 18:24:53.085 +03:00 [INF] Master database initialized successfully
2025-09-23 18:24:53.216 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 18:24:53.217 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 18:24:53.273 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 18:24:53.275 +03:00 [INF] Hosting environment: Development
2025-09-23 18:24:53.277 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 18:24:53.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:24:53.454 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 124.2504ms
2025-09-23 18:24:53.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:24:53.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:24:53.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 20.7335ms
2025-09-23 18:24:53.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.8568ms
2025-09-23 18:24:53.641 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:24:53.681 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.8404ms
2025-09-23 18:24:57.560 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:24:57.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 9.4697ms
2025-09-23 18:24:57.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:24:57.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:24:57.582 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 4.3239ms
2025-09-23 18:24:57.593 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.1218ms
2025-09-23 18:24:57.668 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:24:57.702 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.7086ms
2025-09-23 18:25:16.182 +03:00 [INF] Starting web host...
2025-09-23 18:25:18.308 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:25:18.356 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 18:25:18.503 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:25:18.509 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 18:25:18.515 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 18:25:18.665 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 18:25:18.684 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:25:18.688 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 18:25:18.697 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 18:25:18.713 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 18:25:18.718 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 18:25:19.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 18:25:19.039 +03:00 [INF] Master database initialized successfully
2025-09-23 18:25:19.416 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 18:25:19.417 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 18:25:19.506 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 18:25:19.508 +03:00 [INF] Hosting environment: Development
2025-09-23 18:25:19.509 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 18:25:19.929 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:25:20.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 363.9287ms
2025-09-23 18:25:20.297 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:25:20.298 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:25:20.374 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 79.8235ms
2025-09-23 18:25:20.425 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 127.7473ms
2025-09-23 18:25:20.488 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:25:20.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.7162ms
2025-09-23 18:25:28.714 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Companies - null null
2025-09-23 18:25:28.727 +03:00 [INF] Request started
2025-09-23 18:25:28.740 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 18:25:28.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Companies - 400 null application/json 29.3805ms
2025-09-23 18:40:10.829 +03:00 [INF] Starting web host...
2025-09-23 18:40:11.549 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:40:11.632 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 18:40:11.735 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:40:11.740 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 18:40:11.754 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 18:40:11.807 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 18:40:11.822 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:40:11.826 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 18:40:11.832 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 18:40:11.843 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 18:40:11.848 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 18:40:11.998 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 18:40:12.006 +03:00 [INF] Master database initialized successfully
2025-09-23 18:40:12.152 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 18:40:12.154 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 18:40:12.214 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 18:40:12.216 +03:00 [INF] Hosting environment: Development
2025-09-23 18:40:12.219 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 18:40:12.340 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:40:12.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 110.522ms
2025-09-23 18:40:12.455 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:40:12.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:40:12.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 30.2682ms
2025-09-23 18:40:12.500 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.8035ms
2025-09-23 18:40:12.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:40:12.588 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.2079ms
2025-09-23 18:40:21.907 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Companies - null null
2025-09-23 18:40:21.928 +03:00 [INF] Request started
2025-09-23 18:40:21.934 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 18:40:21.937 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 18:40:21.955 +03:00 [INF] Route matched with {action = "GetAllCompanies", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.List`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]]] GetAllCompanies() on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 18:40:21.962 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 18:40:22.068 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 18:40:22.720 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 18:40:22.723 +03:00 [INF] Retrieving all companies
2025-09-23 18:40:22.726 +03:00 [ERR] Unexpected error occurred while retrieving companies
System.InvalidOperationException: Tenant ID is required but not found
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.ApplyTenantFilter(IQueryable`1 query) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 63
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.GetAll() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 82
   at ModularERP.Modules.Finance.Features.Companys.Handlers.GetAllCompaniesHandler.Handle(GetAllCompaniesQuery request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\Companys\Handlers\GetAllCompaniesHandler.cs:line 37
2025-09-23 18:40:22.749 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP) in 785.916ms
2025-09-23 18:40:22.752 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 18:40:22.755 +03:00 [WRN] Business logic exception occurred: An error occurred while retrieving companies
ModularERP.Common.Exceptions.BusinessLogicException: An error occurred while retrieving companies
   at ModularERP.Modules.Finance.Features.Companys.Handlers.GetAllCompaniesHandler.Handle(GetAllCompaniesQuery request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\Companys\Handlers\GetAllCompaniesHandler.cs:line 53
   at ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\Companys\Controllers\CompaniesController.cs:line 26
   at lambda_method11(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Program.<>c.<<Main>b__0_7>d.MoveNext() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 245
--- End of stack trace from previous location ---
   at ModularERP.Program.<>c.<<Main>b__0_6>d.MoveNext() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 195
--- End of stack trace from previous location ---
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-23 18:40:22.790 +03:00 [INF] Error response sent with status code 400
2025-09-23 18:40:22.795 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Companies - 400 null application/json; charset=utf-8 888.1676ms
2025-09-23 18:42:00.934 +03:00 [INF] Starting web host...
2025-09-23 18:42:01.667 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:42:01.732 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 18:42:01.808 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:42:01.813 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 18:42:01.818 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 18:42:01.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 18:42:01.886 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 18:42:01.890 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 18:42:01.896 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 18:42:01.907 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 18:42:01.911 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 18:42:02.074 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 18:42:02.081 +03:00 [INF] Master database initialized successfully
2025-09-23 18:42:02.237 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 18:42:02.239 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 18:42:02.307 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 18:42:02.309 +03:00 [INF] Hosting environment: Development
2025-09-23 18:42:02.311 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 18:42:02.382 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:42:02.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 105.7294ms
2025-09-23 18:42:02.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:42:02.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:42:02.510 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 20.8199ms
2025-09-23 18:42:02.522 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.6436ms
2025-09-23 18:42:02.567 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:42:02.596 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.3383ms
2025-09-23 18:42:42.803 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:42:42.814 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 11.1355ms
2025-09-23 18:42:42.823 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:42:42.824 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:42:42.828 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 3.9098ms
2025-09-23 18:42:42.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.7038ms
2025-09-23 18:42:42.896 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:42:42.944 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.1064ms
2025-09-23 18:42:51.464 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 18:42:51.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 6.2394ms
2025-09-23 18:42:51.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 18:42:51.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 18:42:51.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.9222ms
2025-09-23 18:42:51.496 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.8738ms
2025-09-23 18:42:51.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 18:42:51.585 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.7902ms
2025-09-23 18:42:55.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/api/Companies - null null
2025-09-23 18:42:55.420 +03:00 [INF] Request started
2025-09-23 18:42:55.426 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 18:42:55.429 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 18:42:55.442 +03:00 [INF] Route matched with {action = "GetAllCompanies", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.List`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]]] GetAllCompanies() on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 18:42:55.447 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 18:42:55.538 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 18:42:56.050 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 18:42:56.053 +03:00 [INF] Retrieving all companies
2025-09-23 18:42:56.055 +03:00 [ERR] Unexpected error occurred while retrieving companies
System.InvalidOperationException: Tenant ID is required but not found
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.ApplyTenantFilter(IQueryable`1 query) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 63
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.GetAll() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 82
   at ModularERP.Modules.Finance.Features.Companys.Handlers.GetAllCompaniesHandler.Handle(GetAllCompaniesQuery request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\Companys\Handlers\GetAllCompaniesHandler.cs:line 37
2025-09-23 18:42:56.078 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP) in 631.2781ms
2025-09-23 18:42:56.081 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 18:42:56.084 +03:00 [WRN] Business logic exception occurred: An error occurred while retrieving companies
ModularERP.Common.Exceptions.BusinessLogicException: An error occurred while retrieving companies
   at ModularERP.Modules.Finance.Features.Companys.Handlers.GetAllCompaniesHandler.Handle(GetAllCompaniesQuery request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\Companys\Handlers\GetAllCompaniesHandler.cs:line 53
   at ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\Companys\Controllers\CompaniesController.cs:line 26
   at lambda_method11(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Program.<>c.<<Main>b__0_7>d.MoveNext() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 245
--- End of stack trace from previous location ---
   at ModularERP.Program.<>c.<<Main>b__0_6>d.MoveNext() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 195
--- End of stack trace from previous location ---
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-23 18:42:56.105 +03:00 [INF] Error response sent with status code 400
2025-09-23 18:42:56.111 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/api/Companies - 400 null application/json; charset=utf-8 710.501ms
2025-09-23 18:51:47.874 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - null null
2025-09-23 18:51:47.882 +03:00 [INF] Request started
2025-09-23 18:51:47.889 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 18:51:47.891 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 18:51:47.894 +03:00 [INF] Route matched with {action = "GetAllCompanies", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.List`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]]] GetAllCompanies() on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 18:51:47.937 +03:00 [INF] Retrieving all companies
2025-09-23 18:51:47.939 +03:00 [ERR] Unexpected error occurred while retrieving companies
System.InvalidOperationException: Tenant ID is required but not found
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.ApplyTenantFilter(IQueryable`1 query) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 63
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.GetAll() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 82
   at ModularERP.Modules.Finance.Features.Companys.Handlers.GetAllCompaniesHandler.Handle(GetAllCompaniesQuery request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\Companys\Handlers\GetAllCompaniesHandler.cs:line 37
2025-09-23 18:51:47.943 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP) in 45.3206ms
2025-09-23 18:51:47.944 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 18:51:47.945 +03:00 [WRN] Business logic exception occurred: An error occurred while retrieving companies
ModularERP.Common.Exceptions.BusinessLogicException: An error occurred while retrieving companies
   at ModularERP.Modules.Finance.Features.Companys.Handlers.GetAllCompaniesHandler.Handle(GetAllCompaniesQuery request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\Companys\Handlers\GetAllCompaniesHandler.cs:line 53
   at ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\Companys\Controllers\CompaniesController.cs:line 26
   at lambda_method11(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Program.<>c.<<Main>b__0_7>d.MoveNext() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 245
--- End of stack trace from previous location ---
   at ModularERP.Program.<>c.<<Main>b__0_6>d.MoveNext() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 195
--- End of stack trace from previous location ---
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-09-23 18:51:47.960 +03:00 [INF] Error response sent with status code 400
2025-09-23 18:51:47.962 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - 400 null application/json; charset=utf-8 88.4437ms
2025-09-23 19:14:24.253 +03:00 [INF] Starting web host...
2025-09-23 19:14:24.995 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 19:14:25.076 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 19:14:25.145 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 19:14:25.151 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 19:14:25.169 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 19:14:25.222 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 19:14:25.238 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 19:14:25.243 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 19:14:25.250 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 19:14:25.263 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 19:14:25.270 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 19:14:25.434 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 19:14:25.441 +03:00 [INF] Master database initialized successfully
2025-09-23 19:14:25.575 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 19:14:25.577 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 19:14:25.634 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 19:14:25.636 +03:00 [INF] Hosting environment: Development
2025-09-23 19:14:25.638 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 19:14:25.722 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 19:14:25.828 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 107.3525ms
2025-09-23 19:14:25.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 19:14:25.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 19:14:25.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.0296ms
2025-09-23 19:14:25.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.0796ms
2025-09-23 19:14:26.046 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 19:14:26.079 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.4494ms
2025-09-23 19:14:33.905 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - null null
2025-09-23 19:14:33.926 +03:00 [INF] Request started
2025-09-23 19:14:33.940 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 19:14:33.943 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - 400 null application/json 37.6741ms
2025-09-23 19:15:07.226 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - null null
2025-09-23 19:15:07.232 +03:00 [INF] Request started
2025-09-23 19:15:07.235 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 19:15:07.237 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - 400 null application/json 10.7168ms
2025-09-23 19:15:32.670 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - null null
2025-09-23 19:15:32.720 +03:00 [INF] Request started
2025-09-23 19:15:32.725 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:15:32.731 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 19:15:32.745 +03:00 [INF] Route matched with {action = "GetAllCompanies", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.List`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]]] GetAllCompanies() on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 19:15:32.751 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 19:15:32.856 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 19:15:33.410 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 19:15:33.413 +03:00 [INF] Retrieving all companies
2025-09-23 19:15:33.499 +03:00 [INF] Successfully retrieved 0 companies
2025-09-23 19:15:33.507 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.List`1[[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:15:33.523 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP) in 772.5522ms
2025-09-23 19:15:33.526 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 19:15:33.527 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 19:15:33.531 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - 200 null application/json; charset=utf-8 861.1944ms
2025-09-23 19:24:18.992 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/uploads/625e6c04-063a-4afe-8722-38a39c57a67a_Hossam-Reda-Tohamy-Full - null null
2025-09-23 19:24:18.997 +03:00 [INF] Request started
2025-09-23 19:24:18.999 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:24:19.001 +03:00 [INF] Request completed successfully with status code 404
2025-09-23 19:24:19.002 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/uploads/625e6c04-063a-4afe-8722-38a39c57a67a_Hossam-Reda-Tohamy-Full - 404 0 null 10.3481ms
2025-09-23 19:24:19.006 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7168/uploads/625e6c04-063a-4afe-8722-38a39c57a67a_Hossam-Reda-Tohamy-Full, Response status code: 404
2025-09-23 19:30:39.148 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Companies - application/json 55
2025-09-23 19:30:39.153 +03:00 [INF] Request started
2025-09-23 19:30:39.154 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:30:39.155 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.CreateCompany (ModularERP)'
2025-09-23 19:30:39.164 +03:00 [INF] Route matched with {action = "CreateCompany", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]] CreateCompany(ModularERP.Modules.Finance.Features.Companys.DTO.CreateCompanyDto) on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 19:30:39.239 +03:00 [INF] Creating new company with name: ITechProMax
2025-09-23 19:30:39.385 +03:00 [INF] Successfully created company with ID: "a44ea845-25b8-49a0-83b0-ee491b5f681a"
2025-09-23 19:30:39.388 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 19:30:39.402 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.CreateCompany (ModularERP) in 234.7176ms
2025-09-23 19:30:39.404 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.CreateCompany (ModularERP)'
2025-09-23 19:30:39.406 +03:00 [INF] Request completed successfully with status code 201
2025-09-23 19:30:39.407 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Companies - 201 null application/json; charset=utf-8 258.3891ms
2025-09-23 19:30:52.342 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - null null
2025-09-23 19:30:52.347 +03:00 [INF] Request started
2025-09-23 19:30:52.348 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:30:52.350 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 19:30:52.352 +03:00 [INF] Route matched with {action = "GetAllCompanies", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.List`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]]] GetAllCompanies() on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 19:30:52.362 +03:00 [INF] Retrieving all companies
2025-09-23 19:30:52.390 +03:00 [INF] Successfully retrieved 1 companies
2025-09-23 19:30:52.393 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.List`1[[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:30:52.396 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP) in 41.7377ms
2025-09-23 19:30:52.398 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.GetAllCompanies (ModularERP)'
2025-09-23 19:30:52.400 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 19:30:52.401 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Companies?X-Tenant-ID=0794b76b-6560-41a1-a146-7e059ed3c64f - 200 null application/json; charset=utf-8 58.7932ms
2025-09-23 19:33:48.533 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/Companies - application/json 104
2025-09-23 19:33:48.537 +03:00 [INF] Request started
2025-09-23 19:33:48.538 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:33:48.539 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-09-23 19:33:48.541 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-09-23 19:33:48.543 +03:00 [INF] Request completed successfully with status code 405
2025-09-23 19:33:48.545 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/Companies - 405 0 null 12.1063ms
2025-09-23 19:34:08.975 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/Companies - application/json 104
2025-09-23 19:34:08.979 +03:00 [INF] Request started
2025-09-23 19:34:08.980 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:34:08.981 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-09-23 19:34:08.983 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-09-23 19:34:08.985 +03:00 [INF] Request completed successfully with status code 405
2025-09-23 19:34:08.986 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/Companies - 405 0 null 11.1948ms
2025-09-23 19:34:14.755 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/Companies - application/json 104
2025-09-23 19:34:14.758 +03:00 [INF] Request started
2025-09-23 19:34:14.759 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:34:14.760 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-09-23 19:34:14.761 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-09-23 19:34:14.763 +03:00 [INF] Request completed successfully with status code 405
2025-09-23 19:34:14.764 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/Companies - 405 0 null 8.7064ms
2025-09-23 19:36:12.139 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/Companies/a44ea845-25b8-49a0-83b0-ee491b5f681a - application/json 104
2025-09-23 19:36:12.143 +03:00 [INF] Request started
2025-09-23 19:36:12.145 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:36:12.146 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.UpdateCompany (ModularERP)'
2025-09-23 19:36:12.152 +03:00 [INF] Route matched with {action = "UpdateCompany", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]] UpdateCompany(System.Guid, ModularERP.Modules.Finance.Features.Companys.DTO.UpdateCompanyDto) on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 19:36:12.168 +03:00 [INF] Updating company with ID: "a44ea845-25b8-49a0-83b0-ee491b5f681a"
2025-09-23 19:36:12.207 +03:00 [INF] Successfully updated company with ID: "a44ea845-25b8-49a0-83b0-ee491b5f681a"
2025-09-23 19:36:12.209 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 19:36:12.211 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.UpdateCompany (ModularERP) in 54.3261ms
2025-09-23 19:36:12.213 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.UpdateCompany (ModularERP)'
2025-09-23 19:36:12.215 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 19:36:12.216 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/Companies/a44ea845-25b8-49a0-83b0-ee491b5f681a - 200 null application/json; charset=utf-8 76.5136ms
2025-09-23 19:36:25.631 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/Companies/a44ea845-25b8-49a0-83b0-ee491b5f681a - application/json 104
2025-09-23 19:36:25.637 +03:00 [INF] Request started
2025-09-23 19:36:25.638 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:36:25.639 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.UpdateCompany (ModularERP)'
2025-09-23 19:36:25.644 +03:00 [INF] Route matched with {action = "UpdateCompany", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]] UpdateCompany(System.Guid, ModularERP.Modules.Finance.Features.Companys.DTO.UpdateCompanyDto) on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 19:36:25.652 +03:00 [INF] Updating company with ID: "a44ea845-25b8-49a0-83b0-ee491b5f681a"
2025-09-23 19:36:25.666 +03:00 [INF] Successfully updated company with ID: "a44ea845-25b8-49a0-83b0-ee491b5f681a"
2025-09-23 19:36:25.667 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 19:36:25.672 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.UpdateCompany (ModularERP) in 24.4048ms
2025-09-23 19:36:25.674 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.UpdateCompany (ModularERP)'
2025-09-23 19:36:25.676 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 19:36:25.678 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/Companies/a44ea845-25b8-49a0-83b0-ee491b5f681a - 200 null application/json; charset=utf-8 46.4152ms
2025-09-23 19:36:44.037 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/Companies/a44ea845-25b8-49a0-83b0-ee491b5f681a - application/json 104
2025-09-23 19:36:44.042 +03:00 [INF] Request started
2025-09-23 19:36:44.043 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:36:44.044 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.UpdateCompany (ModularERP)'
2025-09-23 19:36:44.046 +03:00 [INF] Route matched with {action = "UpdateCompany", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]] UpdateCompany(System.Guid, ModularERP.Modules.Finance.Features.Companys.DTO.UpdateCompanyDto) on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 19:36:44.054 +03:00 [INF] Updating company with ID: "a44ea845-25b8-49a0-83b0-ee491b5f681a"
2025-09-23 19:36:44.069 +03:00 [INF] Successfully updated company with ID: "a44ea845-25b8-49a0-83b0-ee491b5f681a"
2025-09-23 19:36:44.071 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 19:36:44.073 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.UpdateCompany (ModularERP) in 21.5602ms
2025-09-23 19:36:44.076 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.UpdateCompany (ModularERP)'
2025-09-23 19:36:44.077 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 19:36:44.079 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/Companies/a44ea845-25b8-49a0-83b0-ee491b5f681a - 200 null application/json; charset=utf-8 41.4876ms
2025-09-23 19:53:48.967 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7168/api/Companies - null null
2025-09-23 19:53:48.971 +03:00 [INF] Request started
2025-09-23 19:53:48.973 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:53:48.974 +03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-09-23 19:53:48.975 +03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-09-23 19:53:48.977 +03:00 [INF] Request completed successfully with status code 405
2025-09-23 19:53:48.980 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7168/api/Companies - 405 0 null 12.2977ms
2025-09-23 19:54:00.024 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7168/api/Companies/a44ea845-25b8-49a0-83b0-ee491b5f681a - null null
2025-09-23 19:54:00.027 +03:00 [INF] Request started
2025-09-23 19:54:00.028 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:54:00.029 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.DeleteCompany (ModularERP)'
2025-09-23 19:54:00.034 +03:00 [INF] Route matched with {action = "DeleteCompany", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]]] DeleteCompany(System.Guid) on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 19:54:00.041 +03:00 [INF] Deleting company with ID: "a44ea845-25b8-49a0-83b0-ee491b5f681a"
2025-09-23 19:54:00.066 +03:00 [INF] Successfully deleted company with ID: "a44ea845-25b8-49a0-83b0-ee491b5f681a"
2025-09-23 19:54:00.068 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:54:00.075 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.DeleteCompany (ModularERP) in 37.3725ms
2025-09-23 19:54:00.078 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.DeleteCompany (ModularERP)'
2025-09-23 19:54:00.080 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 19:54:00.081 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7168/api/Companies/a44ea845-25b8-49a0-83b0-ee491b5f681a - 200 null application/json; charset=utf-8 57.5949ms
2025-09-23 19:57:57.713 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/BankAccount - null null
2025-09-23 19:57:57.717 +03:00 [INF] Request started
2025-09-23 19:57:57.718 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 19:57:57.719 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-23 19:57:57.725 +03:00 [INF] Route matched with {action = "GetAllBankAccounts", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetAllBankAccounts(Int32, Int32, System.String, System.String, Boolean, System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 19:57:57.755 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 19:57:57.761 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP) in 32.0201ms
2025-09-23 19:57:57.764 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-23 19:57:57.768 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 19:57:57.769 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/BankAccount - 200 null application/json; charset=utf-8 56.185ms
2025-09-23 20:01:03.872 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 20:01:03.875 +03:00 [INF] Request started
2025-09-23 20:01:03.876 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 20:01:03.878 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:01:03.883 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 20:01:04.006 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 20:01:04.010 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 124.1076ms
2025-09-23 20:01:04.013 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:01:04.017 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 20:01:04.018 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 146.0208ms
2025-09-23 20:03:07.805 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 20:03:07.812 +03:00 [INF] Request started
2025-09-23 20:03:07.813 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 20:03:07.814 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:03:07.816 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 20:03:07.829 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 20:03:07.832 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 12.6017ms
2025-09-23 20:03:07.835 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:03:07.837 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 20:03:07.839 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 33.2861ms
2025-09-23 20:04:04.865 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 20:04:04.868 +03:00 [INF] Request started
2025-09-23 20:04:04.870 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 20:04:04.871 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:04:04.873 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 20:04:04.887 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 20:04:04.890 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 11.794ms
2025-09-23 20:04:04.892 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:04:04.894 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 20:04:04.897 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 31.9028ms
2025-09-23 20:04:23.152 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 212
2025-09-23 20:04:23.156 +03:00 [INF] Request started
2025-09-23 20:04:23.158 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 20:04:23.159 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:04:23.161 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 20:04:23.170 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 20:04:23.173 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 7.4412ms
2025-09-23 20:04:23.175 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:04:23.176 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 20:04:23.178 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 25.389ms
2025-09-23 20:05:36.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 20:05:36.194 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 10.6296ms
2025-09-23 20:05:36.206 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 20:05:36.206 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 20:05:36.210 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 4.1953ms
2025-09-23 20:05:36.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.1743ms
2025-09-23 20:05:36.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 20:05:36.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.8527ms
2025-09-23 20:05:57.020 +03:00 [INF] Starting web host...
2025-09-23 20:05:57.759 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 20:05:57.837 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 20:05:57.916 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 20:05:57.922 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 20:05:57.939 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 20:05:57.993 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 20:05:58.008 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 20:05:58.013 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 20:05:58.024 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 20:05:58.035 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 20:05:58.043 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 20:05:58.200 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 20:05:58.207 +03:00 [INF] Master database initialized successfully
2025-09-23 20:05:58.336 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 20:05:58.338 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 20:05:58.396 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 20:05:58.398 +03:00 [INF] Hosting environment: Development
2025-09-23 20:05:58.400 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 20:05:58.549 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 20:05:58.655 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 106.6528ms
2025-09-23 20:05:58.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 20:05:58.717 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 20:05:58.728 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 10.689ms
2025-09-23 20:05:58.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.3678ms
2025-09-23 20:05:58.767 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 20:05:58.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.5073ms
2025-09-23 20:06:08.137 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 20:06:08.158 +03:00 [INF] Request started
2025-09-23 20:06:08.190 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 20:06:08.196 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:06:08.242 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 20:06:08.253 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 20:06:08.444 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 20:06:09.018 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 20:06:09.212 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 20:06:09.228 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 977.8408ms
2025-09-23 20:06:09.231 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:06:09.233 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 20:06:09.240 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 1103.7932ms
2025-09-23 20:09:53.746 +03:00 [INF] Starting web host...
2025-09-23 20:09:54.567 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 20:09:54.654 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 20:09:54.728 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 20:09:54.734 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 20:09:54.753 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 20:09:54.811 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 20:09:54.827 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 20:09:54.832 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 20:09:54.839 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 20:09:54.852 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 20:09:54.861 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 20:09:55.013 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 20:09:55.022 +03:00 [INF] Master database initialized successfully
2025-09-23 20:09:55.180 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 20:09:55.182 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 20:09:55.245 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 20:09:55.247 +03:00 [INF] Hosting environment: Development
2025-09-23 20:09:55.249 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 20:09:55.686 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 20:09:55.789 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 104.3147ms
2025-09-23 20:09:55.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 20:09:55.935 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 20:09:55.951 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 15.6035ms
2025-09-23 20:09:55.969 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.2883ms
2025-09-23 20:09:56.024 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 20:09:56.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.765ms
2025-09-23 20:10:06.514 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 212
2025-09-23 20:10:06.535 +03:00 [INF] Request started
2025-09-23 20:10:06.540 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 20:10:06.542 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:10:06.556 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 20:10:06.562 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 20:10:06.685 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 20:10:07.268 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 20:10:07.462 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 20:10:07.481 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 918.6657ms
2025-09-23 20:10:07.485 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:10:07.487 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 20:10:07.493 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 978.9325ms
2025-09-23 20:10:20.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 20:10:20.141 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 7.7493ms
2025-09-23 20:10:20.150 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 20:10:20.150 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 20:10:20.155 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 4.46ms
2025-09-23 20:10:20.166 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.613ms
2025-09-23 20:10:20.323 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 20:10:20.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.7274ms
2025-09-23 20:34:59.939 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 20:34:59.947 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 8.1796ms
2025-09-23 20:34:59.957 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 20:34:59.957 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 20:34:59.960 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 2.8694ms
2025-09-23 20:34:59.966 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.3735ms
2025-09-23 20:35:00.129 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 20:35:00.184 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.8238ms
2025-09-23 20:35:10.443 +03:00 [INF] Starting web host...
2025-09-23 20:35:11.196 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 20:35:11.274 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 20:35:11.349 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 20:35:11.356 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 20:35:11.373 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 20:35:11.430 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 20:35:11.445 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 20:35:11.450 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 20:35:11.457 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 20:35:11.468 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 20:35:11.476 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 20:35:11.637 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 20:35:11.644 +03:00 [INF] Master database initialized successfully
2025-09-23 20:35:11.811 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 20:35:11.813 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 20:35:11.871 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 20:35:11.873 +03:00 [INF] Hosting environment: Development
2025-09-23 20:35:11.875 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 20:35:12.060 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 20:35:12.161 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 101.5672ms
2025-09-23 20:35:12.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 20:35:12.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 20:35:12.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 21.8282ms
2025-09-23 20:35:12.217 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.8136ms
2025-09-23 20:35:12.375 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 20:35:12.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.9618ms
2025-09-23 20:35:12.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 20:35:12.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 20.0357ms
2025-09-23 20:35:12.448 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 20:35:12.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.5359ms
2025-09-23 20:35:12.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 20:35:12.482 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.7444ms
2025-09-23 20:35:12.547 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 20:35:12.590 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.7474ms
2025-09-23 20:36:02.658 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 20:36:02.673 +03:00 [INF] Request started
2025-09-23 20:36:02.677 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 20:36:02.681 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:36:02.695 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 20:36:02.701 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 20:36:02.831 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 20:36:03.370 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 20:36:03.600 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 20:36:03.618 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 915.9164ms
2025-09-23 20:36:03.621 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 20:36:03.622 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 20:36:03.627 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 969.9082ms
2025-09-23 21:01:52.025 +03:00 [INF] Starting web host...
2025-09-23 21:01:52.211 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:03:10.772 +03:00 [INF] Starting web host...
2025-09-23 21:03:10.943 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:04:26.996 +03:00 [INF] Starting web host...
2025-09-23 21:04:27.193 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:05:48.327 +03:00 [INF] Starting web host...
2025-09-23 21:05:49.041 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:05:49.101 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 21:05:49.174 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:05:49.179 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 21:05:49.188 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 21:05:49.239 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 21:05:49.254 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:05:49.259 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 21:05:49.265 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 21:05:49.276 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 21:05:49.282 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 21:05:49.437 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 21:05:49.443 +03:00 [INF] Master database initialized successfully
2025-09-23 21:05:49.574 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 21:05:49.576 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 21:05:49.632 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 21:05:49.634 +03:00 [INF] Hosting environment: Development
2025-09-23 21:05:49.636 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 21:05:49.816 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 21:05:49.919 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 103.7673ms
2025-09-23 21:05:49.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 21:05:49.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 21:05:49.942 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 18.0396ms
2025-09-23 21:05:49.955 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.9818ms
2025-09-23 21:05:50.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 21:05:50.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.5748ms
2025-09-23 21:06:04.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 21:06:04.943 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 7.9022ms
2025-09-23 21:06:04.952 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 21:06:04.952 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 21:06:04.955 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 3.3619ms
2025-09-23 21:06:04.966 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.4727ms
2025-09-23 21:06:05.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 21:06:05.072 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.1415ms
2025-09-23 21:06:14.569 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 21:06:14.581 +03:00 [INF] Request started
2025-09-23 21:06:14.585 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 21:06:14.589 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:06:14.602 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 21:06:14.607 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:06:14.732 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 21:06:15.334 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:06:15.395 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 21:06:15.410 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 803.0888ms
2025-09-23 21:06:15.413 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:06:15.415 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 21:06:15.420 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 851.1127ms
2025-09-23 21:09:16.447 +03:00 [INF] Starting web host...
2025-09-23 21:09:16.642 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:09:16.832 +03:00 [INF] Starting web host...
2025-09-23 21:09:17.594 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:09:17.652 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 21:09:17.733 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:09:17.739 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 21:09:17.751 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 21:09:17.811 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 21:09:17.828 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:09:17.833 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 21:09:17.840 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 21:09:17.852 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 21:09:17.858 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 21:09:18.046 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 21:09:18.055 +03:00 [INF] Master database initialized successfully
2025-09-23 21:09:18.225 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 21:09:18.227 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 21:09:18.291 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 21:09:18.293 +03:00 [INF] Hosting environment: Development
2025-09-23 21:09:18.294 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 21:09:18.557 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 21:09:18.683 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 126.5261ms
2025-09-23 21:09:18.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 21:09:18.692 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 21:09:18.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 17.8634ms
2025-09-23 21:09:18.727 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.5961ms
2025-09-23 21:09:18.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 21:09:18.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.541ms
2025-09-23 21:28:00.840 +03:00 [INF] Starting web host...
2025-09-23 21:28:01.033 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:28:01.324 +03:00 [INF] Starting web host...
2025-09-23 21:28:02.155 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:28:02.250 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 21:28:02.262 +03:00 [INF] No migrations were found in assembly 'ModularERP'. A migration needs to be added before the database can be updated.
2025-09-23 21:28:02.264 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:28:02.270 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 21:28:02.280 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 21:28:02.412 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 21:28:02.429 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:28:02.434 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 21:28:02.441 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 21:28:02.458 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 21:28:02.466 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 21:28:02.634 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 21:28:02.642 +03:00 [INF] Master database initialized successfully
2025-09-23 21:28:02.787 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 21:28:02.789 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 21:28:02.847 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 21:28:02.849 +03:00 [INF] Hosting environment: Development
2025-09-23 21:28:02.851 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 21:28:02.993 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 21:28:03.103 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 111.4209ms
2025-09-23 21:28:03.288 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 21:28:03.288 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 21:28:03.294 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 6.2239ms
2025-09-23 21:28:03.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.3717ms
2025-09-23 21:28:03.367 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 21:28:03.414 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.0923ms
2025-09-23 21:28:15.511 +03:00 [INF] Starting web host...
2025-09-23 21:28:15.741 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:28:15.906 +03:00 [INF] Starting web host...
2025-09-23 21:28:16.765 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:28:16.828 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 21:28:16.921 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:28:16.927 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 21:28:16.933 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 21:28:17.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 21:28:17.043 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:28:17.048 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 21:28:17.054 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 21:28:17.069 +03:00 [INF] Applying migration '20250923182801_createdb'.
2025-09-23 21:28:17.083 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MasterCompanies] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [CurrencyCode] nvarchar(3) NOT NULL,
    [Status] nvarchar(max) NOT NULL,
    [DatabaseName] nvarchar(max) NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_MasterCompanies] PRIMARY KEY ([Id])
);
2025-09-23 21:28:17.094 +03:00 [ERR] Failed to initialize master database
Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'MasterCompanies' in the database.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__210_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateImplementationAsync(DbContext context, String targetMigration, MigrationExecutionState state, Boolean useTransaction, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateImplementationAsync(DbContext context, String targetMigration, MigrationExecutionState state, Boolean useTransaction, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.<>c.<<MigrateAsync>b__22_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at ModularERP.Program.EnsureMasterDatabaseAsync(IServiceProvider services) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 251
ClientConnectionId:2404e8ef-32e4-441c-a573-859854b840fc
Error Number:2714,State:6,Class:16
2025-09-23 21:28:17.157 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Data.SqlClient.SqlException (0x80131904): There is already an object named 'MasterCompanies' in the database.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__210_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean beginTransaction, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQueryAsync(IReadOnlyList`1 migrationCommands, IRelationalConnection connection, MigrationExecutionState executionState, Boolean commitTransaction, Nullable`1 isolationLevel, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateImplementationAsync(DbContext context, String targetMigration, MigrationExecutionState state, Boolean useTransaction, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateImplementationAsync(DbContext context, String targetMigration, MigrationExecutionState state, Boolean useTransaction, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.<>c.<<MigrateAsync>b__22_1>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)
   at ModularERP.Program.EnsureMasterDatabaseAsync(IServiceProvider services) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 251
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 159
ClientConnectionId:2404e8ef-32e4-441c-a573-859854b840fc
Error Number:2714,State:6,Class:16
2025-09-23 21:28:45.224 +03:00 [INF] Starting web host...
2025-09-23 21:28:45.398 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:28:47.193 +03:00 [INF] Starting web host...
2025-09-23 21:28:47.364 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:29:06.897 +03:00 [INF] Starting web host...
2025-09-23 21:29:07.071 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:29:08.643 +03:00 [INF] Starting web host...
2025-09-23 21:29:08.817 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:29:14.212 +03:00 [INF] Starting web host...
2025-09-23 21:29:14.422 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:29:22.876 +03:00 [INF] Starting web host...
2025-09-23 21:29:23.051 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:29:34.240 +03:00 [INF] Starting web host...
2025-09-23 21:29:34.413 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:29:45.905 +03:00 [INF] Starting web host...
2025-09-23 21:29:46.118 +03:00 [FTL] Host terminated unexpectedly
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at ModularERP.Program.Main(String[] args) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Program.cs:line 156
2025-09-23 21:33:11.734 +03:00 [INF] Starting web host...
2025-09-23 21:33:12.542 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:33:12.588 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 21:33:12.664 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:33:12.670 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 21:33:12.674 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 21:33:12.737 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 21:33:12.755 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:33:12.759 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 21:33:12.766 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 21:33:12.776 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 21:33:12.781 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 21:33:12.935 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 21:33:13.049 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 3), @p3='?' (Size = 4000), @p4='?' (Size = 100), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MasterCompanies] ([Id], [CreatedAt], [CurrencyCode], [DatabaseName], [Name], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-23 21:33:13.060 +03:00 [INF] Created default company: "8ed6ae85-a968-4703-ae3b-86fca8485f78"
2025-09-23 21:33:13.129 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 21:33:13.170 +03:00 [INF] Database ModularERP_Default already exists, skipping creation
2025-09-23 21:33:13.172 +03:00 [INF] Master database initialized successfully
2025-09-23 21:33:13.312 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 21:33:13.314 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 21:33:13.379 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 21:33:13.381 +03:00 [INF] Hosting environment: Development
2025-09-23 21:33:13.383 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 21:33:13.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 21:33:13.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 132.0401ms
2025-09-23 21:33:13.979 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 21:33:13.980 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 21:33:14.011 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 31.6064ms
2025-09-23 21:33:14.036 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.2624ms
2025-09-23 21:33:14.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 21:33:14.249 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.1978ms
2025-09-23 21:33:18.360 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Tenants/create - application/json 51
2025-09-23 21:33:18.376 +03:00 [INF] Request started
2025-09-23 21:33:18.382 +03:00 [INF] Executing endpoint 'ModularERP.Common.Controller.TenantsController.CreateTenant (ModularERP)'
2025-09-23 21:33:18.396 +03:00 [INF] Route matched with {action = "CreateTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTenant(ModularERP.Common.Controller.CreateTenantRequest) on controller ModularERP.Common.Controller.TenantsController (ModularERP).
2025-09-23 21:33:18.440 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 3), @p3='?' (Size = 4000), @p4='?' (Size = 100), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MasterCompanies] ([Id], [CreatedAt], [CurrencyCode], [DatabaseName], [Name], [Status])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-09-23 21:33:18.447 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 21:33:19.479 +03:00 [INF] Applied 1 migrations to database ModularERP_Tenant_6d102e1c787c401e9d3ef53f6a3d446a
2025-09-23 21:33:19.481 +03:00 [INF] Created tenant database for company "7579736e-aa3f-49f9-9c55-d416d15bbd8c": ModularERP_Tenant_6d102e1c787c401e9d3ef53f6a3d446a
2025-09-23 21:33:19.489 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`5[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 21:33:19.507 +03:00 [INF] Executed action ModularERP.Common.Controller.TenantsController.CreateTenant (ModularERP) in 1104.7609ms
2025-09-23 21:33:19.510 +03:00 [INF] Executed endpoint 'ModularERP.Common.Controller.TenantsController.CreateTenant (ModularERP)'
2025-09-23 21:33:19.513 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 21:33:19.518 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Tenants/create - 200 null application/json; charset=utf-8 1157.5557ms
2025-09-23 21:34:01.059 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Companies - application/json 55
2025-09-23 21:34:01.065 +03:00 [INF] Request started
2025-09-23 21:34:01.070 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 21:34:01.072 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.CreateCompany (ModularERP)'
2025-09-23 21:34:01.076 +03:00 [INF] Route matched with {action = "CreateCompany", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]] CreateCompany(ModularERP.Modules.Finance.Features.Companys.DTO.CreateCompanyDto) on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 21:34:01.082 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:34:01.132 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 21:34:01.256 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:34:01.269 +03:00 [INF] Creating new company with name: ITechProMax
2025-09-23 21:34:01.376 +03:00 [INF] Successfully created company with ID: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 21:34:01.379 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 21:34:01.400 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.CreateCompany (ModularERP) in 321.0885ms
2025-09-23 21:34:01.402 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.CreateCompany (ModularERP)'
2025-09-23 21:34:01.404 +03:00 [INF] Request completed successfully with status code 201
2025-09-23 21:34:01.406 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Companies - 201 null application/json; charset=utf-8 346.6282ms
2025-09-23 21:35:09.493 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 21:35:09.499 +03:00 [INF] Request started
2025-09-23 21:35:09.500 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 21:35:09.501 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:35:09.504 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 21:35:09.633 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 21:35:09.637 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 130.5481ms
2025-09-23 21:35:09.639 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:35:09.641 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 21:35:09.642 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 148.4138ms
2025-09-23 21:35:43.662 +03:00 [INF] Starting web host...
2025-09-23 21:35:44.408 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:35:44.472 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 21:35:44.543 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:35:44.550 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 21:35:44.564 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 21:35:44.624 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 21:35:44.642 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:35:44.647 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 21:35:44.653 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 21:35:44.664 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 21:35:44.671 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 21:35:44.822 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 21:35:44.830 +03:00 [INF] Master database initialized successfully
2025-09-23 21:35:44.974 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 21:35:44.976 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 21:35:45.033 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 21:35:45.036 +03:00 [INF] Hosting environment: Development
2025-09-23 21:35:45.037 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 21:35:45.397 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 21:35:45.514 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 118.5207ms
2025-09-23 21:35:45.518 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 21:35:45.520 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 21:35:45.550 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 31.4049ms
2025-09-23 21:35:45.563 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.7352ms
2025-09-23 21:35:45.610 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 21:35:45.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.4532ms
2025-09-23 21:35:56.728 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 21:35:56.744 +03:00 [INF] Request started
2025-09-23 21:35:56.748 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 21:35:56.751 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:35:56.766 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 21:35:56.771 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:35:56.905 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 21:35:57.475 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:35:57.699 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 21:35:57.715 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 944.3723ms
2025-09-23 21:35:57.719 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:35:57.721 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 21:35:57.728 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 1000.4329ms
2025-09-23 21:36:02.710 +03:00 [INF] Application is shutting down...
2025-09-23 21:40:44.841 +03:00 [INF] Starting web host...
2025-09-23 21:40:45.635 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:40:45.700 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 21:40:45.772 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:40:45.778 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 21:40:45.796 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 21:40:45.854 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 21:40:45.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:40:45.875 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 21:40:45.882 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 21:40:45.893 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 21:40:45.900 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 21:40:46.062 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 21:40:46.070 +03:00 [INF] Master database initialized successfully
2025-09-23 21:40:46.197 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 21:40:46.199 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 21:40:46.255 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 21:40:46.257 +03:00 [INF] Hosting environment: Development
2025-09-23 21:40:46.258 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 21:40:46.723 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 21:40:46.829 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 107.6033ms
2025-09-23 21:40:46.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 21:40:46.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 21:40:46.973 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 14.5769ms
2025-09-23 21:40:46.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.5972ms
2025-09-23 21:40:47.080 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 21:40:47.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.8775ms
2025-09-23 21:40:54.781 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 21:40:54.799 +03:00 [INF] Request started
2025-09-23 21:40:54.806 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 21:40:54.810 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:40:54.826 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 21:40:54.833 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:40:54.961 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 21:40:55.677 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:40:55.887 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 21:40:55.905 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 1072.4064ms
2025-09-23 21:40:55.908 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:40:55.912 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 21:40:55.917 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 1136.5462ms
2025-09-23 21:53:12.071 +03:00 [INF] Starting web host...
2025-09-23 21:53:12.858 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:53:12.917 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 21:53:12.991 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:53:12.996 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 21:53:13.002 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 21:53:13.057 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 21:53:13.072 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:53:13.077 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 21:53:13.084 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 21:53:13.096 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 21:53:13.102 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 21:53:13.275 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 21:53:13.282 +03:00 [INF] Master database initialized successfully
2025-09-23 21:53:13.448 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 21:53:13.450 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 21:53:13.506 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 21:53:13.508 +03:00 [INF] Hosting environment: Development
2025-09-23 21:53:13.510 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 21:53:13.895 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 21:53:14.006 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 111.8577ms
2025-09-23 21:53:14.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 21:53:14.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 21:53:14.082 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 12.8131ms
2025-09-23 21:53:14.095 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.0173ms
2025-09-23 21:53:14.129 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 21:53:14.169 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.477ms
2025-09-23 21:53:18.945 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 21:53:18.970 +03:00 [INF] Request started
2025-09-23 21:53:18.974 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 21:53:18.976 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:53:18.993 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 21:53:18.999 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:53:19.138 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 21:53:19.801 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:53:20.034 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 21:53:20.053 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 1053.9603ms
2025-09-23 21:53:20.057 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:53:20.060 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 21:53:20.068 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 1123.6536ms
2025-09-23 21:56:39.557 +03:00 [INF] Starting web host...
2025-09-23 21:56:40.409 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:56:40.479 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 21:56:40.577 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:56:40.584 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 21:56:40.599 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 21:56:40.659 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 21:56:40.674 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 21:56:40.677 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 21:56:40.686 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 21:56:40.701 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 21:56:40.707 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 21:56:40.863 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 21:56:40.870 +03:00 [INF] Master database initialized successfully
2025-09-23 21:56:41.002 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 21:56:41.004 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 21:56:41.062 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 21:56:41.065 +03:00 [INF] Hosting environment: Development
2025-09-23 21:56:41.067 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 21:56:41.457 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 21:56:41.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 104.4771ms
2025-09-23 21:56:41.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 21:56:41.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 21:56:41.616 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 14.4609ms
2025-09-23 21:56:41.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.2498ms
2025-09-23 21:56:41.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 21:56:41.699 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.5095ms
2025-09-23 21:56:46.730 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 21:56:46.749 +03:00 [INF] Request started
2025-09-23 21:56:46.754 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 21:56:46.757 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:56:46.779 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 21:56:46.785 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:56:46.964 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 21:56:47.755 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 21:56:47.785 +03:00 [INF] Received CreateBankAccountCommand for CompanyId: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 21:56:47.787 +03:00 [INF] Checking if bank account already exists for CompanyId: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 21:56:47.890 +03:00 [INF] Adding new bank account: Egypt / 123456789
2025-09-23 21:56:48.058 +03:00 [ERR] Unexpected error while creating bank account
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BankAccounts_Companies_CompanyId". The conflict occurred in database "ModularERP_Tenant_6d102e1c787c401e9d3ef53f6a3d446a", table "dbo.Companies", column 'Id'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e04d0d6c-80aa-4fd2-b277-40c7443e7cc7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 176
   at ModularERP.Modules.Finance.Features.BankAccounts.Handlers.CreateBankAccountHandler.Handle(CreateBankAccountCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\BankAccounts\Handlers\CreateBankAccountHandler.cs:line 109
2025-09-23 21:56:48.131 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 21:56:48.154 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 1367.9611ms
2025-09-23 21:56:48.157 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 21:56:48.160 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 21:56:48.168 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 1438.0589ms
2025-09-23 22:12:07.068 +03:00 [INF] Starting web host...
2025-09-23 22:12:07.894 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 22:12:07.954 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-09-23 22:12:08.036 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 22:12:08.042 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-09-23 22:12:08.055 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-09-23 22:12:08.118 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-09-23 22:12:08.133 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-09-23 22:12:08.137 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-09-23 22:12:08.145 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-09-23 22:12:08.156 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-09-23 22:12:08.163 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-09-23 22:12:08.319 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-23 22:12:08.326 +03:00 [INF] Master database initialized successfully
2025-09-23 22:12:08.453 +03:00 [INF] Now listening on: https://localhost:7168
2025-09-23 22:12:08.455 +03:00 [INF] Now listening on: http://localhost:5004
2025-09-23 22:12:08.514 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-23 22:12:08.516 +03:00 [INF] Hosting environment: Development
2025-09-23 22:12:08.517 +03:00 [INF] Content root path: C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP
2025-09-23 22:12:08.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 22:12:09.102 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 127.5046ms
2025-09-23 22:12:09.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 22:12:09.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 22:12:09.162 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 13.9457ms
2025-09-23 22:12:09.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.1487ms
2025-09-23 22:12:09.225 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 22:12:09.275 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.1016ms
2025-09-23 22:12:15.542 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 22:12:15.559 +03:00 [INF] Request started
2025-09-23 22:12:15.563 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 22:12:15.566 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 22:12:15.582 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 22:12:15.590 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 22:12:15.727 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 22:12:16.414 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-23 22:12:16.420 +03:00 [INF] Received CreateBankAccountCommand for TenantId: 7579736e-aa3f-49f9-9c55-d416d15bbd8c, CompanyId: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 22:12:16.509 +03:00 [INF] Checking if bank account already exists for CompanyId: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 22:12:16.550 +03:00 [INF] Adding new bank account: Egypt / 123456789 for Company: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 22:12:16.728 +03:00 [ERR] Database error while creating bank account. Inner exception: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BankAccounts_Currencies_CurrencyCode". The conflict occurred in database "ModularERP_Tenant_6d102e1c787c401e9d3ef53f6a3d446a", table "dbo.Currencies", column 'Code'.
The statement has been terminated.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_BankAccounts_Currencies_CurrencyCode". The conflict occurred in database "ModularERP_Tenant_6d102e1c787c401e9d3ef53f6a3d446a", table "dbo.Currencies", column 'Code'.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:15f95f0e-b4b0-40fc-be94-0b419b0ed192
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ModularERP.SharedKernel.Repository.GeneralRepository`1.SaveChanges() in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Shared\Repository\GeneralRepository.cs:line 188
   at ModularERP.Modules.Finance.Features.BankAccounts.Handlers.CreateBankAccountHandler.Handle(CreateBankAccountCommand request, CancellationToken cancellationToken) in C:\Users\hossny D. monkey\source\repos\ModularERP\ModularERP\Modules\Finance\Features\BankAccounts\Handlers\CreateBankAccountHandler.cs:line 137
2025-09-23 22:12:16.784 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 22:12:16.804 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 1213.1299ms
2025-09-23 22:12:16.807 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 22:12:16.810 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 22:12:16.815 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 400 null application/json; charset=utf-8 1273.0402ms
2025-09-23 22:12:28.756 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 22:12:28.762 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 6.2174ms
2025-09-23 22:12:28.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 22:12:28.771 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 22:12:28.779 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.02ms
2025-09-23 22:12:28.782 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.3303ms
2025-09-23 22:12:28.830 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 22:12:28.862 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.1947ms
2025-09-23 22:16:37.954 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 22:16:37.959 +03:00 [INF] Request started
2025-09-23 22:16:37.963 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 22:16:37.964 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 22:16:37.966 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 22:16:37.978 +03:00 [INF] Received CreateBankAccountCommand for TenantId: 7579736e-aa3f-49f9-9c55-d416d15bbd8c, CompanyId: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 22:16:37.993 +03:00 [INF] Checking if bank account already exists for CompanyId: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 22:16:38.000 +03:00 [INF] Adding new bank account: Egypt / 123456789 for Company: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 22:16:38.014 +03:00 [INF] Bank account "95cf80e4-c946-42fa-8d66-343f371b0987" created successfully
2025-09-23 22:16:38.020 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 22:16:38.034 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 65.7066ms
2025-09-23 22:16:38.037 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 22:16:38.040 +03:00 [INF] Request completed successfully with status code 201
2025-09-23 22:16:38.041 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 201 null application/json; charset=utf-8 87.6385ms
2025-09-23 23:07:26.432 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-09-23 23:07:26.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 11.1296ms
2025-09-23 23:07:26.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-09-23 23:07:26.454 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-09-23 23:07:26.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.0209ms
2025-09-23 23:07:26.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.2311ms
2025-09-23 23:07:26.642 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-09-23 23:07:26.673 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.2177ms
2025-09-23 23:08:29.453 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/BankAccount/95cf80e4-c946-42fa-8d66-343f371b0987 - application/json 316
2025-09-23 23:08:29.459 +03:00 [INF] Request started
2025-09-23 23:08:29.461 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:08:29.462 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.UpdateBankAccount (ModularERP)'
2025-09-23 23:08:29.468 +03:00 [INF] Route matched with {action = "UpdateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]]] UpdateBankAccount(System.Guid, ModularERP.Modules.Finance.Features.BankAccounts.DTO.UpdateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 23:08:29.553 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:08:29.557 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.UpdateBankAccount (ModularERP) in 86.3407ms
2025-09-23 23:08:29.559 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.UpdateBankAccount (ModularERP)'
2025-09-23 23:08:29.560 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:08:29.561 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/BankAccount/95cf80e4-c946-42fa-8d66-343f371b0987 - 200 null application/json; charset=utf-8 108.3274ms
2025-09-23 23:09:13.793 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Companies - application/json 58
2025-09-23 23:09:13.796 +03:00 [INF] Request started
2025-09-23 23:09:13.798 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:09:13.800 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.CreateCompany (ModularERP)'
2025-09-23 23:09:13.812 +03:00 [INF] Route matched with {action = "CreateCompany", controller = "Companies"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto]]] CreateCompany(ModularERP.Modules.Finance.Features.Companys.DTO.CreateCompanyDto) on controller ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController (ModularERP).
2025-09-23 23:09:13.833 +03:00 [INF] Creating new company with name: ITechProMaxFax
2025-09-23 23:09:13.977 +03:00 [INF] Successfully created company with ID: "68fb2d3e-f077-4fae-93dc-f26636de8643"
2025-09-23 23:09:14.030 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Companys.DTO.CompanyResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 23:09:14.039 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.CreateCompany (ModularERP) in 223.8078ms
2025-09-23 23:09:14.042 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Companys.Controllers.CompaniesController.CreateCompany (ModularERP)'
2025-09-23 23:09:14.043 +03:00 [INF] Request completed successfully with status code 201
2025-09-23 23:09:14.044 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Companies - 201 null application/json; charset=utf-8 250.8274ms
2025-09-23 23:09:33.690 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/BankAccount/95cf80e4-c946-42fa-8d66-343f371b0987 - application/json 316
2025-09-23 23:09:33.693 +03:00 [INF] Request started
2025-09-23 23:09:33.694 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:09:33.695 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.UpdateBankAccount (ModularERP)'
2025-09-23 23:09:33.697 +03:00 [INF] Route matched with {action = "UpdateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]]] UpdateBankAccount(System.Guid, ModularERP.Modules.Finance.Features.BankAccounts.DTO.UpdateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 23:09:33.723 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:09:33.725 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.UpdateBankAccount (ModularERP) in 25.2489ms
2025-09-23 23:09:33.727 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.UpdateBankAccount (ModularERP)'
2025-09-23 23:09:33.729 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:09:33.730 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/BankAccount/95cf80e4-c946-42fa-8d66-343f371b0987 - 200 null application/json; charset=utf-8 39.7718ms
2025-09-23 23:10:43.969 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7168/api/BankAccount/95cf80e4-c946-42fa-8d66-343f371b0987 - null null
2025-09-23 23:10:43.972 +03:00 [INF] Request started
2025-09-23 23:10:43.974 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:10:43.975 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.DeleteBankAccount (ModularERP)'
2025-09-23 23:10:43.979 +03:00 [INF] Route matched with {action = "DeleteBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]]] DeleteBankAccount(System.Guid) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 23:10:44.049 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:10:44.051 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.DeleteBankAccount (ModularERP) in 68.5439ms
2025-09-23 23:10:44.053 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.DeleteBankAccount (ModularERP)'
2025-09-23 23:10:44.054 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:10:44.055 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7168/api/BankAccount/95cf80e4-c946-42fa-8d66-343f371b0987 - 200 null application/json; charset=utf-8 86.4104ms
2025-09-23 23:12:37.126 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/BankAccount - null null
2025-09-23 23:12:37.130 +03:00 [INF] Request started
2025-09-23 23:12:37.130 +03:00 [INF] Processing request for tenant: 0794b76b-6560-41a1-a146-7e059ed3c64f
2025-09-23 23:12:37.131 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-23 23:12:37.136 +03:00 [INF] Route matched with {action = "GetAllBankAccounts", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetAllBankAccounts(Int32, Int32, System.String, System.String, Boolean, System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 23:12:37.211 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 23:12:37.215 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 23:12:37.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 23:12:37.255 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:12:37.259 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP) in 118.8928ms
2025-09-23 23:12:37.262 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-23 23:12:37.263 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:12:37.264 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/BankAccount - 200 null application/json; charset=utf-8 137.3472ms
2025-09-23 23:12:51.077 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/BankAccount - null null
2025-09-23 23:12:51.081 +03:00 [INF] Request started
2025-09-23 23:12:51.083 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:12:51.084 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-23 23:12:51.085 +03:00 [INF] Route matched with {action = "GetAllBankAccounts", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetAllBankAccounts(Int32, Int32, System.String, System.String, Boolean, System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 23:12:51.089 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-09-23 23:12:51.136 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:12:51.140 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP) in 52.5039ms
2025-09-23 23:12:51.142 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-23 23:12:51.143 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:12:51.144 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/BankAccount - 200 null application/json; charset=utf-8 67.5185ms
2025-09-23 23:13:08.374 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/BankAccount - application/json 268
2025-09-23 23:13:08.377 +03:00 [INF] Request started
2025-09-23 23:13:08.378 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:13:08.379 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 23:13:08.381 +03:00 [INF] Route matched with {action = "CreateBankAccount", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto]]] CreateBankAccount(ModularERP.Modules.Finance.Features.BankAccounts.DTO.CreateBankAccountDto) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 23:13:08.385 +03:00 [INF] Received CreateBankAccountCommand for TenantId: 7579736e-aa3f-49f9-9c55-d416d15bbd8c, CompanyId: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 23:13:08.389 +03:00 [INF] Checking if bank account already exists for CompanyId: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 23:13:08.394 +03:00 [INF] Adding new bank account: Egypt / 123456789 for Company: "dc1360f6-c029-4e44-9ec2-1a6d59479f99"
2025-09-23 23:13:08.406 +03:00 [INF] Bank account "0a78d430-dc74-4864-a62f-bb610baecb03" created successfully
2025-09-23 23:13:08.412 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 23:13:08.414 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP) in 31.4981ms
2025-09-23 23:13:08.416 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.CreateBankAccount (ModularERP)'
2025-09-23 23:13:08.417 +03:00 [INF] Request completed successfully with status code 201
2025-09-23 23:13:08.418 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/BankAccount - 201 null application/json; charset=utf-8 44.6387ms
2025-09-23 23:13:13.170 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/BankAccount - null null
2025-09-23 23:13:13.175 +03:00 [INF] Request started
2025-09-23 23:13:13.176 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:13:13.177 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-23 23:13:13.179 +03:00 [INF] Route matched with {action = "GetAllBankAccounts", controller = "BankAccount"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto]]]] GetAllBankAccounts(Int32, Int32, System.String, System.String, Boolean, System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController (ModularERP).
2025-09-23 23:13:13.199 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.BankAccounts.DTO.BankAccountListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:13:13.202 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP) in 19.9638ms
2025-09-23 23:13:13.203 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.BankAccounts.Controllers.BankAccountController.GetAllBankAccounts (ModularERP)'
2025-09-23 23:13:13.205 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:13:13.206 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/BankAccount - 200 null application/json; charset=utf-8 35.5304ms
2025-09-23 23:13:38.389 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/Treasury - null 0
2025-09-23 23:13:38.392 +03:00 [INF] Request started
2025-09-23 23:13:38.396 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 23:13:38.397 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/Treasury - 400 null application/json 7.9919ms
2025-09-23 23:14:04.746 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Treasury - null null
2025-09-23 23:14:04.749 +03:00 [INF] Request started
2025-09-23 23:14:04.751 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:14:04.751 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetAllTreasuries (ModularERP)'
2025-09-23 23:14:04.756 +03:00 [INF] Route matched with {action = "GetAllTreasuries", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto]]]] GetAllTreasuries(System.Nullable`1[System.Guid], System.String, Int32, Int32) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:14:04.774 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:14:04.779 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetAllTreasuries (ModularERP) in 20.1369ms
2025-09-23 23:14:04.782 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetAllTreasuries (ModularERP)'
2025-09-23 23:14:04.783 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:14:04.784 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Treasury - 200 null application/json; charset=utf-8 37.7288ms
2025-09-23 23:17:13.728 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Treasury - application/json 208
2025-09-23 23:17:13.732 +03:00 [INF] Request started
2025-09-23 23:17:13.733 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:17:13.734 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.CreateTreasury (ModularERP)'
2025-09-23 23:17:13.737 +03:00 [INF] Route matched with {action = "CreateTreasury", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryCreatedDto]]] CreateTreasury(ModularERP.Modules.Finance.Features.Treasuries.DTO.CreateTreasuryDto) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:17:13.817 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 23:17:13.821 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.CreateTreasury (ModularERP) in 81.3327ms
2025-09-23 23:17:13.823 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.CreateTreasury (ModularERP)'
2025-09-23 23:17:13.824 +03:00 [INF] Request completed successfully with status code 201
2025-09-23 23:17:13.825 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Treasury - 201 null application/json; charset=utf-8 97.2993ms
2025-09-23 23:17:52.107 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Treasury - null null
2025-09-23 23:17:52.111 +03:00 [INF] Request started
2025-09-23 23:17:52.112 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:17:52.113 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetAllTreasuries (ModularERP)'
2025-09-23 23:17:52.114 +03:00 [INF] Route matched with {action = "GetAllTreasuries", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto]]]] GetAllTreasuries(System.Nullable`1[System.Guid], System.String, Int32, Int32) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:17:52.169 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:17:52.172 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetAllTreasuries (ModularERP) in 55.6424ms
2025-09-23 23:17:52.175 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetAllTreasuries (ModularERP)'
2025-09-23 23:17:52.176 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:17:52.177 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Treasury - 200 null application/json; charset=utf-8 69.4582ms
2025-09-23 23:22:26.119 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7168/api/Treasury/17848960-8cff-4a76-8f5e-4a604b151aee - application/json 263
2025-09-23 23:22:26.121 +03:00 [INF] Request started
2025-09-23 23:22:26.122 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:22:26.123 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.UpdateTreasury (ModularERP)'
2025-09-23 23:22:26.128 +03:00 [INF] Route matched with {action = "UpdateTreasury", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]]] UpdateTreasury(System.Guid, ModularERP.Modules.Finance.Features.Treasuries.DTO.UpdateTreasuryDto) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:22:26.187 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:22:26.189 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.UpdateTreasury (ModularERP) in 48.566ms
2025-09-23 23:22:26.191 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.UpdateTreasury (ModularERP)'
2025-09-23 23:22:26.192 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:22:26.193 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7168/api/Treasury/17848960-8cff-4a76-8f5e-4a604b151aee - 200 null application/json; charset=utf-8 74.1425ms
2025-09-23 23:23:14.817 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7168/api/Treasury/17848960-8cff-4a76-8f5e-4a604b151aee - null null
2025-09-23 23:23:14.822 +03:00 [INF] Request started
2025-09-23 23:23:14.824 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:23:14.826 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.DeleteTreasury (ModularERP)'
2025-09-23 23:23:14.830 +03:00 [INF] Route matched with {action = "DeleteTreasury", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Boolean]]] DeleteTreasury(System.Guid) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:23:14.866 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Boolean, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:23:14.868 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.DeleteTreasury (ModularERP) in 35.0691ms
2025-09-23 23:23:14.870 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.DeleteTreasury (ModularERP)'
2025-09-23 23:23:14.872 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:23:14.873 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7168/api/Treasury/17848960-8cff-4a76-8f5e-4a604b151aee - 200 null application/json; charset=utf-8 56.2562ms
2025-09-23 23:25:44.450 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Treasury/by-company/{68fb2d3e-f077-4fae-93dc-f26636de8643} - null null
2025-09-23 23:25:44.454 +03:00 [INF] Request started
2025-09-23 23:25:44.455 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:25:44.456 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuriesByCompany (ModularERP)'
2025-09-23 23:25:44.467 +03:00 [INF] Route matched with {action = "GetTreasuriesByCompany", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto]]]] GetTreasuriesByCompany(System.Guid, Int32, Int32) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:25:44.492 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:25:44.496 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuriesByCompany (ModularERP) in 25.3645ms
2025-09-23 23:25:44.497 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuriesByCompany (ModularERP)'
2025-09-23 23:25:44.499 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:25:44.500 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Treasury/by-company/{68fb2d3e-f077-4fae-93dc-f26636de8643} - 200 null application/json; charset=utf-8 49.6582ms
2025-09-23 23:26:11.238 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Treasury/by-company/{67fb2d3e-f077-4fae-93dc-f26636de8643} - null null
2025-09-23 23:26:11.241 +03:00 [INF] Request started
2025-09-23 23:26:11.242 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:26:11.243 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuriesByCompany (ModularERP)'
2025-09-23 23:26:11.245 +03:00 [INF] Route matched with {action = "GetTreasuriesByCompany", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto]]]] GetTreasuriesByCompany(System.Guid, Int32, Int32) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:26:11.251 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:26:11.254 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuriesByCompany (ModularERP) in 6.487ms
2025-09-23 23:26:11.256 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuriesByCompany (ModularERP)'
2025-09-23 23:26:11.257 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:26:11.258 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Treasury/by-company/{67fb2d3e-f077-4fae-93dc-f26636de8643} - 200 null application/json; charset=utf-8 19.8289ms
2025-09-23 23:26:17.555 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Treasury/by-company/{68fb2d3e-f077-4fae-93dc-f26636de8643} - null null
2025-09-23 23:26:17.559 +03:00 [INF] Request started
2025-09-23 23:26:17.560 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:26:17.561 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuriesByCompany (ModularERP)'
2025-09-23 23:26:17.562 +03:00 [INF] Route matched with {action = "GetTreasuriesByCompany", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[System.Collections.Generic.IEnumerable`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto]]]] GetTreasuriesByCompany(System.Guid, Int32, Int32) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:26:17.571 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[System.Collections.Generic.IEnumerable`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryListDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-23 23:26:17.574 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuriesByCompany (ModularERP) in 8.4344ms
2025-09-23 23:26:17.575 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuriesByCompany (ModularERP)'
2025-09-23 23:26:17.577 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:26:17.578 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Treasury/by-company/{68fb2d3e-f077-4fae-93dc-f26636de8643} - 200 null application/json; charset=utf-8 22.6648ms
2025-09-23 23:28:34.606 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Treasury/statistics - null null
2025-09-23 23:28:34.610 +03:00 [INF] Request started
2025-09-23 23:28:34.612 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:28:34.613 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuryStatistics (ModularERP)'
2025-09-23 23:28:34.616 +03:00 [INF] Route matched with {action = "GetTreasuryStatistics", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryStatisticsDto]]] GetTreasuryStatistics(System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:28:34.640 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryStatisticsDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 23:28:34.646 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuryStatistics (ModularERP) in 26.5946ms
2025-09-23 23:28:34.649 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuryStatistics (ModularERP)'
2025-09-23 23:28:34.650 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:28:34.652 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Treasury/statistics - 200 null application/json; charset=utf-8 45.2075ms
2025-09-23 23:28:52.124 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/Treasury - application/json 208
2025-09-23 23:28:52.127 +03:00 [INF] Request started
2025-09-23 23:28:52.129 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:28:52.130 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.CreateTreasury (ModularERP)'
2025-09-23 23:28:52.131 +03:00 [INF] Route matched with {action = "CreateTreasury", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryCreatedDto]]] CreateTreasury(ModularERP.Modules.Finance.Features.Treasuries.DTO.CreateTreasuryDto) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:28:52.161 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryCreatedDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 23:28:52.163 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.CreateTreasury (ModularERP) in 27.7904ms
2025-09-23 23:28:52.165 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.CreateTreasury (ModularERP)'
2025-09-23 23:28:52.167 +03:00 [INF] Request completed successfully with status code 201
2025-09-23 23:28:52.168 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/Treasury - 201 null application/json; charset=utf-8 43.9592ms
2025-09-23 23:28:55.839 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/Treasury/statistics - null null
2025-09-23 23:28:55.842 +03:00 [INF] Request started
2025-09-23 23:28:55.843 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:28:55.844 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuryStatistics (ModularERP)'
2025-09-23 23:28:55.846 +03:00 [INF] Route matched with {action = "GetTreasuryStatistics", controller = "Treasury"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryStatisticsDto]]] GetTreasuryStatistics(System.Nullable`1[System.Guid]) on controller ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController (ModularERP).
2025-09-23 23:28:55.863 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.Treasuries.DTO.TreasuryStatisticsDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 23:28:55.865 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuryStatistics (ModularERP) in 16.7448ms
2025-09-23 23:28:55.867 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.Treasuries.Controllers.TreasuryController.GetTreasuryStatistics (ModularERP)'
2025-09-23 23:28:55.869 +03:00 [INF] Request completed successfully with status code 200
2025-09-23 23:28:55.870 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/Treasury/statistics - 200 null application/json; charset=utf-8 31.0013ms
2025-09-23 23:35:35.581 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/ExpenseVouchers?Code=INC-125468&Date=2025-09-18T19:22:40.318Z&CurrencyCode=EGP&FxRate=1.0&Amount=600&Description=anu&CategoryId=f8cd0c63-50d7-4a69-a344-bc53be110f77&RecurrenceId=7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe - multipart/form-data; boundary=--------------------------522040426205057403857194 1685
2025-09-23 23:35:35.588 +03:00 [INF] Request started
2025-09-23 23:35:35.590 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:35:35.592 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-23 23:35:35.598 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]]] CreateExpenseVoucher(System.String, System.DateTime, System.String, System.Decimal, System.Decimal, System.String, System.Guid, System.Nullable`1[System.Guid], System.String, System.Guid, System.String, System.String, System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-23 23:35:35.668 +03:00 [INF] Start creating expense voucher with data: {"Code":"EXP-14555","Date":"2025-09-18T19:22:40.3180000Z","Amount":500,"Description":"ant","CategoryId":"f8cd0c63-50d7-4a69-a344-bc53be110f77","Source":{"Type":"BankAccount","Id":"4fe6e0a3-b441-45f6-96a4-0a1c499bbe56","$type":"WalletDto"},"Counterparty":{"Type":"Vendor","Id":"3fa85f64-5717-4562-b3fc-2c963f66afa6","$type":"CounterpartyDto"},"TaxLinesCount":1,"AttachmentsCount":0}
2025-09-23 23:35:35.700 +03:00 [INF] Validation passed successfully.
2025-09-23 23:35:35.723 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 23:35:35.729 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 127.0768ms
2025-09-23 23:35:35.732 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-23 23:35:35.733 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 23:35:35.735 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/ExpenseVouchers?Code=INC-125468&Date=2025-09-18T19:22:40.318Z&CurrencyCode=EGP&FxRate=1.0&Amount=600&Description=anu&CategoryId=f8cd0c63-50d7-4a69-a344-bc53be110f77&RecurrenceId=7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe - 400 null application/json; charset=utf-8 153.4551ms
2025-09-23 23:36:10.548 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/ExpenseVouchers?Code=INC-125468&Date=2025-09-18T19:22:40.318Z&CurrencyCode=EGP&FxRate=1.0&Amount=600&Description=anu&CategoryId=f8cd0c63-50d7-4a69-a344-bc53be110f77&RecurrenceId=7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe - multipart/form-data; boundary=--------------------------213247793270513301797803 1685
2025-09-23 23:36:10.552 +03:00 [INF] Request started
2025-09-23 23:36:10.553 +03:00 [INF] Processing request for tenant: 7579736e-aa3f-49f9-9c55-d416d15bbd8c
2025-09-23 23:36:10.554 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-23 23:36:10.555 +03:00 [INF] Route matched with {action = "CreateExpenseVoucher", controller = "ExpenseVouchers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto]]] CreateExpenseVoucher(System.String, System.DateTime, System.String, System.Decimal, System.Decimal, System.String, System.Guid, System.Nullable`1[System.Guid], System.String, System.Guid, System.String, System.String, System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController (ModularERP).
2025-09-23 23:36:10.568 +03:00 [INF] Start creating expense voucher with data: {"Code":"EXP-14555","Date":"2025-09-18T19:22:40.3180000Z","Amount":500,"Description":"ant","CategoryId":"f8cd0c63-50d7-4a69-a344-bc53be110f77","Source":{"Type":"BankAccount","Id":"95cf80e4-c946-42fa-8d66-343f371b0987","$type":"WalletDto"},"Counterparty":{"Type":"Vendor","Id":"3fa85f64-5717-4562-b3fc-2c963f66afa6","$type":"CounterpartyDto"},"TaxLinesCount":1,"AttachmentsCount":0}
2025-09-23 23:36:10.580 +03:00 [INF] Validation passed successfully.
2025-09-23 23:36:10.590 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Finance.Features.ExpensesVoucher.DTO.ExpenseVoucherResponseDto, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-23 23:36:10.592 +03:00 [INF] Executed action ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP) in 33.9571ms
2025-09-23 23:36:10.594 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Finance.Features.ExpensesVoucher.Controllers.ExpenseVouchersController.CreateExpenseVoucher (ModularERP)'
2025-09-23 23:36:10.595 +03:00 [INF] Request completed successfully with status code 400
2025-09-23 23:36:10.596 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/ExpenseVouchers?Code=INC-125468&Date=2025-09-18T19:22:40.318Z&CurrencyCode=EGP&FxRate=1.0&Amount=600&Description=anu&CategoryId=f8cd0c63-50d7-4a69-a344-bc53be110f77&RecurrenceId=7b6fd5d0-11ec-43b6-b9d6-eba78273f3fe - 400 null application/json; charset=utf-8 48.5538ms
