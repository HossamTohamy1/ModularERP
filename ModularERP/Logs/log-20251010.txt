2025-10-10 16:45:20.781 +03:00 [INF] Starting web host...
2025-10-10 16:45:26.688 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 16:45:26.766 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 16:45:26.884 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 16:45:26.890 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 16:45:26.900 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 16:45:26.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 16:45:27.002 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 16:45:27.006 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 16:45:27.017 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 16:45:27.034 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 16:45:27.041 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 16:45:27.294 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 16:45:27.306 +03:00 [INF] Master database initialized successfully
2025-10-10 16:45:29.489 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 16:45:29.725 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 16:45:29.727 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 16:45:29.818 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 16:45:29.820 +03:00 [INF] Hosting environment: Development
2025-10-10 16:45:29.822 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 16:45:30.693 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 16:45:31.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 871.659ms
2025-10-10 16:45:31.611 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 16:45:31.620 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 16:45:31.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 13.9297ms
2025-10-10 16:45:31.821 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 200.9729ms
2025-10-10 16:45:32.202 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 16:45:32.660 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 458.1243ms
2025-10-10 16:56:44.405 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 303
2025-10-10 16:56:44.463 +03:00 [INF] Request started
2025-10-10 16:56:44.476 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 16:56:44.480 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:56:44.506 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 16:56:44.512 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 16:56:44.596 +03:00 [WRN] Validation failed for CalculatePriceCommand. Errors: [{"PropertyName":"Quantity","ErrorMessage":"Quantity must be greater than zero"},{"PropertyName":"TransactionType","ErrorMessage":"Transaction type must be Sale, Purchase, or Quote"}]
2025-10-10 16:56:44.611 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 99.6287ms
2025-10-10 16:56:44.614 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:56:44.621 +03:00 [WRN] Validation exception occurred: Validation failed. Validation errors: {"Quantity":["Quantity must be greater than zero"],"TransactionType":["Transaction type must be Sale, Purchase, or Quote"]}
ModularERP.Common.Exceptions.ValidationException: Validation failed
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 44
   at ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate(CalculatePriceCommand command) in E:\ModelerERP\ModularERP\ModularERP\Modules\Inventory\Features\PriceLists\Controllers\PriceCalculationController.cs:line 29
   at lambda_method94(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Program.<>c.<<Main>b__0_4>d.MoveNext() in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 229
--- End of stack trace from previous location ---
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in E:\ModelerERP\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-10-10 16:56:44.697 +03:00 [INF] Error response sent with status code 400
2025-10-10 16:56:44.713 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 400 null application/json; charset=utf-8 307.6756ms
2025-10-10 16:57:29.016 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 16:57:29.025 +03:00 [INF] Request started
2025-10-10 16:57:29.029 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 16:57:29.030 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:57:29.032 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 16:57:29.143 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 16:57:29.571 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 16:57:29.780 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 16:57:29.794 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 759.3684ms
2025-10-10 16:57:29.796 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:57:29.798 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 16:57:29.801 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 785.4334ms
2025-10-10 16:58:10.439 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 16:58:10.445 +03:00 [INF] Request started
2025-10-10 16:58:10.447 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 16:58:10.447 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:58:10.450 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 16:58:10.466 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 16:58:10.469 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 16.3537ms
2025-10-10 16:58:10.470 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:58:10.472 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 16:58:10.474 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 34.7586ms
2025-10-10 16:58:51.587 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 16:58:51.590 +03:00 [INF] Request started
2025-10-10 16:58:51.591 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 16:58:51.593 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:58:51.594 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 16:58:51.610 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 16:58:51.614 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 16.4614ms
2025-10-10 16:58:51.616 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:58:51.617 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 16:58:51.618 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 31.6267ms
2025-10-10 16:58:52.370 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 16:58:52.374 +03:00 [INF] Request started
2025-10-10 16:58:52.376 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 16:58:52.377 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:58:52.379 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 16:58:52.385 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 16:58:52.387 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 5.9017ms
2025-10-10 16:58:52.389 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:58:52.390 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 16:58:52.391 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 21.085ms
2025-10-10 16:58:53.285 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 16:58:53.289 +03:00 [INF] Request started
2025-10-10 16:58:53.290 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 16:58:53.291 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:58:53.292 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 16:58:53.299 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 16:58:53.301 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 6.0352ms
2025-10-10 16:58:53.303 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 16:58:53.305 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 16:58:53.306 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 20.9537ms
2025-10-10 17:06:14.800 +03:00 [INF] Starting web host...
2025-10-10 17:06:15.992 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:06:16.042 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 17:06:16.123 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:06:16.129 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 17:06:16.133 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 17:06:16.190 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 17:06:16.206 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:06:16.210 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 17:06:16.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 17:06:16.227 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 17:06:16.231 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 17:06:16.400 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 17:06:16.408 +03:00 [INF] Master database initialized successfully
2025-10-10 17:06:17.804 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 17:06:17.915 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 17:06:17.917 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 17:06:18.047 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 17:06:18.049 +03:00 [INF] Hosting environment: Development
2025-10-10 17:06:18.050 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 17:06:18.294 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 17:06:18.490 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 197.4209ms
2025-10-10 17:06:18.505 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 17:06:18.505 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 17:06:18.516 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 11.0726ms
2025-10-10 17:06:18.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.1231ms
2025-10-10 17:06:18.722 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 17:06:18.859 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.5499ms
2025-10-10 17:06:22.663 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:06:22.685 +03:00 [INF] Request started
2025-10-10 17:06:22.689 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:06:22.691 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:06:22.707 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:06:22.712 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:06:22.861 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 17:06:23.311 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:06:23.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:06:23.492 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 779.3383ms
2025-10-10 17:06:23.495 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:06:23.497 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:06:23.503 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 840.9467ms
2025-10-10 17:06:33.673 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:06:33.681 +03:00 [INF] Request started
2025-10-10 17:06:33.685 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:06:33.687 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:06:33.688 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:06:33.702 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:06:33.705 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 13.9961ms
2025-10-10 17:06:33.708 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:06:33.710 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:06:33.711 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 38.75ms
2025-10-10 17:07:55.149 +03:00 [INF] Starting web host...
2025-10-10 17:07:56.080 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:07:56.119 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 17:07:56.186 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:07:56.191 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 17:07:56.196 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 17:07:56.249 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 17:07:56.265 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:07:56.270 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 17:07:56.277 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 17:07:56.291 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 17:07:56.296 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 17:07:56.455 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 17:07:56.463 +03:00 [INF] Master database initialized successfully
2025-10-10 17:07:57.792 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 17:07:57.892 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 17:07:57.893 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 17:07:57.962 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 17:07:57.964 +03:00 [INF] Hosting environment: Development
2025-10-10 17:07:57.965 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 17:07:58.056 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 17:07:58.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 148.5852ms
2025-10-10 17:07:58.205 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 17:07:58.205 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 17:07:58.215 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 9.7357ms
2025-10-10 17:07:58.240 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.4211ms
2025-10-10 17:07:58.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 17:07:58.434 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.3174ms
2025-10-10 17:08:01.788 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:08:01.806 +03:00 [INF] Request started
2025-10-10 17:08:01.812 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:08:01.815 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:08:01.833 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:08:01.839 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:08:01.938 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 17:08:02.239 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:08:02.358 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:08:02.396 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 555.5513ms
2025-10-10 17:08:02.399 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:08:02.403 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:08:02.410 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 622.2395ms
2025-10-10 17:08:05.168 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:08:05.178 +03:00 [INF] Request started
2025-10-10 17:08:05.182 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:08:05.183 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:08:05.185 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:08:05.218 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:08:05.220 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 30.5897ms
2025-10-10 17:08:05.222 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:08:05.224 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:08:05.226 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 58.7528ms
2025-10-10 17:10:29.951 +03:00 [INF] Starting web host...
2025-10-10 17:10:31.006 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:10:31.048 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 17:10:31.144 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:10:31.149 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 17:10:31.153 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 17:10:31.211 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 17:10:31.227 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:10:31.231 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 17:10:31.238 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 17:10:31.249 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 17:10:31.253 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 17:10:31.500 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 17:10:31.511 +03:00 [INF] Master database initialized successfully
2025-10-10 17:10:33.149 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 17:10:33.246 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 17:10:33.248 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 17:10:33.317 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 17:10:33.319 +03:00 [INF] Hosting environment: Development
2025-10-10 17:10:33.320 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 17:10:33.390 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 17:10:33.552 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 162.8899ms
2025-10-10 17:10:33.555 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 17:10:33.555 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 17:10:33.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.8043ms
2025-10-10 17:10:33.586 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.2593ms
2025-10-10 17:10:33.653 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 17:10:33.798 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.825ms
2025-10-10 17:10:34.757 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:10:34.774 +03:00 [INF] Request started
2025-10-10 17:10:34.780 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:10:34.784 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:10:34.812 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:10:34.819 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:10:34.929 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 17:10:35.328 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:10:35.453 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:10:35.476 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 657.3579ms
2025-10-10 17:10:35.479 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:10:35.481 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:10:35.486 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 729.0413ms
2025-10-10 17:10:37.937 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:10:37.946 +03:00 [INF] Request started
2025-10-10 17:10:37.950 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:10:37.951 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:10:37.954 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:10:37.973 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:10:37.976 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 19.2123ms
2025-10-10 17:10:37.978 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:10:37.980 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:10:37.981 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 44.2943ms
2025-10-10 17:11:20.961 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-list-assignments - application/json 136
2025-10-10 17:11:20.965 +03:00 [INF] Request started
2025-10-10 17:11:20.966 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:11:20.967 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceListAssignmentsController.Create (ModularERP)'
2025-10-10 17:11:20.973 +03:00 [INF] Route matched with {action = "Create", controller = "PriceListAssignments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceListAssignment.CreatePriceListAssignmentDto) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceListAssignmentsController (ModularERP).
2025-10-10 17:11:21.012 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceListAssignmentsController.Create (ModularERP) in 34.4814ms
2025-10-10 17:11:21.014 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceListAssignmentsController.Create (ModularERP)'
2025-10-10 17:11:21.018 +03:00 [WRN] Business logic exception occurred: This entity is already assigned to the selected price list
ModularERP.Common.Exceptions.BusinessLogicException: This entity is already assigned to the selected price list
   at ModularERP.Modules.Inventory.Features.PriceLists.Handlers.Handlers_PriceListAssignment.CreatePriceListAssignmentHandler.Handle(CreatePriceListAssignmentCommand request, CancellationToken ct) in E:\ModelerERP\ModularERP\ModularERP\Modules\Inventory\Features\PriceLists\Handlers\Handlers_PriceListAssignment\CreatePriceListAssignmentHandler.cs:line 58
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceListAssignmentsController.Create(CreatePriceListAssignmentDto dto) in E:\ModelerERP\ModularERP\ModularERP\Modules\Inventory\Features\PriceLists\Controllers\PriceListAssignmentsController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Program.<>c.<<Main>b__0_4>d.MoveNext() in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 229
--- End of stack trace from previous location ---
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in E:\ModelerERP\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-10-10 17:11:21.048 +03:00 [INF] Error response sent with status code 400
2025-10-10 17:11:21.050 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-list-assignments - 400 null application/json; charset=utf-8 89.1976ms
2025-10-10 17:12:13.091 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:12:13.095 +03:00 [INF] Request started
2025-10-10 17:12:13.096 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:12:13.097 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:12:13.099 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:12:13.113 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:12:13.116 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 14.8368ms
2025-10-10 17:12:13.118 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:12:13.119 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:12:13.121 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 29.6105ms
2025-10-10 17:14:03.048 +03:00 [INF] Starting web host...
2025-10-10 17:14:04.000 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:14:04.043 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 17:14:04.124 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:14:04.140 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 17:14:04.150 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 17:14:04.250 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 17:14:04.267 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:14:04.271 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 17:14:04.278 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 17:14:04.288 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 17:14:04.291 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 17:14:04.469 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 17:14:04.476 +03:00 [INF] Master database initialized successfully
2025-10-10 17:14:05.823 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 17:14:05.925 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 17:14:05.927 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 17:14:05.997 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 17:14:05.999 +03:00 [INF] Hosting environment: Development
2025-10-10 17:14:06.001 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 17:14:06.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 17:14:06.583 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 116.2388ms
2025-10-10 17:14:06.624 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 17:14:06.624 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 17:14:06.630 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 5.5202ms
2025-10-10 17:14:06.651 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.9917ms
2025-10-10 17:14:06.698 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 17:14:06.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.6111ms
2025-10-10 17:14:12.175 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:14:12.197 +03:00 [INF] Request started
2025-10-10 17:14:12.202 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:14:12.205 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:14:12.220 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:14:12.226 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:14:12.347 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 17:14:12.707 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:14:12.843 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:14:12.875 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 648.7386ms
2025-10-10 17:14:12.879 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:14:12.882 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:14:12.889 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 714.0459ms
2025-10-10 17:14:13.735 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:14:13.744 +03:00 [INF] Request started
2025-10-10 17:14:13.749 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:14:13.750 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:14:13.751 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:14:13.769 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:14:13.771 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 15.872ms
2025-10-10 17:14:13.774 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:14:13.776 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:14:13.779 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 44.1556ms
2025-10-10 17:14:14.599 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:14:14.604 +03:00 [INF] Request started
2025-10-10 17:14:14.606 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:14:14.607 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:14:14.608 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:14:14.616 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:14:14.618 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 7.8187ms
2025-10-10 17:14:14.620 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:14:14.622 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:14:14.624 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 24.6498ms
2025-10-10 17:14:15.315 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:14:15.318 +03:00 [INF] Request started
2025-10-10 17:14:15.319 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:14:15.321 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:14:15.323 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:14:15.329 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:14:15.331 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 5.1504ms
2025-10-10 17:14:15.332 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:14:15.334 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:14:15.335 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 19.9855ms
2025-10-10 17:17:19.716 +03:00 [INF] Starting web host...
2025-10-10 17:17:20.626 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:17:20.666 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 17:17:20.737 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:17:20.743 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 17:17:20.747 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 17:17:20.800 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 17:17:20.815 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:17:20.819 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 17:17:20.826 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 17:17:20.837 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 17:17:20.842 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 17:17:21.003 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 17:17:21.010 +03:00 [INF] Master database initialized successfully
2025-10-10 17:17:22.317 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 17:17:22.415 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 17:17:22.417 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 17:17:22.495 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 17:17:22.497 +03:00 [INF] Hosting environment: Development
2025-10-10 17:17:22.499 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 17:17:22.668 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 17:17:22.824 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 156.5829ms
2025-10-10 17:17:22.826 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 17:17:22.826 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 17:17:22.835 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 8.911ms
2025-10-10 17:17:22.863 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.8179ms
2025-10-10 17:17:23.053 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 17:17:23.216 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.3376ms
2025-10-10 17:17:30.993 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:17:31.009 +03:00 [INF] Request started
2025-10-10 17:17:31.013 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:17:31.016 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:17:31.031 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:17:31.037 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:17:31.217 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 17:17:31.504 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:17:31.626 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:17:31.649 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 611.8455ms
2025-10-10 17:17:31.652 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:17:31.654 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:17:31.660 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 666.8753ms
2025-10-10 17:17:33.624 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:17:33.632 +03:00 [INF] Request started
2025-10-10 17:17:33.635 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:17:33.636 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:17:33.638 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:17:33.650 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:17:33.653 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 11.7253ms
2025-10-10 17:17:33.656 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:17:33.657 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:17:33.659 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 34.8432ms
2025-10-10 17:18:43.487 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:18:43.493 +03:00 [INF] Request started
2025-10-10 17:18:43.494 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:18:43.495 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:18:43.496 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:18:43.512 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:18:43.518 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 15.5395ms
2025-10-10 17:18:43.520 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:18:43.522 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:18:43.523 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 36.0478ms
2025-10-10 17:18:44.769 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:18:44.773 +03:00 [INF] Request started
2025-10-10 17:18:44.774 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:18:44.775 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:18:44.777 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:18:44.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:18:44.788 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 5.8407ms
2025-10-10 17:18:44.792 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:18:44.794 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:18:44.795 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 25.4364ms
2025-10-10 17:18:48.742 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:18:48.748 +03:00 [INF] Request started
2025-10-10 17:18:48.750 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:18:48.751 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:18:48.754 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:18:48.761 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:18:48.766 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 8.2257ms
2025-10-10 17:18:48.769 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:18:48.771 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:18:48.774 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 31.7112ms
2025-10-10 17:21:52.594 +03:00 [INF] Starting web host...
2025-10-10 17:21:56.412 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:21:56.511 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 17:21:56.712 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:21:56.719 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 17:21:56.724 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 17:21:56.807 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 17:21:56.830 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:21:56.835 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 17:21:56.843 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 17:21:56.859 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 17:21:56.864 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 17:21:57.118 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 17:21:57.127 +03:00 [INF] Master database initialized successfully
2025-10-10 17:21:58.997 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 17:21:59.311 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 17:21:59.313 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 17:21:59.402 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 17:21:59.405 +03:00 [INF] Hosting environment: Development
2025-10-10 17:21:59.406 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 17:21:59.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 17:22:00.401 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 17:22:00.403 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 17:22:00.404 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 499.2084ms
2025-10-10 17:22:00.459 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 57.7819ms
2025-10-10 17:22:00.505 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.5036ms
2025-10-10 17:22:00.790 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 17:22:01.090 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 300.3948ms
2025-10-10 17:22:07.113 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:22:07.126 +03:00 [INF] Request started
2025-10-10 17:22:07.132 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:22:07.136 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:22:07.161 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:22:07.169 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:22:07.322 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 17:22:07.681 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:25:11.707 +03:00 [INF] Starting web host...
2025-10-10 17:25:12.656 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:25:12.697 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 17:25:12.785 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:25:12.790 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 17:25:12.795 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 17:25:12.851 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 17:25:12.866 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 17:25:12.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 17:25:12.878 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 17:25:12.890 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 17:25:12.895 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 17:25:13.052 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 17:25:13.059 +03:00 [INF] Master database initialized successfully
2025-10-10 17:25:14.377 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 17:25:14.476 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 17:25:14.478 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 17:25:14.548 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 17:25:14.550 +03:00 [INF] Hosting environment: Development
2025-10-10 17:25:14.551 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 17:25:14.747 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 17:25:14.897 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 152.6979ms
2025-10-10 17:25:14.903 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 17:25:14.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 17:25:14.921 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 17.4679ms
2025-10-10 17:25:14.945 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.2023ms
2025-10-10 17:25:15.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 17:25:15.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.3582ms
2025-10-10 17:25:19.856 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 17:25:19.878 +03:00 [INF] Request started
2025-10-10 17:25:19.883 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 17:25:19.886 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:25:19.910 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 17:25:19.914 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:25:20.069 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 17:25:20.474 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 17:25:20.611 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 17:25:20.640 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 725.5335ms
2025-10-10 17:25:20.643 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 17:25:20.645 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 17:25:20.650 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 794.0677ms
2025-10-10 21:14:03.591 +03:00 [INF] Starting web host...
2025-10-10 21:14:11.443 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:14:11.551 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 21:14:11.765 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:14:11.778 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 21:14:11.829 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 21:14:11.956 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 21:14:11.995 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:14:12.013 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 21:14:12.038 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 21:14:12.076 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 21:14:12.086 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 21:14:12.387 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 21:14:12.396 +03:00 [INF] Master database initialized successfully
2025-10-10 21:14:16.285 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 21:14:16.681 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 21:14:16.684 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 21:14:16.798 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 21:14:16.800 +03:00 [INF] Hosting environment: Development
2025-10-10 21:14:16.802 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 21:14:17.414 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 21:14:17.698 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 286.8481ms
2025-10-10 21:14:17.707 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 21:14:17.707 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 21:14:17.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 28.8864ms
2025-10-10 21:14:17.781 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.7425ms
2025-10-10 21:14:17.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 21:14:18.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 271.0668ms
2025-10-10 21:14:21.081 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:14:21.113 +03:00 [INF] Request started
2025-10-10 21:14:21.120 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:14:21.124 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:14:21.155 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:14:21.164 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:14:21.358 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 21:14:22.225 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:14:22.568 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 21:14:22.622 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 1457.2276ms
2025-10-10 21:14:22.627 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:14:22.636 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 21:14:22.648 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 1566.737ms
2025-10-10 21:16:22.857 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:16:22.872 +03:00 [INF] Request started
2025-10-10 21:16:22.876 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:16:22.879 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:16:22.882 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:16:22.922 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 21:16:22.927 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 38.9551ms
2025-10-10 21:16:22.930 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:16:22.933 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 21:16:22.935 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 77.9855ms
2025-10-10 21:16:28.676 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 293
2025-10-10 21:16:28.685 +03:00 [INF] Request started
2025-10-10 21:16:28.688 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:16:28.689 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:16:28.692 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:16:28.717 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-10 21:16:28.741 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 45.1073ms
2025-10-10 21:16:28.745 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:16:28.748 +03:00 [INF] Request completed successfully with status code 400
2025-10-10 21:16:28.749 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 400 null application/problem+json; charset=utf-8 72.607ms
2025-10-10 21:16:39.025 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:16:39.038 +03:00 [INF] Request started
2025-10-10 21:16:39.042 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:16:39.047 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:16:39.052 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:16:39.082 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 21:16:39.089 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 28.1281ms
2025-10-10 21:16:39.096 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:16:39.102 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 21:16:39.107 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 82.3146ms
2025-10-10 21:17:45.581 +03:00 [INF] Starting web host...
2025-10-10 21:17:49.480 +03:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:17:49.660 +03:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 21:17:49.828 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:17:49.861 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 21:17:49.888 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 21:17:49.992 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 21:17:50.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:17:50.033 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 21:17:50.047 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 21:17:50.070 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 21:17:50.081 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 21:17:50.421 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 21:17:50.446 +03:00 [INF] Master database initialized successfully
2025-10-10 21:17:53.675 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 21:17:54.098 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 21:17:54.106 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 21:17:54.379 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 21:17:54.385 +03:00 [INF] Hosting environment: Development
2025-10-10 21:17:54.387 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 21:17:54.819 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 21:17:55.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 522.3579ms
2025-10-10 21:17:55.361 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 21:17:55.404 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 21:17:55.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 12.83ms
2025-10-10 21:17:55.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.9229ms
2025-10-10 21:17:55.698 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 21:17:55.969 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 270.5879ms
2025-10-10 21:18:01.740 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:18:01.772 +03:00 [INF] Request started
2025-10-10 21:18:01.782 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:18:01.788 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:18:01.864 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:18:01.903 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:18:02.348 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 21:18:03.473 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:19:59.427 +03:00 [INF] Starting web host...
2025-10-10 21:20:01.387 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:20:01.586 +03:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 21:20:01.776 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:20:01.784 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 21:20:01.803 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 21:20:01.908 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 21:20:01.933 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:20:01.938 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 21:20:01.949 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 21:20:01.965 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 21:20:01.972 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 21:20:02.345 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 21:20:02.373 +03:00 [INF] Master database initialized successfully
2025-10-10 21:20:04.971 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 21:20:05.163 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 21:20:05.166 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 21:20:05.270 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 21:20:05.273 +03:00 [INF] Hosting environment: Development
2025-10-10 21:20:05.275 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 21:20:05.702 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 21:20:05.904 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 203.093ms
2025-10-10 21:20:05.911 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 21:20:05.911 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 21:20:05.937 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 26.6366ms
2025-10-10 21:20:05.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.5001ms
2025-10-10 21:20:06.067 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 21:20:06.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 397.5581ms
2025-10-10 21:20:09.450 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:20:09.478 +03:00 [INF] Request started
2025-10-10 21:20:09.483 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:20:09.487 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:20:09.508 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:20:09.516 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:20:09.696 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 21:20:10.443 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:20:10.675 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 21:20:10.732 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 1212.1954ms
2025-10-10 21:20:10.736 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:20:10.741 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 21:20:10.763 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 1312.8622ms
2025-10-10 21:26:25.091 +03:00 [INF] Starting web host...
2025-10-10 21:26:28.961 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:26:29.204 +03:00 [INF] Executed DbCommand (209ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 21:26:29.383 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:26:29.392 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 21:26:29.411 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 21:26:29.558 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 21:26:29.604 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:26:29.619 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 21:26:29.648 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 21:26:29.690 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 21:26:29.703 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 21:26:30.036 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 21:26:30.099 +03:00 [INF] Master database initialized successfully
2025-10-10 21:26:33.957 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 21:26:34.542 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 21:26:34.544 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 21:26:34.722 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 21:26:34.725 +03:00 [INF] Hosting environment: Development
2025-10-10 21:26:34.727 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 21:26:35.368 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 21:26:35.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 491.5345ms
2025-10-10 21:26:35.856 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 21:26:35.876 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 21.612ms
2025-10-10 21:26:35.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 21:26:35.945 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.5053ms
2025-10-10 21:26:36.159 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 21:26:36.407 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 247.9191ms
2025-10-10 21:26:51.524 +03:00 [INF] Starting web host...
2025-10-10 21:26:55.640 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:26:55.778 +03:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 21:26:56.009 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:26:56.022 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 21:26:56.038 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 21:26:56.192 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 21:26:56.231 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:26:56.241 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 21:26:56.261 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 21:26:56.287 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 21:26:56.295 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 21:26:56.736 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 21:26:56.764 +03:00 [INF] Master database initialized successfully
2025-10-10 21:27:00.620 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 21:27:01.069 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 21:27:01.071 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 21:27:01.283 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 21:27:01.285 +03:00 [INF] Hosting environment: Development
2025-10-10 21:27:01.288 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 21:27:01.636 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 21:27:02.524 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 21:27:02.544 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 21:27:02.585 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 968.3972ms
2025-10-10 21:27:02.702 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 156.9598ms
2025-10-10 21:27:02.752 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 228.3154ms
2025-10-10 21:27:02.874 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 21:27:03.287 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 412.7844ms
2025-10-10 21:27:22.698 +03:00 [INF] Starting web host...
2025-10-10 21:27:26.623 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:27:26.789 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 21:27:27.040 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:27:27.048 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 21:27:27.055 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 21:27:27.169 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 21:27:27.197 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:27:27.203 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 21:27:27.217 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 21:27:27.246 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 21:27:27.254 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 21:27:27.661 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 21:27:27.701 +03:00 [INF] Master database initialized successfully
2025-10-10 21:27:30.886 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 21:27:31.452 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 21:27:31.454 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 21:27:31.605 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 21:27:31.608 +03:00 [INF] Hosting environment: Development
2025-10-10 21:27:31.611 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 21:27:32.508 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 21:27:33.024 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 528.2816ms
2025-10-10 21:27:33.036 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 21:27:33.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 21:27:33.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 40.323ms
2025-10-10 21:27:33.150 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 113.7544ms
2025-10-10 21:27:33.239 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 21:27:33.569 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 330.1411ms
2025-10-10 21:27:38.408 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:27:38.433 +03:00 [INF] Request started
2025-10-10 21:27:38.444 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:27:38.452 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:27:38.488 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:27:38.504 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:27:38.797 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 21:27:39.544 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:29:44.888 +03:00 [INF] Starting web host...
2025-10-10 21:29:48.562 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:29:48.717 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 21:29:48.843 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:29:48.854 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 21:29:48.863 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 21:29:48.981 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 21:29:49.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:29:49.062 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 21:29:49.104 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 21:29:49.174 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 21:29:49.187 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 21:29:49.781 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 21:29:49.839 +03:00 [INF] Master database initialized successfully
2025-10-10 21:29:54.372 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 21:29:54.981 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 21:29:54.983 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 21:29:55.186 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 21:29:55.189 +03:00 [INF] Hosting environment: Development
2025-10-10 21:29:55.191 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 21:29:55.942 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 21:29:56.390 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 464.1358ms
2025-10-10 21:29:56.415 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 21:29:56.429 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 13.6641ms
2025-10-10 21:29:56.436 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 21:29:56.505 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.1369ms
2025-10-10 21:29:56.658 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 21:29:57.004 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 345.7889ms
2025-10-10 21:29:58.948 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:29:58.972 +03:00 [INF] Request started
2025-10-10 21:29:58.979 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:29:58.984 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:29:59.019 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:29:59.035 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:29:59.345 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 21:30:00.060 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:31:03.398 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 64357.8196ms
2025-10-10 21:31:03.411 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:31:52.183 +03:00 [INF] Starting web host...
2025-10-10 21:31:55.605 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:31:55.757 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 21:31:55.924 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:31:55.934 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 21:31:55.942 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 21:31:56.036 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 21:31:56.061 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:31:56.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 21:31:56.090 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 21:31:56.115 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 21:31:56.123 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 21:31:56.611 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 21:31:56.662 +03:00 [INF] Master database initialized successfully
2025-10-10 21:32:01.617 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 21:32:02.200 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 21:32:02.202 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 21:32:02.426 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 21:32:02.433 +03:00 [INF] Hosting environment: Development
2025-10-10 21:32:02.450 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 21:32:03.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 21:32:03.724 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 377.7163ms
2025-10-10 21:32:03.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 21:32:03.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 21:32:03.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 31.2643ms
2025-10-10 21:32:03.805 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.5356ms
2025-10-10 21:32:03.910 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 21:32:04.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 333.8535ms
2025-10-10 21:32:10.132 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:32:10.162 +03:00 [INF] Request started
2025-10-10 21:32:10.178 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:32:10.188 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:32:10.264 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:32:10.295 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:32:10.742 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 21:32:11.975 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:37:27.158 +03:00 [INF] Starting web host...
2025-10-10 21:37:28.870 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:37:28.974 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 21:37:29.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:37:29.125 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 21:37:29.133 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 21:37:29.216 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 21:37:29.247 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 21:37:29.254 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 21:37:29.266 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 21:37:29.290 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 21:37:29.298 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 21:37:29.576 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 21:37:29.599 +03:00 [INF] Master database initialized successfully
2025-10-10 21:37:31.959 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 21:37:32.149 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 21:37:32.154 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 21:37:32.358 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 21:37:32.360 +03:00 [INF] Hosting environment: Development
2025-10-10 21:37:32.362 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 21:37:32.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 21:37:33.008 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 335.3416ms
2025-10-10 21:37:33.019 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 21:37:33.019 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 21:37:33.046 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 26.6749ms
2025-10-10 21:37:33.073 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.9197ms
2025-10-10 21:37:33.181 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 21:37:33.392 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 211.151ms
2025-10-10 21:37:35.808 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:37:35.870 +03:00 [INF] Request started
2025-10-10 21:37:35.887 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:37:35.896 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:37:35.968 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:37:35.994 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:37:36.389 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 21:37:37.575 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 21:37:38.122 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 21:37:38.221 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 2227.6029ms
2025-10-10 21:37:38.231 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:37:38.241 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 21:37:38.264 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 2456.1143ms
2025-10-10 21:40:27.880 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 21:40:27.896 +03:00 [INF] Request started
2025-10-10 21:40:27.905 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 21:40:27.908 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:40:27.916 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 21:40:28.427 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 21:40:28.435 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 507.2065ms
2025-10-10 21:40:28.443 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 21:40:28.451 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 21:40:28.456 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 200 null application/json; charset=utf-8 575.9562ms
2025-10-10 22:01:42.208 +03:00 [INF] Starting web host...
2025-10-10 22:01:44.020 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 22:01:44.146 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 22:01:44.249 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 22:01:44.259 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 22:01:44.277 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 22:01:44.370 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 22:01:44.393 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 22:01:44.399 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 22:01:44.412 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 22:01:44.428 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 22:01:44.437 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 22:01:44.735 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 22:01:44.759 +03:00 [INF] Master database initialized successfully
2025-10-10 22:01:47.203 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 22:01:47.426 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 22:01:47.429 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 22:01:47.513 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 22:01:47.549 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 22:01:47.552 +03:00 [INF] Hosting environment: Development
2025-10-10 22:01:47.553 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 22:01:47.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 191.1882ms
2025-10-10 22:01:47.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 22:01:47.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 22:01:47.735 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 23.263ms
2025-10-10 22:01:47.766 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.8553ms
2025-10-10 22:01:48.242 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 22:01:48.448 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 206.47ms
2025-10-10 22:02:17.164 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - application/json 296
2025-10-10 22:02:17.206 +03:00 [INF] Request started
2025-10-10 22:02:17.218 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:02:17.226 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 22:02:17.266 +03:00 [INF] Route matched with {action = "Calculate", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Calculate(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.CalculatePriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:02:17.281 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 22:02:17.731 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 22:02:18.878 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 22:02:19.221 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP) in 1937.4006ms
2025-10-10 22:02:19.229 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate (ModularERP)'
2025-10-10 22:02:19.241 +03:00 [WRN] Business logic exception occurred: The Price List (ID: bbd4b345-614f-4f99-aeb8-aea769a5d866) must have at least one active Price Rule before calculating prices.
ModularERP.Common.Exceptions.BusinessLogicException: The Price List (ID: bbd4b345-614f-4f99-aeb8-aea769a5d866) must have at least one active Price Rule before calculating prices.
   at ModularERP.Modules.Inventory.Features.PriceLists.Handlers.Handlers_PriceCalculation.CalculatePriceCommandHandler.Handle(CalculatePriceCommand request, CancellationToken ct) in E:\ModelerERP\ModularERP\ModularERP\Modules\Inventory\Features\PriceLists\Handlers\Handlers_PriceCalculation\CalculatePriceCommandHandler.cs:line 105
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Calculate(CalculatePriceCommand command) in E:\ModelerERP\ModularERP\ModularERP\Modules\Inventory\Features\PriceLists\Controllers\PriceCalculationController.cs:line 29
   at lambda_method94(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Program.<>c.<<Main>b__0_4>d.MoveNext() in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 229
--- End of stack trace from previous location ---
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in E:\ModelerERP\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-10-10 22:02:19.389 +03:00 [INF] Error response sent with status code 400
2025-10-10 22:02:19.406 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/calculate - 400 null application/json; charset=utf-8 2241.6038ms
2025-10-10 22:13:21.482 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/preview - application/json 222
2025-10-10 22:13:21.496 +03:00 [INF] Request started
2025-10-10 22:13:21.504 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:13:21.508 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Preview (ModularERP)'
2025-10-10 22:13:21.523 +03:00 [INF] Route matched with {action = "Preview", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Preview(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.PreviewPriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:13:21.728 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 22:13:21.773 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Preview (ModularERP) in 242.9796ms
2025-10-10 22:13:21.780 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Preview (ModularERP)'
2025-10-10 22:13:21.784 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 22:13:21.789 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/preview - 200 null application/json; charset=utf-8 306.3949ms
2025-10-10 22:13:55.548 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/preview - application/json 223
2025-10-10 22:13:55.557 +03:00 [INF] Request started
2025-10-10 22:13:55.560 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:13:55.563 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Preview (ModularERP)'
2025-10-10 22:13:55.566 +03:00 [INF] Route matched with {action = "Preview", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Preview(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.PreviewPriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:13:55.649 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 22:13:55.656 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Preview (ModularERP) in 84.7014ms
2025-10-10 22:13:55.665 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Preview (ModularERP)'
2025-10-10 22:13:55.671 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 22:13:55.676 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/preview - 200 null application/json; charset=utf-8 127.6115ms
2025-10-10 22:25:07.861 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7168/api/price-calculation/preview - application/json 223
2025-10-10 22:25:07.869 +03:00 [INF] Request started
2025-10-10 22:25:07.873 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:25:07.876 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Preview (ModularERP)'
2025-10-10 22:25:07.881 +03:00 [INF] Route matched with {action = "Preview", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO]]] Preview(ModularERP.Modules.Inventory.Features.PriceLists.Commends.Commands_PriceCalculation.PreviewPriceCommand) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:25:07.941 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceCalculationResultDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 22:25:07.948 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Preview (ModularERP) in 60.2324ms
2025-10-10 22:25:07.954 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.Preview (ModularERP)'
2025-10-10 22:25:07.959 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 22:25:07.965 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7168/api/price-calculation/preview - 200 null application/json; charset=utf-8 104.1684ms
2025-10-10 22:30:03.555 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6eef0d00-fb4f-4e08-8b3e-08de0680794f} - null null
2025-10-10 22:30:03.563 +03:00 [INF] Request started
2025-10-10 22:30:03.566 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:30:03.569 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:30:03.584 +03:00 [INF] Route matched with {action = "GetBreakdown", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO]]] GetBreakdown(System.Guid) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:30:03.713 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP) in 119.033ms
2025-10-10 22:30:03.718 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:30:03.724 +03:00 [ERR] Application exception occurred: No price calculation found for transaction 6eef0d00-fb4f-4e08-8b3e-08de0680794f
ModularERP.Common.Exceptions.NotFoundException: No price calculation found for transaction 6eef0d00-fb4f-4e08-8b3e-08de0680794f
   at ModularERP.Modules.Inventory.Features.PriceLists.Handlers.Handlers_PriceCalculation.GetPriceBreakdownQueryHandler.Handle(GetPriceBreakdownQuery request, CancellationToken ct) in E:\ModelerERP\ModularERP\ModularERP\Modules\Inventory\Features\PriceLists\Handlers\Handlers_PriceCalculation\GetPriceBreakdownQueryHandler.cs:line 36
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown(Guid transactionId) in E:\ModelerERP\ModularERP\ModularERP\Modules\Inventory\Features\PriceLists\Controllers\PriceCalculationController.cs:line 56
   at lambda_method180(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Program.<>c.<<Main>b__0_4>d.MoveNext() in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 229
--- End of stack trace from previous location ---
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in E:\ModelerERP\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-10-10 22:30:03.758 +03:00 [INF] Error response sent with status code 404
2025-10-10 22:30:03.762 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6eef0d00-fb4f-4e08-8b3e-08de0680794f} - 404 null application/json; charset=utf-8 206.5893ms
2025-10-10 22:30:39.587 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{80433702-3308-44c2-62ef-08de082c7bb9} - null null
2025-10-10 22:30:39.592 +03:00 [INF] Request started
2025-10-10 22:30:39.594 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:30:39.596 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:30:39.599 +03:00 [INF] Route matched with {action = "GetBreakdown", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO]]] GetBreakdown(System.Guid) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:30:39.631 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP) in 25.0668ms
2025-10-10 22:30:39.636 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:30:39.641 +03:00 [ERR] Application exception occurred: No price calculation found for transaction 80433702-3308-44c2-62ef-08de082c7bb9
ModularERP.Common.Exceptions.NotFoundException: No price calculation found for transaction 80433702-3308-44c2-62ef-08de082c7bb9
   at ModularERP.Modules.Inventory.Features.PriceLists.Handlers.Handlers_PriceCalculation.GetPriceBreakdownQueryHandler.Handle(GetPriceBreakdownQuery request, CancellationToken ct) in E:\ModelerERP\ModularERP\ModularERP\Modules\Inventory\Features\PriceLists\Handlers\Handlers_PriceCalculation\GetPriceBreakdownQueryHandler.cs:line 36
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Common.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in E:\ModelerERP\ModularERP\ModularERP\Common\Behaviors\ValidationBehavior.cs:line 48
   at ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown(Guid transactionId) in E:\ModelerERP\ModularERP\ModularERP\Modules\Inventory\Features\PriceLists\Controllers\PriceCalculationController.cs:line 56
   at lambda_method180(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ModularERP.Program.<>c.<<Main>b__0_4>d.MoveNext() in E:\ModelerERP\ModularERP\ModularERP\Program.cs:line 229
--- End of stack trace from previous location ---
   at ModularERP.Common.Middleware.GlobalErrorHandlerMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in E:\ModelerERP\ModularERP\ModularERP\Common\Middleware\GlobalErrorHandlerMiddleware.cs:line 40
2025-10-10 22:30:39.677 +03:00 [INF] Error response sent with status code 404
2025-10-10 22:30:39.681 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{80433702-3308-44c2-62ef-08de082c7bb9} - 404 null application/json; charset=utf-8 94.0866ms
2025-10-10 22:31:01.248 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6671ad9a-f284-49e7-8fd9-a8a5da96744d} - null null
2025-10-10 22:31:01.255 +03:00 [INF] Request started
2025-10-10 22:31:01.257 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:31:01.260 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:31:01.264 +03:00 [INF] Route matched with {action = "GetBreakdown", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO]]] GetBreakdown(System.Guid) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:31:01.284 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 22:31:01.305 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP) in 29.8503ms
2025-10-10 22:31:01.310 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:31:01.315 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 22:31:01.319 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6671ad9a-f284-49e7-8fd9-a8a5da96744d} - 200 null application/json; charset=utf-8 71.3321ms
2025-10-10 22:38:30.451 +03:00 [INF] Starting web host...
2025-10-10 22:38:32.441 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 22:38:32.559 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 22:38:32.713 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 22:38:32.729 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 22:38:32.759 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 22:38:32.905 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 22:38:32.940 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 22:38:32.952 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 22:38:32.968 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 22:38:32.984 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 22:38:32.996 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 22:38:33.347 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 22:38:33.369 +03:00 [INF] Master database initialized successfully
2025-10-10 22:38:36.200 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 22:38:36.367 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 22:38:36.370 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 22:38:36.502 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 22:38:36.505 +03:00 [INF] Hosting environment: Development
2025-10-10 22:38:36.507 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 22:38:36.609 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 22:38:36.823 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 214.4277ms
2025-10-10 22:38:36.828 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 22:38:36.828 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 22:38:36.841 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 12.2438ms
2025-10-10 22:38:36.876 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.2406ms
2025-10-10 22:38:37.295 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 22:38:37.642 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 347.5577ms
2025-10-10 22:38:50.522 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6671ad9a-f284-49e7-8fd9-a8a5da96744d} - null null
2025-10-10 22:38:50.552 +03:00 [INF] Request started
2025-10-10 22:38:50.563 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:38:50.568 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:38:50.593 +03:00 [INF] Route matched with {action = "GetBreakdown", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO]]] GetBreakdown(System.Guid) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:38:50.603 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 22:38:50.776 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 22:38:51.276 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 22:38:52.030 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 22:38:52.096 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP) in 1491.6344ms
2025-10-10 22:38:52.102 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:38:52.108 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 22:38:52.121 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6671ad9a-f284-49e7-8fd9-a8a5da96744d} - 200 null application/json; charset=utf-8 1598.9321ms
2025-10-10 22:48:17.927 +03:00 [INF] Starting web host...
2025-10-10 22:48:19.825 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 22:48:19.940 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-10-10 22:48:20.087 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 22:48:20.110 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-10 22:48:20.134 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-10 22:48:20.340 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-10 22:48:20.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-10 22:48:20.415 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-10 22:48:20.454 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-10 22:48:20.490 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-10-10 22:48:20.506 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-10 22:48:20.782 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [MasterCompanies] AS [m]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-10-10 22:48:20.804 +03:00 [INF] Master database initialized successfully
2025-10-10 22:48:23.946 +03:00 [INF] User profile is available. Using 'C:\Users\hossny D. monkey\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-10 22:48:24.271 +03:00 [INF] Now listening on: https://localhost:7168
2025-10-10 22:48:24.273 +03:00 [INF] Now listening on: http://localhost:5004
2025-10-10 22:48:24.475 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-10 22:48:24.479 +03:00 [INF] Hosting environment: Development
2025-10-10 22:48:24.483 +03:00 [INF] Content root path: E:\ModelerERP\ModularERP\ModularERP
2025-10-10 22:48:24.749 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/index.html - null null
2025-10-10 22:48:24.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/index.html - 200 null text/html;charset=utf-8 178.2848ms
2025-10-10 22:48:24.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - null null
2025-10-10 22:48:24.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/_vs/browserLink - null null
2025-10-10 22:48:24.945 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_framework/aspnetcore-browser-refresh.js - 200 16505 application/javascript; charset=utf-8 13.2397ms
2025-10-10 22:48:24.981 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.2466ms
2025-10-10 22:48:25.357 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - null null
2025-10-10 22:48:25.598 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7168/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 241.295ms
2025-10-10 22:48:29.692 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6671ad9a-f284-49e7-8fd9-a8a5da96744d} - null null
2025-10-10 22:48:29.718 +03:00 [INF] Request started
2025-10-10 22:48:29.726 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:48:29.730 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:48:29.762 +03:00 [INF] Route matched with {action = "GetBreakdown", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO]]] GetBreakdown(System.Guid) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:48:29.769 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 22:48:29.901 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__companyId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[CurrencyCode], [m].[DatabaseName], [m].[Name], [m].[Status]
FROM [MasterCompanies] AS [m]
WHERE [m].[Id] = @__companyId_0 AND [m].[Status] = N'Active'
2025-10-10 22:48:30.653 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software AutoMapper. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-10 22:48:31.113 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 22:48:31.198 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP) in 1427.354ms
2025-10-10 22:48:31.246 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:48:31.250 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 22:48:31.262 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6671ad9a-f284-49e7-8fd9-a8a5da96744d} - 200 null application/json; charset=utf-8 1569.805ms
2025-10-10 22:48:41.160 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6671ad9a-f284-49e7-8fd9-a8a5da96744d} - null null
2025-10-10 22:48:41.174 +03:00 [INF] Request started
2025-10-10 22:48:41.179 +03:00 [INF] Processing request for tenant: 8bed874f-cf2a-4ffa-a188-4cfef779774a
2025-10-10 22:48:41.182 +03:00 [INF] Executing endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:48:41.185 +03:00 [INF] Route matched with {action = "GetBreakdown", controller = "PriceCalculation"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ModularERP.Common.ViewModel.ResponseViewModel`1[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO]]] GetBreakdown(System.Guid) on controller ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController (ModularERP).
2025-10-10 22:48:41.222 +03:00 [INF] Executing OkObjectResult, writing value of type 'ModularERP.Common.ViewModel.ResponseViewModel`1[[ModularERP.Modules.Inventory.Features.PriceLists.DTO.DTO_PriceCalculation.PriceBreakdownDTO, ModularERP, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-10 22:48:41.229 +03:00 [INF] Executed action ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP) in 40.0481ms
2025-10-10 22:48:41.235 +03:00 [INF] Executed endpoint 'ModularERP.Modules.Inventory.Features.PriceLists.Controllers.PriceCalculationController.GetBreakdown (ModularERP)'
2025-10-10 22:48:41.239 +03:00 [INF] Request completed successfully with status code 200
2025-10-10 22:48:41.244 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7168/api/price-calculation/breakdown/{6671ad9a-f284-49e7-8fd9-a8a5da96744d} - 200 null application/json; charset=utf-8 83.3449ms
